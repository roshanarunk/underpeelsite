/*! For license information please see main.0f6ca206.js.LICENSE.txt */
!function(){var e={4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),i=n(7297),a=n(9301),o=n(9774),s=n(1804),u=n(9145),c=n(5411),l=n(6789),f=n(4531),h=n(6569),d=n(6261);e.exports=function(e){return new Promise((function(t,n){var p,v=e.data,m=e.headers,g=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(v)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var k=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+w)}var x=s(e.baseURL,e.url);function I(){if(k){var r="getAllResponseHeaders"in k?u(k.getAllResponseHeaders()):null,a={data:g&&"text"!==g&&"json"!==g?k.response:k.responseText,status:k.status,statusText:k.statusText,headers:r,config:e,request:k};i((function(e){t(e),y()}),(function(e){n(e),y()}),a),k=null}}if(k.open(e.method.toUpperCase(),o(x,e.params,e.paramsSerializer),!0),k.timeout=e.timeout,"onloadend"in k?k.onloadend=I:k.onreadystatechange=function(){k&&4===k.readyState&&(0!==k.status||k.responseURL&&0===k.responseURL.indexOf("file:"))&&setTimeout(I)},k.onabort=function(){k&&(n(new f("Request aborted",f.ECONNABORTED,e,k)),k=null)},k.onerror=function(){n(new f("Network Error",f.ERR_NETWORK,e,k,k)),k=null},k.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new f(t,r.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,k)),k=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||c(x))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;S&&(m[e.xsrfHeaderName]=S)}"setRequestHeader"in k&&r.forEach(m,(function(e,t){"undefined"===typeof v&&"content-type"===t.toLowerCase()?delete m[t]:k.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(k.withCredentials=!!e.withCredentials),g&&"json"!==g&&(k.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&k.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&k.upload&&k.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){k&&(n(!e||e&&e.type?new h:e),k.abort(),k=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),v||(v=null);var _=d(x);_&&-1===["http","https","file"].indexOf(_)?n(new f("Unsupported protocol "+_+":",f.ERR_BAD_REQUEST,e)):k.send(v)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),a=n(3773),o=n(777);var s=function e(t){var n=new a(t),s=i(a.prototype.request,n);return r.extend(s,a.prototype,n),r.extend(s,n),s.create=function(n){return e(o(t,n))},s}(n(1709));s.Axios=a,s.CanceledError=n(6569),s.CancelToken=n(6857),s.isCancel=n(5517),s.VERSION=n(7600).version,s.toFormData=n(1397),s.AxiosError=n(4531),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=n(8089),s.isAxiosError=n(9580),e.exports=s,e.exports.default=s},6857:function(e,t,n){"use strict";var r=n(6569);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6569:function(e,t,n){"use strict";var r=n(4531);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(3589).inherits(i,r,{__CANCEL__:!0}),e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),a=n(7470),o=n(2733),s=n(777),u=n(1804),c=n(7835),l=c.validators;function f(e){this.defaults=e,this.interceptors={request:new a,response:new a}}f.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!i){var f=[o,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(u),a=Promise.resolve(t);f.length;)a=a.then(f.shift(),f.shift());return a}for(var h=t;r.length;){var d=r.shift(),p=r.shift();try{h=d(h)}catch(v){p(v);break}}try{a=o(h)}catch(v){return Promise.reject(v)}for(;u.length;)a=a.then(u.shift(),u.shift());return a},f.prototype.getUri=function(e){e=s(this.defaults,e);var t=u(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(s(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)})),e.exports=f},4531:function(e,t,n){"use strict";var r=n(3589);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=i.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){o[e]={value:e}})),Object.defineProperties(i,o),Object.defineProperty(a,"isAxiosError",{value:!0}),i.from=function(e,t,n,o,s,u){var c=Object.create(a);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype})),i.call(c,e.message,t,n,o,s),c.name=e.name,u&&Object.assign(c,u),c},e.exports=i},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),a=n(5517),o=n(1709),s=n(6569);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(4531);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(1709);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},1709:function(e,t,n){"use strict";var r=n(3589),i=n(4341),a=n(4531),o=n(6789),s=n(1397),u={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:o,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,a=r.isObject(e),o=t&&t["Content-Type"];if((n=r.isFileList(e))||a&&"multipart/form-data"===o){var u=this.env&&this.env.FormData;return s(n?{"files[]":e}:e,u&&new u)}return a||"application/json"===o?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw a.from(s,a.ERR_BAD_RESPONSE,this,null,this.response);throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(3035)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(u)})),e.exports=l},6789:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7600:function(e){e.exports={version:"0.27.2"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},3035:function(e){e.exports=null},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},6261:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},1397:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(a,o){if(r.isPlainObject(a)||r.isArray(a)){if(-1!==n.indexOf(a))throw Error("Circular reference detected in "+o);n.push(a),r.forEach(a,(function(n,a){if(!r.isUndefined(n)){var s,u=o?o+"."+a:a;if(n&&!o&&"object"===typeof n)if(r.endsWith(a,"{}"))n=JSON.stringify(n);else if(r.endsWith(a,"[]")&&(s=r.toArray(n)))return void s.forEach((function(e){!r.isUndefined(e)&&t.append(u,i(e))}));e(n,u)}})),n.pop()}else t.append(o,i(a))}(e),t}},7835:function(e,t,n){"use strict";var r=n(7600).version,i=n(4531),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};a.transitional=function(e,t,n){function a(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new i(a(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),a=r.length;a-- >0;){var o=r[a],s=t[o];if(s){var u=e[o],c=void 0===u||s(u,o,e);if(!0!==c)throw new i("option "+o+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+o,i.ERR_BAD_OPTION)}},validators:a}},3589:function(e,t,n){"use strict";var r,i=n(4049),a=Object.prototype.toString,o=(r=Object.create(null),function(e){var t=a.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function s(e){return e=e.toLowerCase(),function(t){return o(t)===e}}function u(e){return Array.isArray(e)}function c(e){return"undefined"===typeof e}var l=s("ArrayBuffer");function f(e){return null!==e&&"object"===typeof e}function h(e){if("object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var d=s("Date"),p=s("File"),v=s("Blob"),m=s("FileList");function g(e){return"[object Function]"===a.call(e)}var y=s("URLSearchParams");function k(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),u(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var b,w=(b="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b});e.exports={isArray:u,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||a.call(e)===t||g(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:f,isPlainObject:h,isUndefined:c,isDate:d,isFile:p,isBlob:v,isFunction:g,isStream:function(e){return f(e)&&g(e.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:k,merge:function e(){var t={};function n(n,r){h(t[r])&&h(n)?t[r]=e(t[r],n):h(n)?t[r]=e({},n):u(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)k(arguments[r],n);return t},extend:function(e,t,n){return k(t,(function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,a,o={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)o[a=r[i]]||(t[a]=e[a],o[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:o,kindOfTest:s,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:w,isFileList:m}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=h(n,g);try{c(t,g,y)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===k||e.$$typeof===b||e.$$typeof===g)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case x:return"Portal";case _:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function $(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ie=null,Se=null;function _e(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){Ie?Se?Se.push(e):Se=[e]:Ie=e}function Te(){if(Ie){var e=Ie,t=Se;if(Se=Ie=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ae(e,t){return e(t)}function Ce(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ae(e,t,n)}finally{Ne=!1,(null!==Ie||null!==Se)&&(Ce(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Be=null,Ue={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Le.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,It,St,_t,Et=!1,Tt=[],At=null,Ct=null,Nt=null,Pt=new Map,Dt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){jt(e)&&n.delete(t)}function Ut(){Et=!1,null!==At&&jt(At)&&(At=null),null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),Pt.forEach(Bt),Dt.forEach(Bt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&zt(At,e),null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Mt(At,e,t,n,r,i),!0;case"dragenter":return Ct=Mt(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),gn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(yn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function _n(){return Sn}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),An=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Pn),Rn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Wn=null;function Qn(e){jr(e,0)}function Yn(e){if(W(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(l){var $n;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Wn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Kn(t,Wn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ir={},Sr={};function _r(e){if(Ir[e])return Ir[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Ir[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=_r("animationend"),Tr=_r("animationiteration"),Ar=_r("animationstart"),Cr=_r("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),u(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Or=Pr[Rr];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Ar,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Be=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(je)throw e=Be,je=!1,Be=null,e}function Br(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Er:case Tr:case Ar:u=gn;break;case Cr:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Hn(s))if(Jn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Vn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Vn&&(y=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,Vn=!0)),0<(g=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=zn(n))&&(k.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Zt=$t=Jt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=De(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=De(n,a))&&o.unshift(Kr(n,u,s)):i||null!=(u=De(n,a))&&o.push(Kr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ii=-1;function Si(e){return{current:e}}function _i(e){0>Ii||(e.current=xi[Ii],xi[Ii]=null,Ii--)}function Ei(e,t){Ii++,xi[Ii]=e.current,e.current=t}var Ti={},Ai=Si(Ti),Ci=Si(!1),Ni=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){_i(Ci),_i(Ai)}function Oi(e,t,n){if(Ai.current!==Ti)throw Error(a(168));Ei(Ai,t),Ei(Ci,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ai.current,Ei(Ai,e),Ei(Ci,Ci.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,_i(Ci),_i(Ai),Ei(Ai,e)):_i(Ci),Ei(Ci,n)}var ji=null,Bi=!1,Ui=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Vi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Bi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),We(Ze,Vi),i}finally{kt=t,Ui=!1}}return null}var qi=[],Hi=0,Ki=null,Gi=0,Wi=[],Qi=0,Yi=null,Xi=1,Ji="";function $i(e,t){qi[Hi++]=Gi,qi[Hi++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Wi[Qi++]=Xi,Wi[Qi++]=Ji,Wi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Xi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,Ji=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Si(null),ya=null,ka=null,ba=null;function wa(){ba=ka=ya=null}function xa(e){var t=ga.current;_i(ga),e._currentValue=t}function Ia(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ya=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ya)throw Error(a(308));ka=e,ya.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Aa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ba=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=_a(a):(i=Di(t)?Ni:Ai.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ba,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=_a(a):(a=Di(t)?Ni:Ai.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ba&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===I?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Bc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),ia&&$i(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&$i(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&$i(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),ia&&$i(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ia&&$i(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&$i(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===I&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===I){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===I?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Bc(o,r.mode,u)).return=r,r=a}return s(r);case D:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=Ya(!0),Ja=Ya(!1),$a={},Za=Si($a),eo=Si($a),to=Si($a);function no(e){if(e===$a)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Za),Ei(Za,t)}function io(){_i(Za),_i(eo),_i(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(_i(Za),_i(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function _o(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Ao(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Fu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Bo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Ca(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function zo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Bo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Io(r,o.deps))return void(i.memoizedState=Bo(t,n,a,r))}vo.flags|=e,i.memoizedState=Bo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Vo(2048,8,e,t)}function Ko(e,t){return Vo(4,2,e,t)}function Go(e,t){return Vo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Wo.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Fu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Aa(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Aa(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:_a,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:_a,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Bo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Nu.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:_a,useCallback:Xo,useContext:_a,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Jo,useReducer:Co,useRef:Uo,useState:function(){return Co(Ao)},useDebugValue:Yo,useDeferredValue:function(e){return $o(To(),mo.memoizedState,e)},useTransition:function(){return[Co(Ao)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1},cs={readContext:_a,useCallback:Xo,useContext:_a,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Jo,useReducer:No,useRef:Uo,useState:function(){return No(Ao)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[No(Ao)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Gu=r),hs(0,t)},n}function vs(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Xa(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=_o(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Is(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function _s(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ou,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ou,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ou,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ou,Ru),Ru|=r;return ws(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Di(n)?Ni:Ai.current;return a=Pi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=_o(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function As(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Hs(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=_a(c):c=Pi(t,c=Di(n)?Ni:Ai.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ha(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ci.current||Na?("function"===typeof l&&(Ua(t,n,l,r),u=t.memoizedState),(s=Na||Va(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=_a(u):u=Pi(t,u=Di(n)?Ni:Ai.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ci.current||Na?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Na||Va(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ks(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ds,Rs,Os,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ms,e):Bs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),rc(r,e,i,-1))}return mc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Qi++]=Xi,Wi[Qi++]=Ji,Wi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ia(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Di(t.type)&&Ri(),Ws(t),null;case 3:return r=t.stateNode,io(),_i(Ci),_i(Ai),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Rs(e,t),Ws(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":X(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Br("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ds(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Br("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ws(t),null;case 13:if(_i(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return io(),Rs(e,t),null===e&&Vr(t.stateNode.containerInfo),Ws(t),null;case 10:return xa(t.type._context),Ws(t),null;case 19:if(_i(so),null===(o=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Gs(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>qu&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ws(t),null}else 2*Je()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),_i(Ci),_i(Ai),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(_i(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Br("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Js=!1,$s="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){_c(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Vt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Js&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_c(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,du(e,t,n),Js=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){_c(e,e.return,m)}try{ru(5,e,e.return)}catch(m){_c(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){_c(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){_c(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){_c(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){_c(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Je())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(l=Js)||f,mu(t,e),Js=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){_c(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(h);continue}}null!==p?(p.return=d,Zs=p):xu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){_c(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){_c(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){_c(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){Zs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=Xs;var c=Js;if(Xs=o,(Js=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?Iu(i):null!==u?(u.return=o,Zs=u):Iu(i);for(;null!==a;)Zs=a,bu(a,t,n),a=a.sibling;Zs=i,Xs=s,Js=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(a(163))}Js||512&t.flags&&au(t)}catch(d){_c(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Iu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){_c(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){_c(t,i,u)}}var a=t.return;try{au(t)}catch(u){_c(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){_c(t,o,u)}}}catch(u){_c(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Su,_u=Math.ceil,Eu=b.ReactCurrentDispatcher,Tu=b.ReactCurrentOwner,Au=b.ReactCurrentBatchConfig,Cu=0,Nu=null,Pu=null,Du=0,Ru=0,Ou=Si(0),Lu=0,Mu=null,Fu=0,ju=0,Bu=0,Uu=null,zu=null,Vu=0,qu=1/0,Hu=null,Ku=!1,Gu=null,Wu=null,Qu=!1,Yu=null,Xu=0,Ju=0,$u=null,Zu=-1,ec=0;function tc(){return 0!==(6&Cu)?Je():-1!==Zu?Zu:Zu=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Du?Du&-Du:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Ju)throw Ju=0,$u=null,Error(a(185));gt(e,n,r),0!==(2&Cu)&&e===Nu||(e===Nu&&(0===(2&Cu)&&(ju|=n),4===Lu&&uc(e,Du)),ic(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(qu=Je()+500,Bi&&Vi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?Du:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Bi=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Cu)&&Vi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(Ic()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Du:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Cu;Cu|=2;var o=vc();for(Nu===e&&Du===t||(Hu=null,qu=Je()+500,dc(e,t));;)try{kc();break}catch(u){pc(e,u)}wa(),Eu.current=o,Cu=i,null!==Pu?t=0:(Nu=null,Du=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,dc(e,0),uc(e,r),ic(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Mu,dc(e,0),uc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zu,Hu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Vu+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zu,Hu),t);break}xc(e,zu,Hu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_u(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zu,Hu),r);break}xc(e,zu,Hu);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zu,zu=n,null!==t&&sc(t)),e}function sc(e){null===zu?zu=e:zu.push.apply(zu,e)}function uc(e,t){for(t&=~Bu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Cu))throw Error(a(327));Ic();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,dc(e,0),uc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zu,Hu),ic(e,Je()),null}function lc(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(qu=Je()+500,Bi&&Vi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Cu)&&Ic();var t=Cu;Cu|=1;var n=Au.transition,r=kt;try{if(Au.transition=null,kt=1,e)return e()}finally{kt=r,Au.transition=n,0===(6&(Cu=t))&&Vi()}}function hc(){Ru=Ou.current,_i(Ou)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),_i(Ci),_i(Ai),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:_i(so);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nu=e,Pu=e=Oc(e.current,null),Du=Ru=t,Lu=0,Mu=null,Bu=ju=Fu=0,zu=Uu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pc(e,t){for(;;){var n=Pu;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,ko=!1,bo=0,Tu.current=null,null===n||null===n.return){Lu=1,Mu=t,Pu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Du,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Wu||!Wu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function vc(){var e=Eu.current;return Eu.current=os,null===e?os:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Nu||0===(268435455&Fu)&&0===(268435455&ju)||uc(Nu,Du)}function gc(e,t){var n=Cu;Cu|=2;var r=vc();for(Nu===e&&Du===t||(Hu=null,dc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(wa(),Cu=n,Eu.current=r,null!==Pu)throw Error(a(261));return Nu=null,Du=0,Lu}function yc(){for(;null!==Pu;)bc(Pu)}function kc(){for(;null!==Pu&&!Ye();)bc(Pu)}function bc(e){var t=Su(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?wc(e):Pu=t,Tu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ru)))return void(Pu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Lu=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Lu&&(Lu=5)}function xc(e,t,n){var r=kt,i=Au.transition;try{Au.transition=null,kt=1,function(e,t,n,r){do{Ic()}while(null!==Yu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Pu=Nu=null,Du=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Nc(tt,(function(){return Ic(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Au.transition,Au.transition=null;var s=kt;kt=1;var u=Cu;Cu|=4,Tu.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,ku(n,e,i),Xe(),Cu=u,kt=s,Au.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,Xu=i),o=e.pendingLanes,0===o&&(Wu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Gu,Gu=null,e;0!==(1&Xu)&&0!==e.tag&&Ic(),o=e.pendingLanes,0!==(1&o)?e===$u?Ju++:(Ju=0,$u=e):Ju=0,Vi()}(e,t,n,r)}finally{Au.transition=i,kt=r}return null}function Ic(){if(null!==Yu){var e=bt(Xu),t=Au.transition,n=kt;try{if(Au.transition=null,kt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Xu=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){_c(u,u.return,x)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Cu=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Au.transition=t}}return!1}function Sc(e,t,n){e=Oa(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function _c(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){t=Oa(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Du&n)===n&&(4===Lu||3===Lu&&(130023424&Du)===Du&&500>Je()-Vu?dc(e,0):Bu|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ca(e,t))&&(gt(e,t,n),ic(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return We(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Pc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case I:return Mc(n.children,i,o,t);case S:s=8,i|=8;break;case _:return(e=Dc(12,n,t,2|i)).elementType=_,e.lanes=o,e;case C:return(e=Dc(13,n,t,i)).elementType=C,e.lanes=o,e;case N:return(e=Dc(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case T:s=9;break e;case A:s=11;break e;case P:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Vc(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=zc(n,r,!0,e,0,a,0,s,u)).context=Vc(null),n=e.current,(a=Ra(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ei(so,1&so.current),null!==(e=Ks(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,_s(e,t,n)}return Ks(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Pi(t,Ai.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=_o();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Is(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ks(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ci.current){t=Ks(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ia(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ia(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=_a(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Is(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hs(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Ka(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return _s(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Kc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Vr(8===e.nodeType?e.parentNode:e),fc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Hc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Cu)&&(qu=Je()+500,Vi()))}break;case 13:fc((function(){var t=Ca(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},xt=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},It=function(e){if(13===e.tag){var t=nc(e),n=Ca(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},St=function(){return kt},_t=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=lc,Ce=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=k.prototype=new y;b.constructor=k,v(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,I={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:I.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+A(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+A(s=e[c],c);u+=C(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,l=a+A(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:I};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=I.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,S=!1,_=null,E=-1,T=5,A=-1;function C(){return!(t.unstable_now()-A<T)}function N(){if(null!==_){var e=t.unstable_now();A=e;var n=!0;try{n=_(!0,e)}finally{n?I():(S=!1,_=null)}}else S=!1}if("function"===typeof k)I=function(){k(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=N,I=function(){D.postMessage(null)}}else I=function(){g(N,0)};function R(e){_=e,S||(S=!0,I())}function O(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(E),E=-1):m=!0,O(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6713:function(e,t,n){var r=n(7061).default,i=n(7156).default,a=n(6690).default,o=n(9728).default,s=n(4569);e.exports=function(){"use strict";function e(t){a(this,e),this.token=t}return o(e,[{key:"_parsebody",value:function(e){return e.errors?e.errors:e.status?e.data:e}},{key:"_parseresponse",value:function(e){return{status:e.response?e.response.status:e.status,data:e.response?null:e.config.headers["Content-Type"]?e.data:this._parsebody(e.data),ratelimits:{used:Number(e.response?e.response.headers["x-ratelimit-limit"]:e.headers["x-ratelimit-limit"]),remaining:Number(e.response?e.response.headers["x-ratelimit-remaining"]:e.headers["x-ratelimit-remaining"]),reset:Number(e.response?e.response.headers["x-ratelimit-reset"]:e.headers["x-ratelimit-reset"])},error:e.response?this._parsebody(e.response.data):null,url:e.config.url}}},{key:"_validate",value:function(e){for(var t=0;Object.keys(e).length>t;t++)if(null==Object.values(e)[t])throw new Error("Missing parameter: ".concat(Object.keys(e)[t]))}},{key:"_query",value:function(e){for(var t=new URLSearchParams,n=0;Object.values(e).length>n;n++)Object.values(e)[n]&&"undefined"!=Object.values(e)[n]&&t.append(Object.keys(e)[n],Object.values(e)[n]);return t.toString().length?t:null}},{key:"_fetch",value:function(){var e=i(r().mark((function e(){var t,n,i,a,o,u,c,l,f,h=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=h.length>0&&void 0!==h[0]?h[0]:{}).url,i=t.type,a=void 0===i?"GET":i,o=t.body,u=void 0===o?null:o,c=t.rtype,l=void 0===c?null:c,e.next=3,s({url:n,method:a,data:u,responseType:l||"json",headers:this.token?{Authorization:this.token,"User-Agent":"unofficial-valorant-api/node.js/2.3.0"}:{"User-Agent":"unofficial-valorant-api/node.js/2.3.0"}}).catch((function(e){return e}));case 3:return f=e.sent,e.abrupt("return",this._parseresponse(f));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccount",value:function(){var e=i(r().mark((function e(){var t,n,i,a,o,s=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=s.length>0&&void 0!==s[0]?s[0]:{}).name,i=t.tag,a=t.force,this._validate({name:n,tag:i}),o=this._query({force:a}),e.next=5,this._fetch({url:"https://api.henrikdev.xyz/valorant/v1/account/".concat(encodeURI(n),"/").concat(encodeURI(i)).concat(o?"?".concat(o):"")});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccountByPUUID",value:function(){var e=i(r().mark((function e(){var t,n,i,a,o=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=o.length>0&&void 0!==o[0]?o[0]:{}).puuid,i=t.force,this._validate({puuid:n}),a=this._query({force:i}),e.next=5,this._fetch({url:"https://api.henrikdev.xyz/valorant/v1/by-puuid/account/".concat(n).concat(a?"?".concat(a):"")});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMMRByPUUID",value:function(){var e=i(r().mark((function e(){var t,n,i,a,o,s,u=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=u.length>0&&void 0!==u[0]?u[0]:{}).version,i=t.region,a=t.puuid,o=t.filter,this._validate({version:n,region:i,puuid:a}),s=this._query({filter:o}),e.next=5,this._fetch({url:"https://api.henrikdev.xyz/valorant/".concat(n,"/by-puuid/mmr/").concat(i,"/").concat(a).concat(s?"?".concat(s):"")});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMMRHistoryByPUUID",value:function(){var e=i(r().mark((function e(){var t,n,i,a=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=a.length>0&&void 0!==a[0]?a[0]:{}).region,i=t.puuid,this._validate({region:n,puuid:i}),e.next=4,this._fetch({url:"https://api.henrikdev.xyz/valorant/v1/by-puuid/mmr-history/".concat(n,"/").concat(i)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMatchesByPUUID",value:function(){var e=i(r().mark((function e(){var t,n,i,a,o,s,u,c=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=c.length>0&&void 0!==c[0]?c[0]:{}).region,i=t.puuid,a=t.filter,o=t.map,s=t.size,this._validate({region:n,puuid:i}),u=this._query({filter:a,map:o,size:s}),e.next=5,this._fetch({url:"https://api.henrikdev.xyz/valorant/v3/by-puuid/matches/".concat(n,"/").concat(i).concat(u?"?".concat(u):"")});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getContent",value:function(){var e=i(r().mark((function e(){var t,n,i=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(i.length>0&&void 0!==i[0]?i[0]:{}).locale,n=this._query({locale:t}),e.next=4,this._fetch({url:"https://api.henrikdev.xyz/valorant/v1/content".concat(n?"?".concat(n):"")});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getLeaderboard",value:function(){var e=i(r().mark((function e(){var t,n,i,a,o,s,u,c,l,f,h=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=h.length>0&&void 0!==h[0]?h[0]:{}).version,i=t.region,a=t.start,o=t.end,s=t.name,u=t.tag,c=t.puuid,l=t.season,!(s&&u&&c)){e.next=3;break}throw new Error("Too many parameters: You can't search for name/tag and puuid at the same time, please decide between name/tag and puuid");case 3:return this._validate({version:n,region:i}),f=this._query({start:a,end:o,name:encodeURI(s),tag:encodeURI(u),puuid:c,season:l}),e.next=7,this._fetch({url:"https://api.henrikdev.xyz/valorant/".concat(n,"/leaderboard/").concat(i).concat(f?"?".concat(f):"")});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMatches",value:function(){var e=i(r().mark((function e(){var t,n,i,a,o,s,u,c,l=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=l.length>0&&void 0!==l[0]?l[0]:{}).region,i=t.name,a=t.tag,o=t.filter,s=t.map,u=t.size,this._validate({region:n,name:i,tag:a}),c=this._query({filter:o,map:s,size:u}),e.next=5,this._fetch({url:"https://api.henrikdev.xyz/valorant/v3/matches/".concat(n,"/").concat(encodeURI(i),"/").concat(encodeURI(a)).concat(c?"?".concat(c):"")});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMatch",value:function(){var e=i(r().mark((function e(){var t,n=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(n.length>0&&void 0!==n[0]?n[0]:{}).match_id,this._validate({match_id:t}),e.next=4,this._fetch({url:"https://api.henrikdev.xyz/valorant/v2/match/".concat(t)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMMRHistory",value:function(){var e=i(r().mark((function e(){var t,n,i,a,o=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=o.length>0&&void 0!==o[0]?o[0]:{}).region,i=t.name,a=t.tag,this._validate({region:n,name:i,tag:a}),e.next=4,this._fetch({url:"https://api.henrikdev.xyz/valorant/v1/mmr-history/".concat(n,"/").concat(encodeURI(i),"/").concat(encodeURI(a))});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMMR",value:function(){var e=i(r().mark((function e(){var t,n,i,a,o,s,u,c=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=c.length>0&&void 0!==c[0]?c[0]:{}).version,i=t.region,a=t.name,o=t.tag,s=t.filter,this._validate({version:n,region:i,name:a,tag:o}),u=this._query({filter:s}),e.next=5,this._fetch({url:"https://api.henrikdev.xyz/valorant/".concat(n,"/mmr/").concat(i,"/").concat(encodeURI(a),"/").concat(encodeURI(o)).concat(u?"?".concat(u):"")});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRawData",value:function(){var e=i(r().mark((function e(){var t,n,i,a,o,s=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=s.length>0&&void 0!==s[0]?s[0]:{}).type,i=t.value,a=t.region,o=t.queries,this._validate({type:n,value:i,region:a,queries:o}),e.next=4,this._fetch({url:"https://api.henrikdev.xyz/valorant/v1/raw",body:{type:n,value:i,region:a,queries:o},type:"POST"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getStatus",value:function(){var e=i(r().mark((function e(){var t,n=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(n.length>0&&void 0!==n[0]?n[0]:{}).region,this._validate({region:t}),e.next=4,this._fetch({url:"https://api.henrikdev.xyz/valorant/v1/status/".concat(t)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFeaturedItems",value:function(){var e=i(r().mark((function e(){var t,n=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(n.length>0&&void 0!==n[0]?n[0]:{}).version,this._validate({version:t}),e.next=4,this._fetch({url:"https://api.henrikdev.xyz/valorant/".concat(t,"/store-featured")});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getOffers",value:function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetch({url:"https://api.henrikdev.xyz/valorant/v1/store-offers"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getVersion",value:function(){var e=i(r().mark((function e(){var t,n=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(n.length>0&&void 0!==n[0]?n[0]:{}).region,this._validate({region:t}),e.next=4,this._fetch({url:"https://api.henrikdev.xyz/valorant/v1/version/".concat(t)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWebsite",value:function(){var e=i(r().mark((function e(){var t,n,i,a,o=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=o.length>0&&void 0!==o[0]?o[0]:{}).country_code,i=t.filter,this._validate({country_code:n}),a=this._query({filter:i}),e.next=5,this._fetch({url:"https://api.henrikdev.xyz/valorant/v1/website/".concat(n).concat(a?"?".concat(a):"")});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCrosshair",value:function(){var e=i(r().mark((function e(){var t,n,i,a,o=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=o.length>0&&void 0!==o[0]?o[0]:{}).code,i=t.size,this._validate({code:n}),a=this._query({id:n,size:i}),e.next=5,this._fetch({url:"https://api.henrikdev.xyz/valorant/v1/crosshair/generate".concat(a?"?".concat(a):""),rtype:"arraybuffer"});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()},7156:function(e){function t(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function s(e){t(o,i,a,s,u,"next",e)}function u(e){t(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(P){f=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new A(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}t.wrap=h;var p={};function v(){}function m(){}function g(){}var y={};f(y,u,(function(){return this}));var k=Object.getPrototypeOf,b=k&&k(k(C([])));b&&b!==n&&a.call(b,u)&&(y=b);var w=g.prototype=v.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,s,u){var c=d(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function S(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=g,o(w,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=f(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,f(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},x(I.prototype),f(I.prototype,c,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new I(h(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(w),f(w,l,"Generator"),f(w,u,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".03e515e0.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="underpeelsite:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/underpeelsite/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkunderpeelsite=self.webpackChunkunderpeelsite||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ze},SDK_VERSION:function(){return yn},_DEFAULT_ENTRY_NAME:function(){return an},_addComponent:function(){return cn},_addOrOverwriteComponent:function(){return ln},_apps:function(){return sn},_clearComponents:function(){return pn},_components:function(){return un},_getProvider:function(){return hn},_registerComponent:function(){return fn},_removeServiceInstance:function(){return dn},deleteApp:function(){return xn},getApp:function(){return bn},getApps:function(){return wn},initializeApp:function(){return kn},onLog:function(){return _n},registerVersion:function(){return Sn},setLogLevel:function(){return En}});var t=n(2791),r=n.t(t,2),i=n(1250);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function s(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){u=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),s=new T(i||[]);return r(o,"_invoke",{value:I(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=f;var d={};function p(){}function v(){}function m(){}var g={};l(g,o,(function(){return this}));var y=Object.getPrototypeOf,k=y&&y(y(A([])));k&&k!==t&&n.call(k,o)&&(g=k);var b=m.prototype=p.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,s,u){var c=h(e[r],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function I(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return v.prototype=m,r(b,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),l(b,c,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function c(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){c(a,r,i,o,s,"next",e)}function s(e){c(a,r,i,o,s,"throw",e)}o(void 0)}))}}function f(e){if(Array.isArray(e))return e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){return f(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||d(e,t)||p()}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var k=n.p+"static/media/GQ.d3f424520ef7ea120bff.png",b=n.p+"static/media/ATZ.4bcc6336b3c4c37d99ae.png",w=n.p+"static/media/FNC.71457782016064e0984f.png",x=n.p+"static/media/LOUD.722cb68cbbed7ec646fb.png",I=n.p+"static/media/SCN.209a3fc623b57afedabc.png",S=n.p+"static/media/TMNT.786898f918c98b3b95d4.png",_=n.p+"static/media/SE.0173688b1e4c64db0617.png",E=n.p+"static/media/TMX.ac8eb116b78b51191208.png",T=n.p+"static/media/ODY.f9ff7b4dad35adeeec2b.png",A=n.p+"static/media/FROG.a8e938e771511098d4aa.png",C=n.p+"static/media/GZ.6b1d3af2e545452da25f.png",N=n.p+"static/media/HOOJ.c69143d798e97eb98ff6.png",P=n.p+"static/media/JPT.c81c7dee505731a78396.png",D=n.p+"static/media/MRK.8b5a53e16cd2984ead2b.png",R=n.p+"static/media/POUT.64809b19579b7f72120f.png",O=n.p+"static/media/UWU.4ec0b8c10a2a5afdaec8.png",L=n.p+"static/media/astra.89a2e0362b0d6e1cc4b8.png",M=n.p+"static/media/brimstone.20e51b10f5834dc4d415.png",F=n.p+"static/media/cypher.87ed2a7349809c49d2b6.png",j=n.p+"static/media/jett.afd7c072112445c545ab.png",B=n.p+"static/media/killjoy.6c2dcf196155139602c0.png",U=n.p+"static/media/omen.02b72bb1a54ae62d35ce.png",z=n.p+"static/media/phoenix.0cba3e48a08ec0c1b378.png",V=n.p+"static/media/raze.7cb67536ff2b329c9e41.png",q=n.p+"static/media/sage.617c1c63463e8e517212.png",H=n.p+"static/media/skye.0e1814bdb1a3391c972a.png",K=n.p+"static/media/sova.17df2651194c39cf968d.png",G=n.p+"static/media/viper.6c0751b0f15a2623d564.png",W=n.p+"static/media/yoru.ef714a87a8c4ae04add9.png",Q=n.p+"static/media/reyna.11655aade265af9a1951.png",Y=n.p+"static/media/neon.0b6e076678051ec3e7ab.png",X=n.p+"static/media/chamber.2af1d1caf1c6fda8ba01.png",J=n.p+"static/media/harbor.a4be03d3b02e4bb9c9eb.png",$=n.p+"static/media/gekko.077478609b3dde1d6155.png",Z=n.p+"static/media/fade.682fe32078b13f1fe4f9.png",ee=n.p+"static/media/kayo.60cb35dcc06eb2e24e0b.png",te=n.p+"static/media/breach.5eaa9e53681763b8531c.png",ne=n.p+"static/media/Iron_1_Rank.ae22a2421560777aca7b.png",re=n.p+"static/media/Iron_2_Rank.268a108113f3a693e68a.png",ie=n.p+"static/media/Iron_3_Rank.7a3690c3d8e270356fc1.png",ae=n.p+"static/media/Bronze_1_Rank.f744cd10fb9b20be5e5c.png",oe=n.p+"static/media/Bronze_2_Rank.751c985f4b6b78e1a8b2.png",se=n.p+"static/media/Bronze_3_Rank.88577ece5bbcb113b001.png",ue=n.p+"static/media/Silver_1_Rank.fc97b398e1eb66e5cde6.png",ce=n.p+"static/media/Silver_2_Rank.25c6e169b547d28b8514.png",le=n.p+"static/media/Silver_3_Rank.d48e9a135e0cb642db64.png",fe=n.p+"static/media/Gold_1_Rank.34e64e0a114da4d3cb5f.png",he=n.p+"static/media/Gold_2_Rank.56e6c3ddfe1d7e43b78d.png",de=n.p+"static/media/Gold_3_Rank.3615d085516ae70db245.png",pe=n.p+"static/media/Platinum_1_Rank.488ab6dd95af06ef5edd.png",ve=n.p+"static/media/Platinum_2_Rank.299802f8705d6f384e94.png",me=n.p+"static/media/Platinum_3_Rank.8f6a8b1722ff7cbf1678.png",ge=n.p+"static/media/Diamond_1_Rank.541e73985724fb7a59c5.png",ye=n.p+"static/media/Diamond_2_Rank.bb3ff2523882608c1141.png",ke=n.p+"static/media/Diamond_3_Rank.f0613e96229c4c95b3d0.png",be=n.p+"static/media/Ascendant_2_Rank.d04584e9542e821601f0.png",we=n.p+"static/media/Ascendant_3_Rank.4c9a0938e3f331f4ae07.png",xe=n.p+"static/media/Immortal_1_Rank.fd96fb67eede1dc0d66c.png",Ie=n.p+"static/media/Immortal_2_Rank.2923709ac34464f74568.png",Se=n.p+"static/media/Immortal_3_Rank.1cc0259a84d625f7f010.png",_e=n.p+"static/media/Radiant_Rank.f2cffd2f8cd0e91d08f3.png";function Ee(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e,t){return Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ae(e,t)}function Ce(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ae(e,t)}function Ne(e){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ne(e)}function Pe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function De(e){var t=Pe();return function(){var n,r=Ne(e);if(t){var i=Ne(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Te(e)}(this,n)}}function Re(e,t,n){return Re=Pe()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ae(i,n.prototype),i},Re.apply(null,arguments)}function Oe(e){var t="function"===typeof Map?new Map:void 0;return Oe=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Re(e,arguments,Ne(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ae(n,e)},Oe(e)}var Le=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Le(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Fe;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Fe=function(e){Ce(n,e);var t=De(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(Oe(Error)),je=function(e){return function(e){var t=Le(e);return Me.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Be=function(e){try{return Me.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ue(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ue(e[n],t[n]));return e}var ze=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Ve=function(){try{return ze()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/underpeelsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Be(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},qe=function(e){var t=function(e){var t,n;return null===(n=null===(t=Ve())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},He=function(){var e;return null===(e=Ve())||void 0===e?void 0:e.config},Ke=function(){function e(){var t=this;y(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ge(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function We(){var e,t=null===(e=Ve())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Qe(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ye(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Xe(){var e=Ge();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Je(){try{return"object"===typeof indexedDB}catch(e){return!1}}function $e(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}var Ze=function(e){Ce(n,e);var t=De(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Te(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Te(a),et.prototype.create),a}return g(n)}(Oe(Error)),et=function(){function e(t,n,r){y(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(tt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ze(n,a,t)}}]),e}();var tt=/\{\$([^}]+)}/g;function nt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function rt(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function it(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(at(s)&&at(u)){if(!it(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function at(e){return null!==e&&"object"===typeof e}function ot(e){for(var t=[],n=function(){var e=v(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function st(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=v(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ut(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ct(e,t){var n=new lt(e,t);return n.subscribe.bind(n)}var lt=function(){function e(t,n){var r=this;y(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ee(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ft),void 0===r.error&&(r.error=ft),void 0===r.complete&&(r.complete=ft);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ft(){}var ht=1e3,dt=2,pt=144e5,vt=.5;function mt(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dt,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ht)*Math.pow(t,e),r=Math.round(vt*n*(Math.random()-.5)*2);return Math.min(pt,n+r)}function gt(e){return e&&e._delegate?e._delegate:e}function yt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function kt(e){return function(e){if(Array.isArray(e))return h(e)}(e)||yt(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bt=function(){function e(t,n,r){y(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),wt="[DEFAULT]",xt=function(){function e(t,n){y(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ke;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:wt})}catch(u){}var t,n=Ee(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=v(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=l(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(kt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),kt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ee(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=v(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ee(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(t_){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:It(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(t_){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt;return this.component?this.component.multipleInstances?e:wt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function It(e){return e===wt?void 0:e}var St,_t,Et=function(){function e(t){y(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new xt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Tt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(_t||(_t={}));var At={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},Ct=_t.INFO,Nt=(s(St={},_t.DEBUG,"log"),s(St,_t.VERBOSE,"log"),s(St,_t.INFO,"info"),s(St,_t.WARN,"warn"),s(St,_t.ERROR,"error"),St),Pt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Nt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Dt=function(){function e(t){y(this,e),this.name=t,this._logLevel=Ct,this._logHandler=Pt,this._userLogHandler=null,Tt.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in _t))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?At[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_t.DEBUG].concat(t)),this._logHandler.apply(this,[this,_t.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_t.VERBOSE].concat(t)),this._logHandler.apply(this,[this,_t.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_t.INFO].concat(t)),this._logHandler.apply(this,[this,_t.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_t.WARN].concat(t)),this._logHandler.apply(this,[this,_t.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_t.ERROR].concat(t)),this._logHandler.apply(this,[this,_t.ERROR].concat(t))}}]),e}();function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lt,Mt,Ft=function(e,t){return t.some((function(t){return e instanceof t}))};var jt=new WeakMap,Bt=new WeakMap,Ut=new WeakMap,zt=new WeakMap,Vt=new WeakMap;var qt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Bt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ut.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ht(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Mt||(Mt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Wt(this),n),Gt(jt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gt(e.apply(Wt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Wt(this),t].concat(r));return Ut.set(a,t.sort?t.sort():[t]),Gt(a)}}function Kt(e){return"function"===typeof e?Ht(e):(e instanceof IDBTransaction&&function(e){if(!Bt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Bt.set(e,t)}}(e),Ft(e,Lt||(Lt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,qt):e)}function Gt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Gt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&jt.set(t,e)})).catch((function(){})),Vt.set(t,e),t}(e);if(zt.has(e))return zt.get(e);var t=Kt(e);return t!==e&&(zt.set(e,t),Vt.set(t,e)),t}var Wt=function(e){return Vt.get(e)};var Qt,Yt,Xt=["get","getKey","getAll","getAllKeys","count"],Jt=["put","add","delete","clear"],$t=new Map;function Zt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if($t.get(t))return $t.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Jt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Xt.includes(n))){var a=function(){var e=l(u().mark((function e(t){var a,o,s,c,l,f,h=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return $t.set(t,a),a}}}qt=function(e){return Ot(Ot({},e),{},{get:function(t,n,r){return Zt(t,n)||e.get(t,n,r)},has:function(t,n){return!!Zt(t,n)||e.has(t,n)}})}(qt);var en=function(){function e(t){y(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var tn="@firebase/app",nn="0.9.12",rn=new Dt("@firebase/app"),an="[DEFAULT]",on=(s(Qt={},tn,"fire-core"),s(Qt,"@firebase/app-compat","fire-core-compat"),s(Qt,"@firebase/analytics","fire-analytics"),s(Qt,"@firebase/analytics-compat","fire-analytics-compat"),s(Qt,"@firebase/app-check","fire-app-check"),s(Qt,"@firebase/app-check-compat","fire-app-check-compat"),s(Qt,"@firebase/auth","fire-auth"),s(Qt,"@firebase/auth-compat","fire-auth-compat"),s(Qt,"@firebase/database","fire-rtdb"),s(Qt,"@firebase/database-compat","fire-rtdb-compat"),s(Qt,"@firebase/functions","fire-fn"),s(Qt,"@firebase/functions-compat","fire-fn-compat"),s(Qt,"@firebase/installations","fire-iid"),s(Qt,"@firebase/installations-compat","fire-iid-compat"),s(Qt,"@firebase/messaging","fire-fcm"),s(Qt,"@firebase/messaging-compat","fire-fcm-compat"),s(Qt,"@firebase/performance","fire-perf"),s(Qt,"@firebase/performance-compat","fire-perf-compat"),s(Qt,"@firebase/remote-config","fire-rc"),s(Qt,"@firebase/remote-config-compat","fire-rc-compat"),s(Qt,"@firebase/storage","fire-gcs"),s(Qt,"@firebase/storage-compat","fire-gcs-compat"),s(Qt,"@firebase/firestore","fire-fst"),s(Qt,"@firebase/firestore-compat","fire-fst-compat"),s(Qt,"fire-js","fire-js"),s(Qt,"firebase","fire-js-all"),Qt),sn=new Map,un=new Map;function cn(e,t){try{e.container.addComponent(t)}catch(n){rn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ln(e,t){e.container.addOrOverwriteComponent(t)}function fn(e){var t=e.name;if(un.has(t))return rn.debug("There were multiple attempts to register component ".concat(t,".")),!1;un.set(t,e);var n,r=Ee(sn.values());try{for(r.s();!(n=r.n()).done;){cn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function hn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function dn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:an;hn(e,t).clearInstance(n)}function pn(){un.clear()}var vn=(s(Yt={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),s(Yt,"bad-app-name","Illegal App name: '{$appName}"),s(Yt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),s(Yt,"app-deleted","Firebase App named '{$appName}' already deleted"),s(Yt,"no-options","Need to provide options, when not being deployed to hosting via source."),s(Yt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),s(Yt,"invalid-log-argument","First argument to `onLog` must be null or a function."),s(Yt,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),s(Yt,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),s(Yt,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),s(Yt,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Yt),mn=new et("app","Firebase",vn),gn=function(){function e(t,n,r){var i=this;y(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bt("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}}]),e}(),yn="9.22.2";function kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:an,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw mn.create("bad-app-name",{appName:String(i)});if(n||(n=He()),!n)throw mn.create("no-options");var a=sn.get(i);if(a){if(it(n,a.options)&&it(r,a.config))return a;throw mn.create("duplicate-app",{appName:i})}var o,s=new Et(i),u=Ee(un.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new gn(n,r,s);return sn.set(i,l),l}function bn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=sn.get(e);if(!t&&e===an&&He())return kn();if(!t)throw mn.create("no-app",{appName:e});return t}function wn(){return Array.from(sn.values())}function xn(e){return In.apply(this,arguments)}function In(){return In=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!sn.has(n)){e.next=6;break}return sn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),In.apply(this,arguments)}function Sn(e,t,n){var r,i=null!==(r=on[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void rn.warn(s.join(" "))}fn(new bt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function _n(e,t){if(null!==e&&"function"!==typeof e)throw mn.create("invalid-log-argument");!function(e,t){var n,r=Ee(Tt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=At[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:_t[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function En(e){var t;t=e,Tt.forEach((function(e){e.setLogLevel(t)}))}var Tn="firebase-heartbeat-database",An=1,Cn="firebase-heartbeat-store",Nn=null;function Pn(){return Nn||(Nn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Gt(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Gt(s.result),e.oldVersion,e.newVersion,Gt(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Tn,An,{upgrade:function(e,t){if(0===t)e.createObjectStore(Cn)}}).catch((function(e){throw mn.create("idb-open",{originalErrorMessage:e.message})}))),Nn}function Dn(e){return Rn.apply(this,arguments)}function Rn(){return Rn=l(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pn();case 3:return n=e.sent,e.next=6,n.transaction(Cn).objectStore(Cn).get(Mn(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Ze?rn.warn(e.t0.message):(i=mn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),rn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Rn.apply(this,arguments)}function On(e,t){return Ln.apply(this,arguments)}function Ln(){return Ln=l(u().mark((function e(t,n){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pn();case 3:return r=e.sent,i=r.transaction(Cn,"readwrite"),a=i.objectStore(Cn),e.next=8,a.put(n,Mn(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Ze?rn.warn(e.t0.message):(o=mn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),rn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Ln.apply(this,arguments)}function Mn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Fn=function(){function e(t){var n=this;y(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Vn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return g(e,[{key:"triggerHeartbeat",value:function(){var e=l(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=jn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=l(u().mark((function e(){var t,n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=jn(),n=Bn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=je(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jn(){return(new Date).toISOString().substring(0,10)}function Bn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Ee(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),qn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),qn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Un,zn,Vn=function(){function e(t){y(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Je()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",$e().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=l(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Dn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=l(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",On(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=l(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",On(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(kt(r.heartbeats),kt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function qn(e){return je(JSON.stringify({version:2,heartbeats:e})).length}Un="",fn(new bt("platform-logger",(function(e){return new en(e)}),"PRIVATE")),fn(new bt("heartbeat",(function(e){return new Fn(e)}),"PRIVATE")),Sn(tn,nn,Un),Sn(tn,nn,"esm2017"),Sn("fire-js","");var Hn=function(){function e(t,n){var r=this;y(this,e),this._delegate=t,this.firebase=n,cn(t,new bt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),xn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:an;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:an;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){cn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ln(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Kn=(s(zn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),s(zn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),zn),Gn=new et("app-compat","Firebase",Kn);var Wn=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=kn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(nt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Sn,setLogLevel:En,onLog:_n,apps:null,SDK_VERSION:yn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(fn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Gn.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ue(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!nt(n,e=e||an))throw Gn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Hn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ue(n,e)},createSubscribe:ct,ErrorFactory:et,deepExtend:Ue}),n}(),Qn=new Dt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Qn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Yn=self.firebase.SDK_VERSION;Yn&&Yn.indexOf("LITE")>=0&&Qn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Xn=Wn;!function(e){Sn("@firebase/app-compat","0.2.12",e)}();function Jn(){return Jn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ne(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Jn.apply(this,arguments)}Xn.registerVersion("firebase","9.22.2","app-compat");function $n(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var Zn,er={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},tr="EMAIL_SIGNIN",nr="PASSWORD_RESET",rr="RECOVER_EMAIL",ir="REVERT_SECOND_FACTOR_ADDITION",ar="VERIFY_AND_CHANGE_EMAIL",or="VERIFY_EMAIL";function sr(){return s({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ur=function(){var e;return s(e={},"admin-restricted-operation","This operation is restricted to administrators only."),s(e,"argument-error",""),s(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),s(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),s(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),s(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),s(e,"cordova-not-ready","Cordova framework is not ready."),s(e,"cors-unsupported","This browser is not supported."),s(e,"credential-already-in-use","This credential is already associated with a different user account."),s(e,"custom-token-mismatch","The custom token corresponds to a different audience."),s(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),s(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),s(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),s(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),s(e,"email-already-in-use","The email address is already in use by another account."),s(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),s(e,"expired-action-code","The action code has expired."),s(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),s(e,"internal-error","An internal AuthError has occurred."),s(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),s(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),s(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),s(e,"invalid-auth-event","An internal AuthError has occurred."),s(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),s(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),s(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),s(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),s(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),s(e,"invalid-email","The email address is badly formatted."),s(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),s(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),s(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),s(e,"invalid-credential","The supplied auth credential is malformed or has expired."),s(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),s(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),s(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),s(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),s(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),s(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),s(e,"wrong-password","The password is invalid or the user does not have a password."),s(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),s(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),s(e,"invalid-provider-id","The specified provider ID is invalid."),s(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),s(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),s(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),s(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),s(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),s(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),s(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),s(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),s(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),s(e,"missing-continue-uri","A continue URL must be provided in the request."),s(e,"missing-iframe-start","An internal AuthError has occurred."),s(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),s(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),s(e,"missing-password","A non-empty password must be provided"),s(e,"missing-multi-factor-info","No second factor identifier is provided."),s(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),s(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),s(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),s(e,"app-deleted","This instance of FirebaseApp has been deleted."),s(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),s(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),s(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),s(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),s(e,"no-auth-event","An internal AuthError has occurred."),s(e,"no-such-provider","User was not linked to an account with the given provider."),s(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),s(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),s(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),s(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),s(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),s(e,"provider-already-linked","User can only be linked to one identity for the given provider."),s(e,"quota-exceeded","The project's quota for this operation has been exceeded."),s(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),s(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),s(e,"rejected-credential","The request contains malformed or mismatching credentials."),s(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),s(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),s(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),s(e,"timeout","The operation has timed out."),s(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),s(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),s(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),s(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),s(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),s(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),s(e,"unverified-email","The operation requires a verified email."),s(e,"user-cancelled","The user did not grant your application the permissions it requested."),s(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),s(e,"user-disabled","The user account has been disabled by an administrator."),s(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),s(e,"user-signed-out",""),s(e,"weak-password","The password must be 6 characters long or more."),s(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),s(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),s(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),s(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),s(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),s(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),s(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),s(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),s(e,"invalid-req-type","Invalid request parameters."),s(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},cr=sr,lr=new et("auth","Firebase",sr()),fr=new Dt("@firebase/auth");function hr(e){if(fr.logLevel<=_t.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];fr.warn.apply(fr,["Auth (".concat(yn,"): ").concat(e)].concat(n))}}function dr(e){if(fr.logLevel<=_t.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];fr.error.apply(fr,["Auth (".concat(yn,"): ").concat(e)].concat(n))}}function pr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw yr.apply(void 0,[e].concat(n))}function vr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return yr.apply(void 0,[e].concat(n))}function mr(e,t,n){var r=Object.assign(Object.assign({},cr()),s({},t,n));return new et("auth","Firebase",r).create(t,{appName:e.name})}function gr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&pr(e,"argument-error"),mr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function yr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=kt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(kt(o)))}return lr.create.apply(lr,[e].concat(n))}function kr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw yr.apply(void 0,[t].concat(r))}}function br(e){var t="INTERNAL ASSERTION FAILED: "+e;throw dr(t),new Error(t)}function wr(e,t){e||br(t)}function xr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ir(){return"http:"===Sr()||"https:"===Sr()}function Sr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var _r=function(){function e(t,n){y(this,e),this.shortDelay=t,this.longDelay=n,wr(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())||Ye()}return g(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ir()||Qe()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Er(e,t){wr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Tr=function(){function e(){y(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ar=(s(Zn={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),s(Zn,"MISSING_CUSTOM_TOKEN","internal-error"),s(Zn,"INVALID_IDENTIFIER","invalid-email"),s(Zn,"MISSING_CONTINUE_URI","internal-error"),s(Zn,"INVALID_PASSWORD","wrong-password"),s(Zn,"MISSING_PASSWORD","missing-password"),s(Zn,"EMAIL_EXISTS","email-already-in-use"),s(Zn,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),s(Zn,"INVALID_IDP_RESPONSE","invalid-credential"),s(Zn,"INVALID_PENDING_TOKEN","invalid-credential"),s(Zn,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),s(Zn,"MISSING_REQ_TYPE","internal-error"),s(Zn,"EMAIL_NOT_FOUND","user-not-found"),s(Zn,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),s(Zn,"EXPIRED_OOB_CODE","expired-action-code"),s(Zn,"INVALID_OOB_CODE","invalid-action-code"),s(Zn,"MISSING_OOB_CODE","internal-error"),s(Zn,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),s(Zn,"INVALID_ID_TOKEN","invalid-user-token"),s(Zn,"TOKEN_EXPIRED","user-token-expired"),s(Zn,"USER_NOT_FOUND","user-token-expired"),s(Zn,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),s(Zn,"INVALID_CODE","invalid-verification-code"),s(Zn,"INVALID_SESSION_INFO","invalid-verification-id"),s(Zn,"INVALID_TEMPORARY_PROOF","invalid-credential"),s(Zn,"MISSING_SESSION_INFO","missing-verification-id"),s(Zn,"SESSION_EXPIRED","code-expired"),s(Zn,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),s(Zn,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),s(Zn,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),s(Zn,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),s(Zn,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),s(Zn,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),s(Zn,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),s(Zn,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),s(Zn,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),s(Zn,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),s(Zn,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),s(Zn,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),s(Zn,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),s(Zn,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),s(Zn,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),s(Zn,"MISSING_CLIENT_TYPE","missing-client-type"),s(Zn,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),s(Zn,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),s(Zn,"INVALID_REQ_TYPE","invalid-req-type"),Zn),Cr=new _r(3e4,6e4);function Nr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Pr(e,t,n,r){return Dr.apply(this,arguments)}function Dr(){return Dr=l(u().mark((function e(t,n,r,i){var a,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Rr(t,a,l(u().mark((function e(){var a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=ot(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Tr.fetch()(Fr(t,t.config.apiHost,r,s),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Dr.apply(this,arguments)}function Rr(e,t,n){return Or.apply(this,arguments)}function Or(){return(Or=l(u().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ar),n),e.prev=2,a=new jr(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Br(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=v(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Br(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Br(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Br(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw mr(t,p,d);case 34:pr(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Ze)){e.next=41;break}throw e.t0;case 41:pr(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function Lr(e,t,n,r){return Mr.apply(this,arguments)}function Mr(){return Mr=l(u().mark((function e(t,n,r,i){var a,o,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Pr(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&pr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}function Fr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Er(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var jr=function(){function e(t){var n=this;y(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(vr(n.auth,"network-request-failed"))}),Cr.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Br(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=vr(e,t,r);return i.customData._tokenResponse=n,i}function Ur(e,t){return zr.apply(this,arguments)}function zr(){return(zr=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pr(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vr(e,t){return qr.apply(this,arguments)}function qr(){return(qr=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hr(e,t){return Kr.apply(this,arguments)}function Kr(){return(Kr=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pr(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gr(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Wr(){return Wr=l(u().mark((function e(t){var n,r,i,a,o,s,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=gt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,kr((a=Yr(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Gr(Qr(a.auth_time)),issuedAtTime:Gr(Qr(a.iat)),expirationTime:Gr(Qr(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Wr.apply(this,arguments)}function Qr(e){return 1e3*Number(e)}function Yr(e){var t=v(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return dr("JWT malformed, contained fewer than 3 sections"),null;try{var a=Be(r);return a?JSON.parse(a):(dr("Failed to decode base64 JWT payload"),null)}catch(o){return dr("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Xr(e,t){return Jr.apply(this,arguments)}function Jr(){return Jr=l(u().mark((function e(t,n){var r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ze&&$r(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Jr.apply(this,arguments)}function $r(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Zr=function(){function e(t){y(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ei=function(){function e(t,n){y(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Gr(this.lastLoginAt),this.creationTime=Gr(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ti(e){return ni.apply(this,arguments)}function ni(){return ni=l(u().mark((function e(t){var n,r,i,a,o,s,c,l,f,h,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Xr(t,Hr(r,{idToken:i}));case 6:kr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=$n(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],c=ii(t.providerData,s),l=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(null===c||void 0===c?void 0:c.length),h=!!l&&f,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ei(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),ni.apply(this,arguments)}function ri(){return(ri=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gt(t),e.next=3,ti(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ii(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(kt(n),kt(t))}function ai(e,t){return oi.apply(this,arguments)}function oi(){return(oi=l(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr(t,{},l(u().mark((function e(){var r,i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ot({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Fr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Tr.fetch()(s,{method:"POST",headers:c,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var si=function(){function e(){y(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){kr(e.idToken,"internal-error"),kr("undefined"!==typeof e.idToken,"internal-error"),kr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Yr(e);return kr(t,"internal-error"),kr("undefined"!==typeof t.exp,"internal-error"),kr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=l(u().mark((function e(t){var n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],kr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=l(u().mark((function e(t,n){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ai(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return br("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(kr("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(kr("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(kr("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ui(e,t){kr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ci=function(){function e(t){y(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=$n(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?kt(a.providerData):[],this.metadata=new ei(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(kr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Wr.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ri.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(kr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){kr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=l(u().mark((function e(t){var n,r,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ti(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=l(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Xr(this,Ur(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,I=n.stsTokenManager;kr(k&&I,t,"internal-error");var S=si.fromJSON(this.name,I);kr("string"===typeof k,t,"internal-error"),ui(f,t.name),ui(h,t.name),kr("boolean"===typeof b,t,"internal-error"),kr("boolean"===typeof w,t,"internal-error"),ui(d,t.name),ui(p,t.name),ui(v,t.name),ui(m,t.name),ui(g,t.name),ui(y,t.name);var _=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=l(u().mark((function t(n,r){var i,a,o,s=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new si).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ti(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),li=new Map;function fi(e){wr(e instanceof Function,"Expected a class definition");var t=li.get(e);return t?(wr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,li.set(e,t),t)}var hi=function(){function e(){y(this,e),this.type="NONE",this.storage={}}return g(e,[{key:"_isAvailable",value:function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();hi.type="NONE";var di=hi;function pi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var vi=function(){function e(t,n,r){y(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=pi(this.userKey,a.apiKey,o),this.fullPersistenceKey=pi("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=l(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ci._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=l(u().mark((function t(n,r){var i,a,o,s,c,f,h,d,p,v,m,g=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=g.length>2&&void 0!==g[2]?g[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(fi(di),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||fi(di),s=pi(i,n.config.apiKey,n.name),c=null,f=Ee(r),t.prev=10,f.s();case 12:if((h=f.n()).done){t.next=29;break}return d=h.value,t.prev=14,t.next=17,d._get(s);case 17:if(!(p=t.sent)){t.next=23;break}return v=ci._fromJSON(n,p),d!==o&&(c=v),o=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),f.e(t.t1);case 34:return t.prev=34,f.f(),t.finish(34);case 37:if(m=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=m[0],!c){t.next=44;break}return t.next=44,o._set(s,c.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function mi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xi(t))return"Blackberry";if(Ii(t))return"Webos";if(yi(t))return"Safari";if((t.includes("chrome/")||ki(t))&&!t.includes("edge/"))return"Chrome";if(wi(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/firefox\//i.test(e)}function yi(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/crios\//i.test(e)}function bi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/iemobile/i.test(e)}function wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/android/i.test(e)}function xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/blackberry/i.test(e)}function Ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/webos/i.test(e)}function Si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function _i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return Si(e)||wi(e)||Ii(e)||xi(e)||/windows phone/i.test(e)||bi(e)}function Ei(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=mi(Ge());break;case"Worker":t="".concat(mi(Ge()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(yn,"/").concat(r)}function Ti(e){return Ai.apply(this,arguments)}function Ai(){return(Ai=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pr(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ci(e,t){return Ni.apply(this,arguments)}function Ni(){return(Ni=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pr(t,"GET","/v2/recaptchaConfig",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pi(e){return void 0!==e&&void 0!==e.getResponse}function Di(e){return void 0!==e&&void 0!==e.enterprise}var Ri=g((function e(t){if(y(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Oi(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=vr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Li(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Mi=function(){function e(t){y(this,e),this.type="recaptcha-enterprise",this.auth=zi(t)}return g(e,[{key:"verify",value:function(){var e=l(u().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Di(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=l(u().mark((function e(n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ci(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Ri(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Di(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Oi("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Fi(e,t,n){return ji.apply(this,arguments)}function ji(){return ji=l(u().mark((function e(t,n,r){var i,a,o,s,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]&&c[3],a=new Mi(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),ji.apply(this,arguments)}var Bi=function(){function e(t){y(this,e),this.auth=t,this.queue=[]}return g(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=l(u().mark((function e(t){var n,r,i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Ee(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Ee(n);try{for(o.s();!(s=o.n()).done;){c=s.value;try{c()}catch(u){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ui=function(){function e(t,n,r,i){y(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vi(this),this.idTokenSubscription=new Vi(this),this.beforeStateQueue=new Bi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=fi(t)),this._initializationPromise=this.queue(l(u().mark((function r(){var i,a;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,vi.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=l(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=l(u().mark((function e(t){var n,r,i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:c=e.sent,o&&o!==s||!(null===c||void 0===c?void 0:c.user)||(i=c.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return kr(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ti(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?gt(t):null)&&kr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=l(u().mark((function e(t){var n,r=this,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&kr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(l(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(fi(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=l(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ci(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Ri(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Mi(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new et("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=l(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return kr(n=t&&fi(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,vi.create(this,[fi(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=l(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=l(u().mark((function e(t){var n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return kr(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return kr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ei(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=l(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=l(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&hr("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function zi(e){return gt(e)}var Vi=function(){function e(t){var n=this;y(this,e),this.auth=t,this.observer=null,this.addObserver=ct((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return kr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function qi(e,t,n){var r=zi(e);kr(r._canInitEmulator,r,"emulator-config-failed"),kr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Hi(t),o=function(e){var t=Hi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ki(r.substr(a.length+1))}}var o=v(r.split(":"),2);return{host:o[0],port:Ki(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Hi(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ki(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Gi=function(){function e(t,n){y(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return br("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return br("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return br("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return br("not implemented")}}]),e}();function Wi(e,t){return Qi.apply(this,arguments)}function Qi(){return(Qi=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pr(t,"POST","/v1/accounts:resetPassword",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yi(e,t){return Xi.apply(this,arguments)}function Xi(){return(Xi=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ji(e,t){return $i.apply(this,arguments)}function $i(){return($i=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pr(t,"POST","/v1/accounts:update",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zi(e,t){return ea.apply(this,arguments)}function ea(){return(ea=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithPassword",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(e,t){return na.apply(this,arguments)}function na(){return(na=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pr(t,"POST","/v1/accounts:sendOobCode",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ra(e,t){return ia.apply(this,arguments)}function ia(){return(ia=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ta(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return(oa=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ta(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sa(e,t){return ua.apply(this,arguments)}function ua(){return(ua=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ta(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ca(e,t){return la.apply(this,arguments)}function la(){return(la=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ta(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fa(e,t){return ha.apply(this,arguments)}function ha(){return(ha=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(e,t){return pa.apply(this,arguments)}function pa(){return(pa=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var va=function(e){Ce(n,e);var t=De(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return y(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=l(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Fi(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Zi(t,i));case 11:return e.abrupt("return",Zi(t,r).catch(function(){var e=l(u().mark((function e(n){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Fi(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Zi(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",fa(t,{email:this._email,oobCode:this._password}));case 13:pr(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Yi(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",da(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:pr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Gi);function ma(e,t){return ga.apply(this,arguments)}function ga(){return(ga=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithIdp",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ya=function(e){Ce(n,e);var t=De(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ma(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ma(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ma(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ot(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=$n(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Gi);function ka(e,t){return ba.apply(this,arguments)}function ba(){return(ba=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pr(t,"POST","/v1/accounts:sendVerificationCode",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wa(){return(wa=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithPhoneNumber",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xa(){return(xa=l(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lr(t,"POST","/v1/accounts:signInWithPhoneNumber",Nr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Br(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ia=s({},"USER_NOT_FOUND","user-not-found");function Sa(){return(Sa=l(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithPhoneNumber",Nr(t,r),Ia));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _a=function(e){Ce(n,e);var t=De(n);function n(e){var r;return y(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return wa.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return xa.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Sa.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Gi);var Ea=function(){function e(t){var n,r,i,a,o,s;y(this,e);var u=st(ut(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);kr(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=st(ut(e)).link,n=t?st(ut(t)).deep_link_id:null,r=st(ut(e)).deep_link_id;return(r?st(ut(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(t_){return null}}}]),e}();var Ta=function(){function e(){y(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return va._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ea.parseLink(t);return kr(n,"argument-error"),va._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ta.PROVIDER_ID="password",Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Aa=function(){function e(t){y(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ca=function(e){Ce(n,e);var t=De(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return kt(this.scopes)}}]),n}(Aa),Na=function(e){Ce(n,e);var t=De(n);function n(){return y(this,n),t.apply(this,arguments)}return g(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return kr(e.idToken||e.accessToken,"argument-error"),ya._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return kr("providerId"in t&&"signInMethod"in t,"argument-error"),ya._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Ca),Pa=function(e){Ce(n,e);var t=De(n);function n(){return y(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return ya._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(t_){return null}}}]),n}(Ca);Pa.FACEBOOK_SIGN_IN_METHOD="facebook.com",Pa.PROVIDER_ID="facebook.com";var Da=function(e){Ce(n,e);var t=De(n);function n(){var e;return y(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return ya._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(t_){return null}}}]),n}(Ca);Da.GOOGLE_SIGN_IN_METHOD="google.com",Da.PROVIDER_ID="google.com";var Ra=function(e){Ce(n,e);var t=De(n);function n(){return y(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return ya._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(t_){return null}}}]),n}(Ca);Ra.GITHUB_SIGN_IN_METHOD="github.com",Ra.PROVIDER_ID="github.com";var Oa=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return g(n,[{key:"_getIdTokenResponse",value:function(e){return ma(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ma(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ma(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Gi),La=function(e){Ce(n,e);var t=De(n);function n(e){return y(this,n),kr(e.startsWith("saml."),"argument-error"),t.call(this,e)}return g(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Oa.fromJSON(e);return kr(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Oa._create(r,n)}catch(i){return null}}}]),n}(Aa),Ma=function(e){Ce(n,e);var t=De(n);function n(){return y(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return ya._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(t_){return null}}}]),n}(Ca);function Fa(e,t){return ja.apply(this,arguments)}function ja(){return(ja=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signUp",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ma.TWITTER_SIGN_IN_METHOD="twitter.com",Ma.PROVIDER_ID="twitter.com";var Ba=function(){function e(t){y(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=l(u().mark((function t(n,r,i){var a,o,s,c,l=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,ci._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Ua(i),c=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=l(u().mark((function t(n,r,i){var a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ua(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ua(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function za(){return za=l(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zi(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ba({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Fa(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ba._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}var Va=function(e){Ce(n,e);var t=De(n);function n(e,r,i,a){var o,s;return y(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Te(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ze);function qa(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Va._fromErrorAndOperation(e,n,t,r);throw n}))}function Ha(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ka(e,t){return Ga.apply(this,arguments)}function Ga(){return Ga=l(u().mark((function e(t,n){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gt(t),e.next=3,Ya(!0,r,n);case 3:return e.t0=Vr,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ha(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ga.apply(this,arguments)}function Wa(e,t){return Qa.apply(this,arguments)}function Qa(){return Qa=l(u().mark((function e(t,n){var r,i,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Xr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ba._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Qa.apply(this,arguments)}function Ya(e,t,n){return Xa.apply(this,arguments)}function Xa(){return(Xa=l(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ti(n);case 2:i=Ha(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",kr(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ja(e,t){return $a.apply(this,arguments)}function $a(){return $a=l(u().mark((function e(t,n){var r,i,a,o,s,c,l=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Xr(t,qa(i,a,n,t),r);case 6:return kr((o=e.sent).idToken,i,"internal-error"),kr(s=Yr(o.idToken),i,"internal-error"),c=s.sub,kr(t.uid===c,i,"user-mismatch"),e.abrupt("return",Ba._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&pr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),$a.apply(this,arguments)}function Za(e,t){return eo.apply(this,arguments)}function eo(){return eo=l(u().mark((function e(t,n){var r,i,a,o,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,qa(t,i,n);case 4:return a=e.sent,e.next=7,Ba._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}function to(e,t){return no.apply(this,arguments)}function no(){return(no=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Za(zi(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ro(e,t){return io.apply(this,arguments)}function io(){return(io=l(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gt(t),e.next=3,Ya(!1,r,n.providerId);case 3:return e.abrupt("return",Wa(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ao(e,t){return oo.apply(this,arguments)}function oo(){return(oo=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ja(gt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function so(e,t){return uo.apply(this,arguments)}function uo(){return(uo=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithCustomToken",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function co(){return(co=l(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zi(t),e.next=3,so(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ba._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lo=function(){function e(t,n){y(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return g(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?fo._fromServerResponse(e,t):"totpInfo"in t?ho._fromServerResponse(e,t):pr(e,"internal-error")}}]),e}(),fo=function(e){Ce(n,e);var t=De(n);function n(e){var r;return y(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(lo),ho=function(e){Ce(n,e);var t=De(n);function n(e){return y(this,n),t.call(this,"totp",e)}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(lo);function po(e,t,n){var r;kr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),kr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(kr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(kr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function vo(){return vo=l(u().mark((function e(t,n,r){var i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=zi(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Fi(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&po(a,s,r),e.next=9,aa(a,s);case 9:e.next=14;break;case 11:return r&&po(a,o,r),e.next=14,aa(a,o).catch(function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Fi(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&po(a,n,r),e.next=8,aa(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}function mo(){return(mo=l(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wi(gt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function go(){return(go=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ji(gt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yo(e,t){return ko.apply(this,arguments)}function ko(){return(ko=l(u().mark((function e(t,n){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gt(t),e.next=3,Wi(r,{oobCode:n});case 3:i=e.sent,kr(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return kr(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:kr(i.mfaInfo,r,"internal-error");case 13:kr(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=lo._fromServerResponse(zi(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bo(){return(bo=l(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yo(gt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wo(e,t,n){return xo.apply(this,arguments)}function xo(){return xo=l(u().mark((function e(t,n,r){var i,a,o,s,c,f,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=zi(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Fi(a,o,"signUpPassword");case 5:c=e.sent,s=Fa(a,c),e.next=10;break;case 9:s=Fa(a,o).catch(function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Fi(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Fa(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return f=e.sent,e.next=15,Ba._fromIdTokenResponse(a,"signIn",f);case 15:return h=e.sent,e.next=18,a._updateCurrentUser(h.user);case 18:return e.abrupt("return",h);case 19:case"end":return e.stop()}}),e)}))),xo.apply(this,arguments)}function Io(){return Io=l(u().mark((function e(t,n,r){var i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){kr(t.handleCodeInApp,a,"argument-error"),t&&po(a,e,t)},a=zi(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Fi(a,o,"getOobCode",!0);case 6:return c=e.sent,s(c,r),e.next=10,sa(a,c);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,sa(a,o).catch(function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Fi(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,sa(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Io.apply(this,arguments)}function So(){return(So=l(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gt(t),kr((a=Ta.credentialWithLink(n,r||xr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",to(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _o(e,t){return Eo.apply(this,arguments)}function Eo(){return(Eo=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pr(t,"POST","/v1/accounts:createAuthUri",Nr(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function To(){return(To=l(u().mark((function e(t,n){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ir()?xr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,_o(gt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ao(){return(Ao=l(u().mark((function e(t,n){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&po(r.auth,a,n),e.next=8,ra(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Co(){return(Co=l(u().mark((function e(t,n,r){var i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&po(i.auth,o,r),e.next=8,ca(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function No(e,t){return Po.apply(this,arguments)}function Po(){return(Po=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(){return(Do=l(u().mark((function e(t,n){var r,i,a,o,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=gt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Xr(a,No(a.auth,s));case 10:return c=e.sent,a.displayName=c.displayName||null,a.photoURL=c.photoUrl||null,(l=a.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ro(e,t,n){return Oo.apply(this,arguments)}function Oo(){return(Oo=l(u().mark((function e(t,n,r){var i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Xr(t,Yi(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lo=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Mo=function(e){Ce(n,e);var t=De(n);function n(e,r,i,a){var o;return y(this,n),(o=t.call(this,e,r,i)).username=a,o}return g(n)}(Lo),Fo=function(e){Ce(n,e);var t=De(n);function n(e,r){return y(this,n),t.call(this,e,"facebook.com",r)}return g(n)}(Lo),jo=function(e){Ce(n,e);var t=De(n);function n(e,r){return y(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return g(n)}(Mo),Bo=function(e){Ce(n,e);var t=De(n);function n(e,r){return y(this,n),t.call(this,e,"google.com",r)}return g(n)}(Lo),Uo=function(e){Ce(n,e);var t=De(n);function n(e,r,i){return y(this,n),t.call(this,e,"twitter.com",r,i)}return g(n)}(Mo);function zo(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Yr(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Lo(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Fo(a,i);case"github.com":return new jo(a,i);case"google.com":return new Bo(a,i);case"twitter.com":return new Uo(a,i,e.screenName||null);case"custom":case"anonymous":return new Lo(a,null);default:return new Lo(a,r,i)}}(n)}var Vo=function(){function e(t,n,r){y(this,e),this.type=t,this.credential=n,this.auth=r}return g(e,[{key:"toJSON",value:function(){return{multiFactorSession:s({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),qo=function(){function e(t,n,r){y(this,e),this.session=t,this.hints=n,this.signInResolver=r}return g(e,[{key:"resolveSignIn",value:function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=zi(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return lo._fromServerResponse(r,e)}));kr(i.mfaPendingCredential,r,"internal-error");var o=Vo._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=l(u().mark((function e(t){var a,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ba._fromIdTokenResponse(r,n.operationType,s);case 11:return c=e.sent,e.next=14,r._updateCurrentUser(c.user);case 14:return e.abrupt("return",c);case 15:return kr(n.user,r,"internal-error"),e.abrupt("return",Ba._forOperation(n.user,n.operationType,s));case 17:pr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ho(e,t){return Pr(e,"POST","/v2/accounts/mfaEnrollment:start",Nr(e,t))}function Ko(e,t){return Pr(e,"POST","/v2/accounts/mfaEnrollment:finalize",Nr(e,t))}var Go=function(){function e(t){var n=this;y(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return lo._fromServerResponse(t.auth,e)})))}))}return g(e,[{key:"getSession",value:function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Vo,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=l(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Xr(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=l(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Xr(this.user,Pr(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Nr(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Wo=new WeakMap;var Qo="__sak",Yo=function(){function e(t,n){y(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Qo,"1"),this.storage.removeItem(Qo),Promise.resolve(!0)):Promise.resolve(!1)}catch(t_){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Xo=function(e){Ce(n,e);var t=De(n);function n(){var e;return y(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ge();return yi(e)||Si(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=_i(),e._shouldAllowMigration=!0,e}return g(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Xe()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=l(u().mark((function e(t,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(Ne(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=l(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(Ne(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(Ne(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Yo);Xo.type="LOCAL";var Jo=Xo,$o=function(e){Ce(n,e);var t=De(n);function n(){return y(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Yo);$o.type="SESSION";var Zo=$o;function es(e){return Promise.all(e.map(function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ts=function(){function e(t){y(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=l(u().mark((function e(t){var n,r,i,a,o,s,c,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),c=Array.from(s).map(function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,es(c);case 9:f=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ns(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ts.receivers=[];var rs=function(){function e(t){y(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=l(u().mark((function e(t,n){var r,i,a,o,s=this,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=ns("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function is(){return window}function as(e){is().location.href=e}function os(){return"undefined"!==typeof is().WorkerGlobalScope&&"function"===typeof is().importScripts}function ss(){return us.apply(this,arguments)}function us(){return(us=l(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function cs(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ls="firebaseLocalStorageDb",fs="firebaseLocalStorage",hs="fbase_key",ds=function(){function e(t){y(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ps(e,t){return e.transaction([fs],t?"readwrite":"readonly").objectStore(fs)}function vs(){var e=indexedDB.deleteDatabase(ls);return new ds(e).toPromise()}function ms(){var e=indexedDB.open(ls,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(fs,{keyPath:hs})}catch(r){n(r)}})),e.addEventListener("success",l(u().mark((function n(){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(fs)){n.next=12;break}return r.close(),n.next=5,vs();case 5:return n.t0=t,n.next=8,ms();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function gs(e,t,n){return ys.apply(this,arguments)}function ys(){return ys=l(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ps(t,!0).put((s(i={},hs,n),s(i,"value",r),i)),e.abrupt("return",new ds(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),ys.apply(this,arguments)}function ks(e,t){return bs.apply(this,arguments)}function bs(){return bs=l(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ps(t,!1).get(n),e.next=3,new ds(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}function ws(e,t){var n=ps(e,!0).delete(t);return new ds(n).toPromise()}var xs=function(){function e(){y(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(e,[{key:"_openDb",value:function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ms();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=l(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",os()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=l(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ts._getInstance(os()?self:null),this.receiver._subscribe("keyChanged",function(){var e=l(u().mark((function e(n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=l(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ss();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new rs(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&cs()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=l(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ms();case 5:return t=e.sent,e.next=8,gs(t,Qo,"1");case 8:return e.next=10,ws(t,Qo);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=l(u().mark((function e(t,n){var r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return gs(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ks(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=l(u().mark((function e(t){var n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ws(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=l(u().mark((function e(){var t,n,r,i,a,o,s,c,l,f,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ps(e,!1).getAll();return new ds(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ee(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,c=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(c)&&(this.notifyListeners(s,c),n.push(s))}catch(u){i.e(u)}finally{i.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)h=f[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();xs.type="LOCAL";var Is=xs;function Ss(e,t){return Pr(e,"POST","/v2/accounts/mfaSignIn:start",Nr(e,t))}function _s(e,t){return Pr(e,"POST","/v2/accounts/mfaSignIn:finalize",Nr(e,t))}var Es=1e12,Ts=function(){function e(t){y(this,e),this.auth=t,this.counter=Es,this._widgets=new Map}return g(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new As(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Es;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Es;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=l(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Es,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),As=function(){function e(t,n,r){var i=this;y(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;kr(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return g(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Cs=Li("rcb"),Ns=new _r(3e4,6e4),Ps=function(){function e(){var t;y(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=is().grecaptcha)||void 0===t?void 0:t.render)}return g(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return kr(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Pi(is().grecaptcha)?Promise.resolve(is().grecaptcha):new Promise((function(r,i){var a=is().setTimeout((function(){i(vr(e,"network-request-failed"))}),Ns.get());is()[Cs]=function(){is().clearTimeout(a),delete is()[Cs];var o=is().grecaptcha;if(o&&Pi(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(vr(e,"internal-error"))},Oi("".concat("https://www.google.com/recaptcha/api.js?","?").concat(ot({onload:Cs,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(vr(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=is().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Ds=function(){function e(){y(this,e)}return g(e,[{key:"load",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ts(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Rs="recaptcha",Os={theme:"light",type:"image"},Ls=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Os),r=arguments.length>2?arguments[2]:void 0;y(this,e),this.parameters=n,this.type=Rs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zi(r),this.isInvisible="invisible"===this.parameters.size,kr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;kr(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ds:new Ps,this.validateStartingState()}return g(e,[{key:"verify",value:function(){var e=l(u().mark((function e(){var t,n,r,i=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){kr(!this.parameters.sitekey,this.auth,"argument-error"),kr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),kr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=is()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){kr(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=l(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=l(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kr(Ir()&&!os(),this.auth,"internal-error"),e.next=3,Ms();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Ti(this.auth);case 8:kr(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return kr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Ms(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Fs=function(){function e(t,n){y(this,e),this.verificationId=t,this.onConfirmation=n}return g(e,[{key:"confirm",value:function(e){var t=_a._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function js(){return(js=l(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zi(t),e.next=3,Vs(i,n,gt(r));case 3:return a=e.sent,e.abrupt("return",new Fs(a,(function(e){return to(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bs(e,t,n){return Us.apply(this,arguments)}function Us(){return(Us=l(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gt(t),e.next=3,Ya(!1,i,"phone");case 3:return e.next=5,Vs(i.auth,n,gt(r));case 5:return a=e.sent,e.abrupt("return",new Fs(a,(function(e){return ro(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zs(){return(zs=l(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gt(t),e.next=3,Vs(i.auth,n,gt(r));case 3:return a=e.sent,e.abrupt("return",new Fs(a,(function(e){return ao(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vs(e,t,n){return qs.apply(this,arguments)}function qs(){return qs=l(u().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,kr("string"===typeof a,t,"argument-error"),kr(r.type===Rs,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return kr("enroll"===s.type,t,"internal-error"),e.next=13,Ho(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return kr("signin"===s.type,t,"internal-error"),kr(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ss(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ka(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),qs.apply(this,arguments)}function Hs(){return(Hs=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa(gt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ks=function(){function e(t){y(this,e),this.providerId=e.PROVIDER_ID,this.auth=zi(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return Vs(this.auth,e,gt(t))}}],[{key:"credential",value:function(e,t){return _a._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?_a._fromTokenResponse(n,r):null}}]),e}();function Gs(e,t){return t?fi(t):(kr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ks.PROVIDER_ID="phone",Ks.PHONE_SIGN_IN_METHOD="phone";var Ws=function(e){Ce(n,e);var t=De(n);function n(e){var r;return y(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return ma(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ma(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ma(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Gi);function Qs(e){return Za(e.auth,new Ws(e),e.bypassAuthState)}function Ys(e){var t=e.auth,n=e.user;return kr(n,t,"internal-error"),Ja(n,new Ws(e),e.bypassAuthState)}function Xs(e){return Js.apply(this,arguments)}function Js(){return(Js=l(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,kr(r=t.user,n,"internal-error"),e.abrupt("return",Wa(r,new Ws(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $s=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];y(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=l(u().mark((function t(n,r){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=l(u().mark((function e(t){var n,r,i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qs;case"linkViaPopup":case"linkViaRedirect":return Xs;case"reauthViaPopup":case"reauthViaRedirect":return Ys;default:pr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Zs=new _r(2e3,1e4);function eu(e,t,n){return tu.apply(this,arguments)}function tu(){return(tu=l(u().mark((function e(t,n,r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zi(t),gr(t,n,Aa),a=Gs(i,r),o=new au(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nu(){return(nu=l(u().mark((function e(t,n,r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gr((i=gt(t)).auth,n,Aa),a=Gs(i.auth,r),o=new au(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ru(e,t,n){return iu.apply(this,arguments)}function iu(){return(iu=l(u().mark((function e(t,n,r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gr((i=gt(t)).auth,n,Aa),a=Gs(i.auth,r),o=new au(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var au=function(e){Ce(n,e);var t=De(n);function n(e,r,i,a,o){var s;return y(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Te(s),s}return g(n,[{key:"executeNotNull",value:function(){var e=l(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return kr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=l(u().mark((function e(){var t,n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wr(1===this.filter.length,"Popup operations only handle one event"),t=ns(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(vr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(vr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(vr(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Zs.get())}()}}]),n}($s);au.currentPopupAction=null;var ou="pendingRedirect",su=new Map,uu=function(e){Ce(n,e);var t=De(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return y(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return g(n,[{key:"execute",value:function(){var e=l(u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=su.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,cu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Jn(Ne(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:su.set(this.auth._key(),t);case 21:return this.bypassAuthState||su.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=l(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Jn(Ne(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Jn(Ne(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}($s);function cu(e,t){return lu.apply(this,arguments)}function lu(){return(lu=l(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vu(n),i=pu(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fu(e,t){return hu.apply(this,arguments)}function hu(){return(hu=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pu(t)._set(vu(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function du(e,t){su.set(e._key(),t)}function pu(e){return fi(e._redirectPersistence)}function vu(e){return pi(ou,e.config.apiKey,e.name)}function mu(e,t,n){return function(e,t,n){return gu.apply(this,arguments)}(e,t,n)}function gu(){return(gu=l(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zi(t),gr(t,n,Aa),e.next=4,i._initializationPromise;case 4:return a=Gs(i,r),e.next=7,fu(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yu(e,t,n){return function(e,t,n){return ku.apply(this,arguments)}(e,t,n)}function ku(){return(ku=l(u().mark((function e(t,n,r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gr((i=gt(t)).auth,n,Aa),e.next=4,i.auth._initializationPromise;case 4:return a=Gs(i.auth,r),e.next=7,fu(a,i.auth);case 7:return e.next=9,Eu(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bu(e,t,n){return function(e,t,n){return wu.apply(this,arguments)}(e,t,n)}function wu(){return(wu=l(u().mark((function e(t,n,r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gr((i=gt(t)).auth,n,Aa),e.next=4,i.auth._initializationPromise;case 4:return a=Gs(i.auth,r),e.next=7,Ya(!1,i,n.providerId);case 7:return e.next=9,fu(a,i.auth);case 9:return e.next=11,Eu(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xu(e,t){return Iu.apply(this,arguments)}function Iu(){return(Iu=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zi(t)._initializationPromise;case 2:return e.abrupt("return",Su(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(e,t){return _u.apply(this,arguments)}function _u(){return _u=l(u().mark((function e(t,n){var r,i,a,o,s,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=zi(t),a=Gs(i,n),o=new uu(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}function Eu(e){return Tu.apply(this,arguments)}function Tu(){return(Tu=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ns("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Au=function(){function e(t){y(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Nu(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(vr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cu(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Cu(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Cu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Nu(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Pu(e){return Du.apply(this,arguments)}function Du(){return Du=l(u().mark((function e(t){var n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Pr(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Du.apply(this,arguments)}var Ru=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ou=/^https?/;function Lu(){return(Lu=l(u().mark((function e(t){var n,r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Pu(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ee(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Mu(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:pr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Mu(e){var t=xr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ou.test(r))return!1;if(Ru.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Fu=new _r(3e4,6e4);function ju(){var e=is().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=kt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Bu=null;function Uu(e){return Bu=Bu||function(e){return new Promise((function(t,n){var r,i,a;function o(){ju(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ju(),n(vr(e,"network-request-failed"))},timeout:Fu.get()})}if(null===(i=null===(r=is().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=is().gapi)||void 0===a?void 0:a.load)){var s=Li("iframefcb");return is()[s]=function(){gapi.load?o():n(vr(e,"network-request-failed"))},Oi("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Bu=null,e}))}(e),Bu}var zu=new _r(5e3,15e3),Vu="__/auth/iframe",qu="emulator/auth/iframe",Hu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ku=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gu(e){var t=e.config;kr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Er(t,qu):"https://".concat(e.config.authDomain,"/").concat(Vu),r={apiKey:t.apiKey,appName:e.name,v:yn},i=Ku.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ot(r).slice(1))}function Wu(e){return Qu.apply(this,arguments)}function Qu(){return Qu=l(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uu(t);case 2:return n=e.sent,kr(r=is().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Gu(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hu,dontclear:!0},(function(e){return new Promise(function(){var n=l(u().mark((function n(r,i){var a,o,s;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){is().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=vr(t,"network-request-failed"),o=is().setTimeout((function(){i(a)}),zu.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Qu.apply(this,arguments)}var Yu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xu=function(){function e(t){y(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ju(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Yu),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Ge().toLowerCase();n&&(s=ki(c)?"_blank":n),gi(c)&&(t=t||"http://localhost",u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=v(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Si(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Xu(null);var f=window.open(t||"",s,l);kr(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Xu(f)}var $u="__/auth/handler",Zu="emulator/auth/handler",ec=encodeURIComponent("fac");function tc(e,t,n,r,i,a){return nc.apply(this,arguments)}function nc(){return(nc=l(u().mark((function e(t,n,r,i,a,o){var s,c,l,f,h,d,p,m,g,y,k,b,w;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kr(t.config.authDomain,t,"auth-domain-config-required"),kr(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:yn,eventId:a},n instanceof Aa)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",rt(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(o||{});c<l.length;c++)f=v(l[c],2),h=f[0],d=f[1],s[h]=d;for(n instanceof Ca&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),m=s,g=0,y=Object.keys(m);g<y.length;g++)k=y[g],void 0===m[k]&&delete m[k];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,w=b?"#".concat(ec,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(rc(t),"?").concat(ot(m).slice(1)).concat(w));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rc(e){var t=e.config;return t.emulator?Er(t,Zu):"https://".concat(t.authDomain,"/").concat($u)}var ic="webStorageSupport",ac=function(){function e(){y(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zo,this._completeRedirectFn=Su,this._overrideRedirectResult=du}return g(e,[{key:"_openPopup",value:function(){var e=l(u().mark((function e(t,n,r,i){var a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,tc(t,n,r,xr(),i);case 3:return o=e.sent,e.abrupt("return",Ju(t,o,ns()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=l(u().mark((function e(t,n,r,i){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,tc(t,n,r,xr(),i);case 4:return as(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(wr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=l(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wu(t);case 2:return n=e.sent,r=new Au(t),n.register("authEvent",(function(e){return kr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ic,{type:ic},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ic];void 0!==i&&t(!!i),pr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Lu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return _i()||yi()||Si()}}]),e}(),oc=ac,sc=function(){function e(t){y(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return br("unexpected MultiFactorSessionType")}}}]),e}(),uc=function(e){Ce(n,e);var t=De(n);function n(e){var r;return y(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Pr(e,"POST","/v2/accounts/mfaEnrollment:finalize",Nr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Pr(e,"POST","/v2/accounts/mfaSignIn:finalize",Nr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(sc),cc=function(){function e(){y(this,e)}return g(e,null,[{key:"assertion",value:function(e){return uc._fromCredential(e)}}]),e}();cc.FACTOR_ID="phone";var lc=function(){function e(){y(this,e)}return g(e,null,[{key:"assertionForEnrollment",value:function(e,t){return fc._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return fc._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=l(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kr("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,a={idToken:n.credential,totpEnrollmentInfo:{}},Pr(i,"POST","/v2/accounts/mfaEnrollment:start",Nr(i,a));case 4:return r=e.sent,e.abrupt("return",hc._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,a}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();lc.FACTOR_ID="totp";var fc=function(e){Ce(n,e);var t=De(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return g(n,[{key:"_finalizeEnroll",value:function(){var e=l(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kr("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Ko(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=l(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kr(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",_s(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(sc),hc=function(){function e(t,n,r,i,a,o,s){y(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return g(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(dc(e)||dc(t))&&(r=!0),r&&(dc(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),dc(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function dc(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var pc="@firebase/auth",vc="0.23.2",mc=function(){function e(t){y(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){kr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var gc;!function(e){var t;null===(t=Ve())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function yc(){return window}gc="Browser",fn(new bt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;kr(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:gc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ei(gc)},l=new Ui(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),fn(new bt("auth-internal",(function(e){return function(e){return new mc(e)}(zi(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(pc,vc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(gc)),Sn(pc,vc,"esm2017");var kc=2e3;function bc(e,t,n){return wc.apply(this,arguments)}function wc(){return wc=l(u().mark((function e(t,n,r){var i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=yc(),o=a.BuildInfo,wr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Tc(n.sessionId);case 4:return s=e.sent,c={},Si()?c.ibi=o.packageName:wi()?c.apn=o.packageName:pr(t,"operation-not-supported-in-this-environment"),o.displayName&&(c.appDisplayName=o.displayName),c.sessionId=s,e.abrupt("return",tc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,c));case 10:case"end":return e.stop()}}),e)}))),wc.apply(this,arguments)}function xc(){return(xc=l(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yc(),r=n.BuildInfo,i={},Si()?i.iosBundleId=r.packageName:wi()?i.androidPackageName=r.packageName:pr(t,"operation-not-supported-in-this-environment"),e.next=5,Pu(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ic(e){var t=yc().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Sc(e,t,n){return _c.apply(this,arguments)}function _c(){return _c=l(u().mark((function e(t,n,r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yc(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(vr(t,"redirect-cancelled-by-user"))}),kc))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),wi()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),_c.apply(this,arguments)}function Ec(e){var t,n,r,i,a,o,s,u,c,l,f=yc();kr("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),kr("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),kr("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),kr("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),kr("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Tc(e){return Ac.apply(this,arguments)}function Ac(){return(Ac=l(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cc(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cc(e){if(wr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Nc=20,Pc=function(e){Ce(n,e);var t=De(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return g(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Jn(Ne(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Au);function Dc(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Fc(),postBody:null,tenantId:e.tenantId,error:vr(e,"no-auth-event")}}function Rc(e,t){return jc()._set(Bc(e),t)}function Oc(e){return Lc.apply(this,arguments)}function Lc(){return(Lc=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jc()._get(Bc(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,jc()._remove(Bc(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mc(e,t){var n,r,i=function(e){var t=Uc(e),n=t.link?decodeURIComponent(t.link):void 0,r=Uc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Uc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Uc(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?vr(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Fc(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Nc;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function jc(){return fi(Jo)}function Bc(e){return pi("authEvent",e.config.apiKey,e.name)}function Uc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=f(t=n)||yt(t)||d(t)||p();r[0];return st(r.slice(1).join("?"))}var zc=function(){function e(){y(this,e),this._redirectPersistence=Zo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Su,this._overrideRedirectResult=du}return g(e,[{key:"_initialize",value:function(){var e=l(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Pc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){pr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=l(u().mark((function e(t,n,r,i){var a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ec(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),su.clear(),e.next=10,this._originValidation(t);case 10:return o=Dc(t,r,i),e.next=13,Rc(t,o);case 13:return e.next=15,bc(t,o,n);case 15:return s=e.sent,e.next=18,Ic(s);case 18:return c=e.sent,e.abrupt("return",Sc(t,a,c));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return xc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=yc(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(l(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Oc(e);case 2:t.onEvent(qc());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=l(u().mark((function n(r){var i,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Oc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Mc(i,r.url)),t.onEvent(a||qc());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var c=i,f="".concat(a.packageName.toLowerCase(),"://");yc().handleOpenURL=function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(f)&&s({url:t}),"function"===typeof c)try{c(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Vc=zc;function qc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:vr("no-auth-event")}}var Hc=1e3;function Kc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Gc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return!("file:"!==Kc()&&"ionic:"!==Kc()&&"capacitor:"!==Kc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return Xe()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/Edge\/\d+/.test(e)}(e)}function Qc(){try{var e=self.localStorage,t=ns();if(e)return e.setItem(t,"1"),e.removeItem(t),!Wc()||Je()}catch(n){return Yc()&&Je()}return!1}function Yc(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Xc(){return("http:"===Kc()||"https:"===Kc()||Qe()||Gc())&&!(Ye()||We())&&Qc()&&!Yc()}function Jc(){return Gc()&&"undefined"!==typeof document}function $c(){return Zc.apply(this,arguments)}function Zc(){return(Zc=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jc()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Hc);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var el={LOCAL:"local",NONE:"none",SESSION:"session"},tl=kr,nl="persistence";function rl(e,t){tl(Object.values(el).includes(t),e,"invalid-persistence-type"),Ye()?tl(t!==el.SESSION,e,"unsupported-persistence-type"):We()?tl(t===el.NONE,e,"unsupported-persistence-type"):Yc()?tl(t===el.NONE||t===el.LOCAL&&Je(),e,"unsupported-persistence-type"):tl(t===el.NONE||Qc(),e,"unsupported-persistence-type")}function il(e){return al.apply(this,arguments)}function al(){return(al=l(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=ol(),r=pi(nl,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ol(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var sl=kr,ul=function(){function e(){y(this,e),this.browserResolver=fi(oc),this.cordovaResolver=fi(Vc),this.underlyingResolver=null,this._redirectPersistence=Zo,this._completeRedirectFn=Su,this._overrideRedirectResult=du}return g(e,[{key:"_initialize",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=l(u().mark((function e(t,n,r,i){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=l(u().mark((function e(t,n,r,i){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Jc()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return sl(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=l(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$c();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function cl(e){return e.unwrap()}function ll(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new vl(e,function(e,t){var n,r=gt(e),i=t;return kr(t.customData.operationType,r,"argument-error"),kr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),qo._fromError(r,i)}(e,t));else if(r){var i=fl(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function fl(e){var t=(e instanceof Ze?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ze)&&"temporaryProof"in t&&"phoneNumber"in t)return Ks.credentialFromResult(e);var n,r=t.providerId;if(!r||r===er.PASSWORD)return null;switch(r){case er.GOOGLE:n=Da;break;case er.FACEBOOK:n=Pa;break;case er.GITHUB:n=Ra;break;case er.TWITTER:n=Ma;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Oa._create(r,s):ya._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Na(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Ze?n.credentialFromError(e):n.credentialFromResult(e)}function hl(e,t){return t.catch((function(t){throw t instanceof Ze&&ll(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,fl(t)),additionalUserInfo:zo(e),user:ml.getOrCreate(r)}}))}function dl(e,t){return pl.apply(this,arguments)}function pl(){return(pl=l(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return hl(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vl=function(){function e(t,n){y(this,e),this.resolver=n,this.auth=t.wrapped()}return g(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return hl(cl(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),ml=function(){function e(t){y(this,e),this._delegate=t,this.multiFactor=function(e){var t=gt(e);return Wo.has(t)||Wo.set(t,Go._fromUser(t)),Wo.get(t)}(t)}return g(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hl(this.auth,ro(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dl(this.auth,Bs(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hl(this.auth,ru(this._delegate,t,ul)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,il(zi(this.auth));case 2:return e.abrupt("return",bu(this._delegate,t,ul));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hl(this.auth,ao(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return dl(this.auth,function(e,t,n){return zs.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return hl(this.auth,function(e,t,n){return nu.apply(this,arguments)}(this._delegate,e,ul))}},{key:"reauthenticateWithRedirect",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,il(zi(this.auth));case 2:return e.abrupt("return",yu(this._delegate,t,ul));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Ao.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ka(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ro(gt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ro(gt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Hs.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Do.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Co.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();ml.USER_MAP=new WeakMap;var gl=kr,yl=function(){function e(t,n){if(y(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;gl(r,"invalid-api-key",{appName:t.name}),gl(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?ul:void 0;this._delegate=n.initialize({options:{persistence:bl(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ur),this.linkUnderlyingAuth()}return g(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?ml.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){qi(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return go.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return yo(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return mo.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hl(this._delegate,wo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return To.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Ea.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=l(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gl(Xc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,xu(this._delegate,ul);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",hl(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){zi(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=kl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=kl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Io.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return vo.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=l(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rl(this._delegate,t),e.t0=t,e.next=e.t0===el.SESSION?4:e.t0===el.LOCAL?6:e.t0===el.NONE?11:13;break;case 4:return n=Zo,e.abrupt("break",14);case 6:return e.next=8,fi(Is)._isAvailable();case 8:return r=e.sent,n=r?Is:Jo,e.abrupt("break",14);case 11:return n=di,e.abrupt("break",14);case 13:return e.abrupt("return",pr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return hl(this._delegate,function(e){return za.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return hl(this._delegate,to(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return hl(this._delegate,function(e,t){return co.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return hl(this._delegate,function(e,t,n){return to(gt(e),Ta.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return hl(this._delegate,function(e,t,n){return So.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return dl(this._delegate,function(e,t,n){return js.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gl(Xc(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",hl(this._delegate,eu(this._delegate,t,ul)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gl(Xc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,il(this._delegate);case 3:return e.abrupt("return",mu(this._delegate,t,ul));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return bo.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function kl(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&ml.getOrCreate(e))},error:t,complete:n}}function bl(e,t){var n=function(e,t){var n=ol();if(!n)return[];var r=pi(nl,e,t);switch(n.getItem(r)){case el.NONE:return[di];case el.LOCAL:return[Is,Zo];case el.SESSION:return[Zo];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Is)||n.push(Is),"undefined"!==typeof window)for(var r=0,i=[Jo,Zo];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(di)||n.push(di),n}yl.Persistence=el;var wl=function(){function e(){y(this,e),this.providerId="phone",this._delegate=new Ks(cl(Xn.auth()))}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Ks.credential(e,t)}}]),e}();wl.PHONE_SIGN_IN_METHOD=Ks.PHONE_SIGN_IN_METHOD,wl.PROVIDER_ID=Ks.PROVIDER_ID;var xl,Il=kr,Sl=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xn.app();y(this,e),Il(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ls(t,n,i.auth()),this.type=this._delegate.type}return g(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(xl=Xn).INTERNAL.registerComponent(new bt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new yl(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:tr,PASSWORD_RESET:nr,RECOVER_EMAIL:rr,REVERT_SECOND_FACTOR_ADDITION:ir,VERIFY_AND_CHANGE_EMAIL:ar,VERIFY_EMAIL:or}},EmailAuthProvider:Ta,FacebookAuthProvider:Pa,GithubAuthProvider:Ra,GoogleAuthProvider:Da,OAuthProvider:Na,SAMLAuthProvider:La,PhoneAuthProvider:wl,PhoneMultiFactorGenerator:cc,RecaptchaVerifier:Sl,TwitterAuthProvider:Ma,Auth:yl,AuthCredential:Gi,Error:Ze}).setInstantiationMode("LAZY").setMultipleInstances(!1)),xl.registerVersion("@firebase/auth-compat","0.4.2");var _l,El="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Tl={},Al=Al||{},Cl=El||self;function Nl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Pl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Dl="closure_uid_"+(1e9*Math.random()>>>0),Rl=0;function Ol(e,t,n){return e.call.apply(e.bind,arguments)}function Ll(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ml(e,t,n){return(Ml=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ol:Ll).apply(null,arguments)}function Fl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function jl(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Bl(){this.s=this.s,this.o=this.o}Bl.prototype.s=!1,Bl.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Dl)&&e[Dl]||(e[Dl]=++Rl))},Bl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ul=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function zl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Vl(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Nl(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function ql(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ql.prototype.h=function(){this.defaultPrevented=!0};var Hl=function(){if(!Cl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Cl.addEventListener("test",(function(){}),t),Cl.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function Kl(e){return/^[\s\xa0]*$/.test(e)}function Gl(){var e=Cl.navigator;return e&&(e=e.userAgent)?e:""}function Wl(e){return-1!=Gl().indexOf(e)}function Ql(e){return Ql[" "](e),e}Ql[" "]=function(){};var Yl,Xl,Jl=Wl("Opera"),$l=Wl("Trident")||Wl("MSIE"),Zl=Wl("Edge"),ef=Zl||$l,tf=Wl("Gecko")&&!(-1!=Gl().toLowerCase().indexOf("webkit")&&!Wl("Edge"))&&!(Wl("Trident")||Wl("MSIE"))&&!Wl("Edge"),nf=-1!=Gl().toLowerCase().indexOf("webkit")&&!Wl("Edge");function rf(){var e=Cl.document;return e?e.documentMode:void 0}e:{var af="",of=function(){var e=Gl();return tf?/rv:([^\);]+)(\)|;)/.exec(e):Zl?/Edge\/([\d\.]+)/.exec(e):$l?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):nf?/WebKit\/(\S+)/.exec(e):Jl?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(of&&(af=of?of[1]:""),$l){var sf=rf();if(null!=sf&&sf>parseFloat(af)){Yl=String(sf);break e}}Yl=af}if(Cl.document&&$l){var uf=rf();Xl=uf||(parseInt(Yl,10)||void 0)}else Xl=void 0;var cf=Xl;function lf(e,t){if(ql.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(tf){e:{try{Ql(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ff[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&lf.$.h.call(this)}}jl(lf,ql);var ff={2:"touch",3:"pen",4:"mouse"};lf.prototype.h=function(){lf.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hf="closure_listenable_"+(1e6*Math.random()|0),df=0;function pf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++df,this.fa=this.ia=!1}function vf(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function mf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function gf(e){var t={};for(var n in e)t[n]=e[n];return t}var yf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<yf.length;a++)n=yf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function bf(e){this.src=e,this.g={},this.h=0}function wf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ul(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(vf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function xf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}bf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=xf(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new pf(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var If="closure_lm_"+(1e6*Math.random()|0),Sf={};function _f(e,t,n,r,i){if(r&&r.once)return Tf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)_f(e,t[a],n,r,i);return null}return n=Of(n),e&&e[hf]?e.O(t,n,Pl(r)?!!r.capture:!!r,i):Ef(e,t,n,!1,r,i)}function Ef(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Pl(i)?!!i.capture:!!i,s=Df(e);if(s||(e[If]=s=new bf(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Pf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Hl||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Nf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Tf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Tf(e,t[a],n,r,i);return null}return n=Of(n),e&&e[hf]?e.P(t,n,Pl(r)?!!r.capture:!!r,i):Ef(e,t,n,!0,r,i)}function Af(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Af(e,t[a],n,r,i);else r=Pl(r)?!!r.capture:!!r,n=Of(n),e&&e[hf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=xf(a=e.g[t],n,r,i))&&(vf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Df(e))&&(t=e.g[t.toString()],e=-1,t&&(e=xf(t,n,r,i)),(n=-1<e?t[e]:null)&&Cf(n))}function Cf(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[hf])wf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Nf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Df(t))?(wf(n,e),0==n.h&&(n.src=null,t[If]=null)):vf(e)}}}function Nf(e){return e in Sf?Sf[e]:Sf[e]="on"+e}function Pf(e,t){if(e.fa)e=!0;else{t=new lf(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Cf(e),e=n.call(r,t)}return e}function Df(e){return(e=e[If])instanceof bf?e:null}var Rf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Of(e){return"function"===typeof e?e:(e[Rf]||(e[Rf]=function(t){return e.handleEvent(t)}),e[Rf])}function Lf(){Bl.call(this),this.i=new bf(this),this.S=this,this.J=null}function Mf(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ql(t,e);else if(t instanceof ql)t.target=t.target||e;else{var i=t;kf(t=new ql(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ff(o,r,!0,t)&&i}if(i=Ff(o=t.g=e,r,!0,t)&&i,i=Ff(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ff(o=t.g=n[a],r,!1,t)&&i}function Ff(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&wf(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}jl(Lf,Bl),Lf.prototype[hf]=!0,Lf.prototype.removeEventListener=function(e,t,n,r){Af(this,e,t,n,r)},Lf.prototype.N=function(){if(Lf.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vf(n[r]);delete t.g[e],t.h--}}this.J=null},Lf.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Lf.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var jf=Cl.JSON.stringify,Bf=function(){function e(t,n){y(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Uf(){var e=Qf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var zf=function(){function e(){y(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=Vf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Vf=new Bf((function(){return new qf}),(function(e){return e.reset()})),qf=function(){function e(){y(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Hf(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Kf(e){Cl.setTimeout((function(){throw e}),0)}var Gf,Wf=!1,Qf=new zf,Yf=function(){var e=Cl.Promise.resolve(void 0);Gf=function(){e.then(Xf)}},Xf=function(){for(var e;e=Uf();){try{e.h.call(e.g)}catch(n){Kf(n)}var t=Vf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Wf=!1};function Jf(e,t){Lf.call(this),this.h=e||1,this.g=t||Cl,this.j=Ml(this.qb,this),this.l=Date.now()}function $f(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Zf(e,t,n){if("function"===typeof e)n&&(e=Ml(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ml(e.handleEvent,e)}return 2147483647<Number(t)?-1:Cl.setTimeout(e,t||0)}function eh(e){e.g=Zf((function(){e.g=null,e.i&&(e.i=!1,eh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}jl(Jf,Lf),(_l=Jf.prototype).ga=!1,_l.T=null,_l.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mf(this,"tick"),this.ga&&($f(this),this.start()))}},_l.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_l.N=function(){Jf.$.N.call(this),$f(this),delete this.g};var th=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:eh(this)}},{key:"N",value:function(){Jn(Ne(n.prototype),"N",this).call(this),this.g&&(Cl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Bl);function nh(e){Bl.call(this),this.h=e,this.g={}}jl(nh,Bl);var rh=[];function ih(e,t,n,r){Array.isArray(n)||(n&&(rh[0]=n.toString()),n=rh);for(var i=0;i<n.length;i++){var a=_f(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ah(e){mf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Cf(e)}),e),e.g={}}function oh(){this.g=!0}function sh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return jf(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}nh.prototype.N=function(){nh.$.N.call(this),ah(this)},nh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},oh.prototype.Ea=function(){this.g=!1},oh.prototype.info=function(){};var uh={},ch=null;function lh(){return ch=ch||new Lf}function fh(e){ql.call(this,uh.Ta,e)}function hh(e){var t=lh();Mf(t,new fh(t))}function dh(e,t){ql.call(this,uh.STAT_EVENT,e),this.stat=t}function ph(e){var t=lh();Mf(t,new dh(t,e))}function vh(e,t){ql.call(this,uh.Ua,e),this.size=t}function mh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Cl.setTimeout((function(){e()}),t)}uh.Ta="serverreachability",jl(fh,ql),uh.STAT_EVENT="statevent",jl(dh,ql),uh.Ua="timingevent",jl(vh,ql);var gh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},yh={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function kh(){}function bh(e){return e.h||(e.h=e.i())}function wh(){}kh.prototype.h=null;var xh,Ih={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Sh(){ql.call(this,"d")}function _h(){ql.call(this,"c")}function Eh(){}function Th(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new nh(this),this.P=Ch,e=ef?125:void 0,this.V=new Jf(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ah}function Ah(){this.i=null,this.g="",this.h=!1}jl(Sh,ql),jl(_h,ql),jl(Eh,kh),Eh.prototype.g=function(){return new XMLHttpRequest},Eh.prototype.i=function(){return{}},xh=new Eh;var Ch=45e3,Nh={},Ph={};function Dh(e,t,n){e.L=1,e.v=Jh(Gh(t)),e.s=n,e.S=!0,Rh(e,null)}function Rh(e,t){e.G=Date.now(),Fh(e),e.A=Gh(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),ld(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ah,e.g=fp(e.l,n?t:null,!e.s),0<e.O&&(e.M=new th(Ml(e.Pa,e,e.g),e.O)),ih(e.U,e.g,"readystatechange",e.nb),t=e.I?gf(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),hh(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Oh(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Lh(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Mh(e,n))==Ph){4==t&&(e.o=4,ph(14),i=!1),sh(e.j,e.m,null,"[Incomplete Response]");break}if(r==Nh){e.o=4,ph(15),sh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}sh(e.j,e.m,r,null),Vh(e,r)}Oh(e)&&r!=Ph&&r!=Nh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ph(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),rp(t),t.M=!0,ph(11))):(sh(e.j,e.m,n,"[Invalid Chunked Response]"),zh(e),Uh(e))}function Mh(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ph:(n=Number(t.substring(n,r)),isNaN(n)?Nh:(r+=1)+n>t.length?Ph:(t=t.slice(r,r+n),e.C=r+n,t))}function Fh(e){e.Y=Date.now()+e.P,jh(e,e.P)}function jh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=mh(Ml(e.lb,e),t)}function Bh(e){e.B&&(Cl.clearTimeout(e.B),e.B=null)}function Uh(e){0==e.l.H||e.J||op(e.l,e)}function zh(e){Bh(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,$f(e.V),ah(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Vh(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||gd(n.i,e)))if(!e.K&&gd(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;ap(n),Yd(n)}np(n),ph(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=mh(Ml(n.ib,n),6e3));if(1>=md(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else up(n,11)}else if((e.K||n.g==e)&&ap(n),!Kl(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(yd(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Xh(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=lp(r,r.J?r.pa:null,r.Y),d.K){kd(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Bh(p),Fh(p)),r.g=d}else tp(r);0<n.j.length&&Jd(n)}else"stop"!=a[0]&&"close"!=a[0]||up(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?up(n,7):Qd(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}hh()}catch(a){}}function qh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Nl(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Nl(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Nl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(_l=Th.prototype).setTimeout=function(e){this.P=e},_l.nb=function(e){e=e.target;var t=this.M;t&&3==Vd(e)?t.l():this.Pa(e)},_l.Pa=function(e){try{if(e==this.g)e:{var t=Vd(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||ef||this.g&&(this.h.h||this.g.ja()||qd(this.g)))){this.J||4!=t||7==n||hh(),Bh(this);var r=this.g.da();this.ca=r;t:if(Oh(this)){var i=qd(this.g);e="";var a=i.length,o=4==Vd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){zh(this),Uh(this);var s="";break t}this.h.i=new Cl.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kl(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,ph(12),zh(this),Uh(this);break e}sh(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vh(this,r)}this.S?(Lh(this,t,s),ef&&this.i&&3==t&&(ih(this.U,this.V,"tick",this.mb),this.V.start())):(sh(this.j,this.m,s,null),Vh(this,s)),4==t&&zh(this),this.i&&!this.J&&(4==t?op(this.l,this):(this.i=!1,Fh(this)))}else(function(e){var t={};e=(e.g&&2<=Vd(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Kl(e[n])){var r=Hf(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,ph(12)):(this.o=0,ph(13)),zh(this),Uh(this)}}}catch(t){}},_l.mb=function(){if(this.g){var e=Vd(this.g),t=this.g.ja();this.C<t.length&&(Bh(this),Lh(this,e,t),this.i&&4!=e&&Fh(this))}},_l.cancel=function(){this.J=!0,zh(this)},_l.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(hh(),ph(17)),zh(this),this.o=2,Uh(this)):jh(this,this.Y-e)};var Hh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kh(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Kh){this.h=e.h,Wh(this,e.j),this.s=e.s,this.g=e.g,Qh(this,e.m),this.l=e.l;var t=e.i,n=new od;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Yh(this,n),this.o=e.o}else e&&(t=String(e).match(Hh))?(this.h=!1,Wh(this,t[1]||"",!0),this.s=$h(t[2]||""),this.g=$h(t[3]||"",!0),Qh(this,t[4]),this.l=$h(t[5]||"",!0),Yh(this,t[6]||"",!0),this.o=$h(t[7]||"")):(this.h=!1,this.i=new od(null,this.h))}function Gh(e){return new Kh(e)}function Wh(e,t,n){e.j=n?$h(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Yh(e,t,n){t instanceof od?(e.i=t,function(e,t){t&&!e.j&&(sd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ud(this,t),ld(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Zh(t,id)),e.i=new od(t,e.h))}function Xh(e,t,n){e.i.set(t,n)}function Jh(e){return Xh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $h(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Zh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ed),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ed(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Kh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Zh(t,td,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Zh(t,td,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Zh(n,"/"==n.charAt(0)?rd:nd,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Zh(n,ad)),e.join("")};var td=/[#\/\?@]/g,nd=/[#\?:]/g,rd=/[#\?]/g,id=/[#\?@]/g,ad=/#/g;function od(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function sd(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ud(e,t){sd(e),t=fd(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function cd(e,t){return sd(e),t=fd(e,t),e.g.has(t)}function ld(e,t,n){ud(e,t),0<n.length&&(e.i=null,e.g.set(fd(e,t),zl(n)),e.h+=n.length)}function fd(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(_l=od.prototype).add=function(e,t){sd(this),this.i=null,e=fd(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},_l.forEach=function(e,t){sd(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},_l.ta=function(){sd(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},_l.Z=function(e){sd(this);var t=[];if("string"===typeof e)cd(this,e)&&(t=t.concat(this.g.get(fd(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},_l.set=function(e,t){return sd(this),this.i=null,cd(this,e=fd(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},_l.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},_l.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var hd=g((function e(t,n){y(this,e),this.g=t,this.map=n}));function dd(e){this.l=e||pd,Cl.PerformanceNavigationTiming?e=0<(e=Cl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Cl.g&&Cl.g.Ka&&Cl.g.Ka()&&Cl.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pd=10;function vd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function md(e){return e.h?1:e.g?e.g.size:0}function gd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function yd(e,t){e.g?e.g.add(t):e.h=t}function kd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function bd(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ee(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return zl(e.i)}dd.prototype.cancel=function(){if(this.i=bd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ee(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var wd,xd=function(){function e(){y(this,e)}return g(e,[{key:"stringify",value:function(e){return Cl.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Cl.JSON.parse(e,void 0)}}]),e}();function Id(){this.g=new xd}function Sd(e,t,n){var r=n||"";try{qh(e,(function(e,n){var i=e;Pl(e)&&(i=jf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function _d(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ed(e){this.l=e.fc||null,this.j=e.ob||!1}function Td(e,t){Lf.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ad,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jl(Ed,kh),Ed.prototype.g=function(){return new Td(this.l,this.j)},Ed.prototype.i=(wd={},function(){return wd}),jl(Td,Lf);var Ad=0;function Cd(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Nd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Pd(e)}function Pd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(_l=Td.prototype).open=function(e,t){if(this.readyState!=Ad)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Pd(this)},_l.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Cl).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},_l.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nd(this)),this.readyState=Ad},_l.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pd(this)),this.g&&(this.readyState=3,Pd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Cl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cd(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},_l.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nd(this):Pd(this),3==this.readyState&&Cd(this)}},_l.Za=function(e){this.g&&(this.response=this.responseText=e,Nd(this))},_l.Ya=function(e){this.g&&(this.response=e,Nd(this))},_l.ka=function(){this.g&&Nd(this)},_l.setRequestHeader=function(e,t){this.v.append(e,t)},_l.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},_l.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Td.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Dd=Cl.JSON.parse;function Rd(e){Lf.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Od,this.L=this.M=!1}jl(Rd,Lf);var Od="",Ld=/^https?$/i,Md=["POST","PUT"];function Fd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,jd(e),Ud(e)}function jd(e){e.F||(e.F=!0,Mf(e,"complete"),Mf(e,"error"))}function Bd(e){if(e.h&&"undefined"!=typeof Al&&(!e.C[1]||4!=Vd(e)||2!=e.da()))if(e.v&&4==Vd(e))Zf(e.La,0,e);else if(Mf(e,"readystatechange"),4==Vd(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Hh)[1]||null;!a&&Cl.self&&Cl.self.location&&(a=Cl.self.location.protocol.slice(0,-1)),i=!Ld.test(a?a.toLowerCase():"")}t=i}if(t)Mf(e,"complete"),Mf(e,"success");else{e.m=6;try{var o=2<Vd(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",jd(e)}}finally{Ud(e)}}}function Ud(e,t){if(e.g){zd(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Mf(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function zd(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Cl.clearTimeout(e.A),e.A=null)}function Vd(e){return e.g?e.g.readyState:0}function qd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Od:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Qp){return null}}function Hd(e){var t="";return mf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Kd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Hd(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Xh(e,t,n))}function Gd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wd(e){this.Ga=0,this.j=[],this.l=new oh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gd("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gd("baseRetryDelayMs",5e3,e),this.hb=Gd("retryDelaySeedMs",1e4,e),this.eb=Gd("forwardChannelMaxRetries",2,e),this.xa=Gd("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new dd(e&&e.concurrentRequestLimit),this.Ja=new Id,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Qd(e){if(Xd(e),3==e.H){var t=e.W++,n=Gh(e.I);if(Xh(n,"SID",e.K),Xh(n,"RID",t),Xh(n,"TYPE","terminate"),Zd(e,n),(t=new Th(e,e.l,t)).L=2,t.v=Jh(Gh(n)),n=!1,Cl.navigator&&Cl.navigator.sendBeacon)try{n=Cl.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Cl.Image&&((new Image).src=t.v,n=!0),n||(t.g=fp(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Fh(t)}cp(e)}function Yd(e){e.g&&(rp(e),e.g.cancel(),e.g=null)}function Xd(e){Yd(e),e.u&&(Cl.clearTimeout(e.u),e.u=null),ap(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Cl.clearTimeout(e.m),e.m=null)}function Jd(e){if(!vd(e.i)&&!e.m){e.m=!0;var t=e.Na;Gf||Yf(),Wf||(Gf(),Wf=!0),Qf.add(t,e),e.C=0}}function $d(e,t){var n;n=t?t.m:e.W++;var r=Gh(e.I);Xh(r,"SID",e.K),Xh(r,"RID",n),Xh(r,"AID",e.V),Zd(e,r),e.o&&e.s&&Kd(r,e.o,e.s),n=new Th(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ep(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),yd(e.i,n),Dh(n,r,t)}function Zd(e,t){e.na&&mf(e.na,(function(e,n){Xh(t,n,e)})),e.h&&qh({},(function(e,n){Xh(t,n,e)}))}function ep(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ml(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{Sd(l,o,"req"+c+"_")}catch(av){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function tp(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Gf||Yf(),Wf||(Gf(),Wf=!0),Qf.add(t,e),e.A=0}}function np(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=mh(Ml(e.Ma,e),sp(e,e.A)),e.A++,!0)}function rp(e){null!=e.B&&(Cl.clearTimeout(e.B),e.B=null)}function ip(e){e.g=new Th(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Gh(e.wa);Xh(t,"RID","rpc"),Xh(t,"SID",e.K),Xh(t,"AID",e.V),Xh(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Xh(t,"TO",e.qa),Xh(t,"TYPE","xmlhttp"),Zd(e,t),e.o&&e.s&&Kd(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Jh(Gh(t)),n.s=null,n.S=!0,Rh(n,e)}function ap(e){null!=e.v&&(Cl.clearTimeout(e.v),e.v=null)}function op(e,t){var n=null;if(e.g==t){ap(e),rp(e),e.g=null;var r=2}else{if(!gd(e.i,t))return;n=t.F,kd(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Mf(r=lh(),new vh(r,n)),Jd(e)}else tp(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(md(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=mh(Ml(e.Na,e,t),sp(e,e.C)),e.C++,!0))}(e,t)||2==r&&np(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:up(e,5);break;case 4:up(e,10);break;case 3:up(e,6);break;default:up(e,2)}}function sp(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function up(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ml(e.pb,e);n||(n=new Kh("//www.google.com/images/cleardot.gif"),Cl.location&&"http"==Cl.location.protocol||Wh(n,"https"),Jh(n)),function(e,t){var n=new oh;if(Cl.Image){var r=new Image;r.onload=Fl(_d,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Fl(_d,n,r,"TestLoadImage: error",!1,t),r.onabort=Fl(_d,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Fl(_d,n,r,"TestLoadImage: timeout",!1,t),Cl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ph(2);e.H=0,e.h&&e.h.za(t),cp(e),Xd(e)}function cp(e){if(e.H=0,e.ma=[],e.h){var t=bd(e.i);0==t.length&&0==e.j.length||(Vl(e.ma,t),Vl(e.ma,e.j),e.i.i.length=0,zl(e.j),e.j.length=0),e.h.ya()}}function lp(e,t,n){var r=n instanceof Kh?Gh(n):new Kh(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Qh(r,r.m);else{var i=Cl.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Kh(null);r&&Wh(a,r),t&&(a.g=t),i&&Qh(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Xh(r,n,t),Xh(r,"VER",e.ra),Zd(e,r),r}function fp(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Rd(new Ed({ob:!0})):new Rd(e.va)).Oa(e.J),t}function hp(){}function dp(){if($l&&!(10<=Number(cf)))throw Error("Environmental error: no available transport.")}function pp(e,t){Lf.call(this),this.g=new Wd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Kl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Kl(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new gp(this)}function vp(e){Sh.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function mp(){_h.call(this),this.status=1}function gp(e){this.g=e}function yp(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function kp(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function bp(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(_l=Rd.prototype).Oa=function(e){this.M=e},_l.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xh.g(),this.C=this.u?bh(this.u):bh(xh),this.g.onreadystatechange=Ml(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Fd(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Ee(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Cl.FormData&&e instanceof Cl.FormData,!(0<=Ul(Md,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=Ee(n);try{for(c.s();!(u=c.n()).done;){var l=v(u.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zd(this),0<this.B&&((this.L=function(e){return $l&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ml(this.ua,this)):this.A=Zf(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Fd(this,s)}},_l.ua=function(){"undefined"!=typeof Al&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mf(this,"timeout"),this.abort(8))},_l.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Mf(this,"complete"),Mf(this,"abort"),Ud(this))},_l.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ud(this,!0)),Rd.$.N.call(this)},_l.La=function(){this.s||(this.G||this.v||this.l?Bd(this):this.kb())},_l.kb=function(){Bd(this)},_l.isActive=function(){return!!this.g},_l.da=function(){try{return 2<Vd(this)?this.g.status:-1}catch(wd){return-1}},_l.ja=function(){try{return this.g?this.g.responseText:""}catch(wd){return""}},_l.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Dd(t)}},_l.Ia=function(){return this.m},_l.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(_l=Wd.prototype).ra=8,_l.H=1,_l.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Th(this,this.l,e),n=this.s;if(this.U&&(n?kf(n=gf(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ep(this,t,r),Xh(i=Gh(this.I),"RID",e),Xh(i,"CVER",22),this.F&&Xh(i,"X-HTTP-Session-Id",this.F),Zd(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Hd(n)))+"&"+r:this.o&&Kd(i,this.o,n)),yd(this.i,t),this.bb&&Xh(i,"TYPE","init"),this.P?(Xh(i,"$req",r),Xh(i,"SID","null"),t.aa=!0,Dh(t,i,null)):Dh(t,i,r),this.H=2}}else 3==this.H&&(e?$d(this,e):0==this.j.length||vd(this.i)||$d(this))},_l.Ma=function(){if(this.u=null,ip(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=mh(Ml(this.jb,this),e)}},_l.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ph(10),Yd(this),ip(this))},_l.ib=function(){null!=this.v&&(this.v=null,Yd(this),np(this),ph(19))},_l.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ph(2)):(this.l.info("Failed to ping google.com"),ph(1))},_l.isActive=function(){return!!this.h&&this.h.isActive(this)},(_l=hp.prototype).Ba=function(){},_l.Aa=function(){},_l.za=function(){},_l.ya=function(){},_l.isActive=function(){return!0},_l.Va=function(){},dp.prototype.g=function(e,t){return new pp(e,t)},jl(pp,Lf),pp.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ph(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=lp(e,null,e.Y),Jd(e)},pp.prototype.close=function(){Qd(this.g)},pp.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=jf(e),e=n);t.j.push(new hd(t.fb++,e)),3==t.H&&Jd(t)},pp.prototype.N=function(){this.g.h=null,delete this.j,Qd(this.g),delete this.g,pp.$.N.call(this)},jl(vp,Sh),jl(mp,_h),jl(gp,hp),gp.prototype.Ba=function(){Mf(this.g,"a")},gp.prototype.Aa=function(e){Mf(this.g,new vp(e))},gp.prototype.za=function(e){Mf(this.g,new mp)},gp.prototype.ya=function(){Mf(this.g,"b")},jl(yp,(function(){this.blockSize=-1})),yp.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},yp.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)kp(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){kp(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){kp(this,r),i=0;break}}this.h=i,this.i+=t},yp.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var wp={};function xp(e){return-128<=e&&128>e?function(e,t){var n=wp;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new bp([0|e],0>e?-1:0)})):new bp([0|e],0>e?-1:0)}function Ip(e){if(isNaN(e)||!isFinite(e))return _p;if(0>e)return Np(Ip(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Sp;return new bp(t,0)}var Sp=4294967296,_p=xp(0),Ep=xp(1),Tp=xp(16777216);function Ap(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Cp(e){return-1==e.h}function Np(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new bp(n,~e.h).add(Ep)}function Pp(e,t){return e.add(Np(t))}function Dp(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Rp(e,t){this.g=e,this.h=t}function Op(e,t){if(Ap(t))throw Error("division by zero");if(Ap(e))return new Rp(_p,_p);if(Cp(e))return t=Op(Np(e),t),new Rp(Np(t.g),Np(t.h));if(Cp(t))return t=Op(e,Np(t)),new Rp(Np(t.g),t.h);if(30<e.g.length){if(Cp(e)||Cp(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ep,r=t;0>=r.X(e);)n=Lp(n),r=Lp(r);var i=Mp(n,1),a=Mp(r,1);for(r=Mp(r,2),n=Mp(n,2);!Ap(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Mp(r,1),n=Mp(n,1)}return t=Pp(e,i.R(t)),new Rp(i,t)}for(i=_p;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Ip(n)).R(t);Cp(o)||0<o.X(e);)o=(a=Ip(n-=r)).R(t);Ap(a)&&(a=Ep),i=i.add(a),e=Pp(e,o)}return new Rp(i,e)}function Lp(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new bp(n,e.h)}function Mp(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new bp(i,e.h)}(_l=bp.prototype).ea=function(){if(Cp(this))return-Np(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Sp+r)*t,t*=Sp}return e},_l.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Ap(this))return"0";if(Cp(this))return"-"+Np(this).toString(e);for(var t=Ip(Math.pow(e,6)),n=this,r="";;){var i=Op(n,t).g,a=((0<(n=Pp(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Ap(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},_l.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},_l.X=function(e){return Cp(e=Pp(this,e))?-1:Ap(e)?0:1},_l.abs=function(){return Cp(this)?Np(this):this},_l.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new bp(n,-2147483648&n[n.length-1]?-1:0)},_l.R=function(e){if(Ap(this)||Ap(e))return _p;if(Cp(this))return Cp(e)?Np(this).R(Np(e)):Np(Np(this).R(e));if(Cp(e))return Np(this.R(Np(e)));if(0>this.X(Tp)&&0>e.X(Tp))return Ip(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Dp(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Dp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Dp(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Dp(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new bp(n,0)},_l.gb=function(e){return Op(this,e).h},_l.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new bp(n,this.h&e.h)},_l.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new bp(n,this.h|e.h)},_l.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new bp(n,this.h^e.h)},dp.prototype.createWebChannel=dp.prototype.g,pp.prototype.send=pp.prototype.u,pp.prototype.open=pp.prototype.m,pp.prototype.close=pp.prototype.close,gh.NO_ERROR=0,gh.TIMEOUT=8,gh.HTTP_ERROR=6,yh.COMPLETE="complete",wh.EventType=Ih,Ih.OPEN="a",Ih.CLOSE="b",Ih.ERROR="c",Ih.MESSAGE="d",Lf.prototype.listen=Lf.prototype.O,Rd.prototype.listenOnce=Rd.prototype.P,Rd.prototype.getLastError=Rd.prototype.Sa,Rd.prototype.getLastErrorCode=Rd.prototype.Ia,Rd.prototype.getStatus=Rd.prototype.da,Rd.prototype.getResponseJson=Rd.prototype.Wa,Rd.prototype.getResponseText=Rd.prototype.ja,Rd.prototype.send=Rd.prototype.ha,Rd.prototype.setWithCredentials=Rd.prototype.Oa,yp.prototype.digest=yp.prototype.l,yp.prototype.reset=yp.prototype.reset,yp.prototype.update=yp.prototype.j,bp.prototype.add=bp.prototype.add,bp.prototype.multiply=bp.prototype.R,bp.prototype.modulo=bp.prototype.gb,bp.prototype.compare=bp.prototype.X,bp.prototype.toNumber=bp.prototype.ea,bp.prototype.toString=bp.prototype.toString,bp.prototype.getBits=bp.prototype.D,bp.fromNumber=Ip,bp.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Np(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ip(Math.pow(n,8)),i=_p,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Ip(Math.pow(n,o)),i=i.R(o).add(Ip(s))):i=(i=i.R(r)).add(Ip(s))}return i};var Fp=Tl.createWebChannelTransport=function(){return new dp},jp=Tl.getStatEventTarget=function(){return lh()},Bp=Tl.ErrorCode=gh,Up=Tl.EventType=yh,zp=Tl.Event=uh,Vp=Tl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qp=Tl.FetchXmlHttpFactory=Ed,Hp=Tl.WebChannel=wh,Kp=Tl.XhrIo=Rd,Gp=Tl.Md5=yp,Wp=Tl.Integer=bp,Qp="@firebase/firestore",Yp=function(){function e(t){y(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Yp.UNAUTHENTICATED=new Yp(null),Yp.GOOGLE_CREDENTIALS=new Yp("google-credentials-uid"),Yp.FIRST_PARTY=new Yp("first-party-uid"),Yp.MOCK_USER=new Yp("mock-user");var Xp="9.22.2",Jp=new Dt("@firebase/firestore");function $p(){return Jp.logLevel}function Zp(e){if(Jp.logLevel<=_t.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(nv);Jp.debug.apply(Jp,["Firestore (".concat(Xp,"): ").concat(e)].concat(kt(i)))}}function ev(e){if(Jp.logLevel<=_t.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(nv);Jp.error.apply(Jp,["Firestore (".concat(Xp,"): ").concat(e)].concat(kt(i)))}}function tv(e){if(Jp.logLevel<=_t.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(nv);Jp.warn.apply(Jp,["Firestore (".concat(Xp,"): ").concat(e)].concat(kt(i)))}}function nv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function rv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Xp,") INTERNAL ASSERTION FAILED: ")+e;throw ev(t),new Error(t)}function iv(e,t){e||rv()}function av(e,t){return e}var ov={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},sv=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(Ze),uv=g((function e(){var t=this;y(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),cv=g((function e(t,n){y(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),lv=function(){function e(){y(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Yp.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),fv=function(){function e(t){y(this,e),this.token=t,this.changeListener=null}return g(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),hv=function(){function e(t){y(this,e),this.t=t,this.currentUser=Yp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new uv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new uv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Zp("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Zp("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new uv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Zp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(iv("string"==typeof n.accessToken),new cv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return iv(null===e||"string"==typeof e),new Yp(e)}}]),e}(),dv=function(){function e(t,n,r){y(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Yp.FIRST_PARTY,this.g=new Map}return g(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),pv=function(){function e(t,n,r){y(this,e),this.h=t,this.l=n,this.m=r}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new dv(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Yp.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),vv=g((function e(t){y(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),mv=function(){function e(t){y(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Zp("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,Zp("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Zp("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):Zp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(iv("string"==typeof t.token),e.T=t.token,new vv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function gv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var yv=function(){function e(){y(this,e)}return g(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=gv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function kv(e,t){return e<t?-1:e>t?1:0}function bv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function wv(e){return e+"\0"}var xv=function(){function e(t,n){if(y(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new sv(ov.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new sv(ov.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new sv(ov.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new sv(ov.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?kv(this.nanoseconds,e.nanoseconds):kv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Iv=function(){function e(t){y(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new xv(0,0))}},{key:"max",value:function(){return new e(new xv(253402300799,999999999))}}]),e}(),Sv=function(){function e(t,n,r){y(this,e),void 0===n?n=0:n>t.length&&rv(),void 0===r?r=t.length-n:r>t.length-n&&rv(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),_v=function(e){Ce(n,e);var t=De(n);function n(){return y(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new sv(ov.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,kt(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Sv),Ev=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tv=function(e){Ce(n,e);var t=De(n);function n(){return y(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ev.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new sv(ov.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new sv(ov.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new sv(ov.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new sv(ov.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Sv),Av=function(){function e(t){y(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===_v.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(_v.fromString(t))}},{key:"fromName",value:function(t){return new e(_v.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(_v.emptyPath())}},{key:"comparator",value:function(e,t){return _v.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new _v(t.slice()))}}]),e}(),Cv=g((function e(t,n,r,i){y(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Nv(e){return e.fields.find((function(e){return 2===e.kind}))}function Pv(e){return e.fields.filter((function(e){return 2!==e.kind}))}Cv.UNKNOWN_ID=-1;var Dv=g((function e(t,n){y(this,e),this.fieldPath=t,this.kind=n}));var Rv=function(){function e(t,n){y(this,e),this.sequenceNumber=t,this.offset=n}return g(e,null,[{key:"empty",value:function(){return new e(0,Mv.min())}}]),e}();function Ov(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Iv.fromTimestamp(1e9===r?new xv(n+1,0):new xv(n,r));return new Mv(i,Av.empty(),t)}function Lv(e){return new Mv(e.readTime,e.key,-1)}var Mv=function(){function e(t,n,r){y(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(Iv.min(),Av.empty(),-1)}},{key:"max",value:function(){return new e(Iv.max(),Av.empty(),-1)}}]),e}();function Fv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Av.comparator(e.documentKey,t.documentKey))?n:kv(e.largestBatchId,t.largestBatchId)}var jv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Bv=function(){function e(){y(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Uv(e){return zv.apply(this,arguments)}function zv(){return(zv=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ov.FAILED_PRECONDITION&&t.message===jv){e.next=2;break}throw t;case 2:Zp("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vv=function(){function e(t){var n=this;y(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&rv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ee(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),qv=function(){function e(t,n){var r=this;y(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new uv,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new Gv(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=Jv(e.target.error);r.v.reject(new Gv(t,n))}}return g(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(Zp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Qv(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Gv(n,t)}}}]),e}(),Hv=function(){function e(t,n,r){y(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(Ge())&&ev("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return g(e,[{key:"$",value:function(){var e=l(u().mark((function e(t){var n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Zp("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Gv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new sv(ov.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new sv(ov.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Gv(t,n))},i.onupgradeneeded=function(e){Zp("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){Zp("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=l(u().mark((function e(t,n,r,i){var a,o,s,c,l=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=u().mark((function e(){var n,s,c,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,l.$(t);case 4:return l.db=e.sent,n=qv.open(l.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),Vv.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.R;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),c=e.t1,f="FirebaseError"!==c.name&&o<3,Zp("SimpleDb","Transaction failed with error:",c.message,"Retrying:",f),l.close(),f){e.next=18;break}return e.abrupt("return",{v:Promise.reject(c)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(c=e.t0)){e.next=7;break}return e.abrupt("return",c.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Zp("SimpleDb","Removing database:",e),Yv(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Je())return!1;if(e.C())return!0;var t=Ge(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/underpeelsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Kv=function(){function e(t){y(this,e),this.L=t,this.q=!1,this.U=null}return g(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return Yv(this.L.delete())}}]),e}(),Gv=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this,ov.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return g(n)}(sv);function Wv(e){return"IndexedDbTransactionError"===e.name}var Qv=function(){function e(t){y(this,e),this.store=t}return g(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Zp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Zp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Yv(n)}},{key:"add",value:function(e){return Zp("SimpleDb","ADD",this.store.name,e,e),Yv(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Yv(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Zp("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Zp("SimpleDb","DELETE",this.store.name,e),Yv(this.store.delete(e))}},{key:"count",value:function(){return Zp("SimpleDb","COUNT",this.store.name),Yv(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Vv((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Vv((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Zp("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new Vv((function(n,r){t.onerror=function(e){var t=Jv(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new Vv((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Kv(i),o=t(i.primaryKey,i.value,a);if(o instanceof Vv){var s=o.catch((function(e){return a.done(),Vv.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return Vv.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Yv(e){return new Vv((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Jv(e.target.error);n(t)}}))}var Xv=!1;function Jv(e){var t=Hv.S(Ge());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new sv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Xv||(Xv=!0,setTimeout((function(){throw r}),0)),r}}return e}var $v=function(){function e(t,n){y(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return g(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;Zp("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Zp,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Wv(e.t4)){e.next=17;break}Zp("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Uv(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Zv=function(){function e(t,n){y(this,e),this.localStore=t,this.persistence=n}return g(e,[{key:"nt",value:function(){var e=l(u().mark((function e(){var t,n=this,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Vv.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Zp("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return Zp("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Lv(t);Fv(r,n)>0&&(n=r)})),new Mv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),em=function(){function e(t,n){var r=this;y(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function tm(e){return null==e}function nm(e){return 0===e&&1/e==-1/0}function rm(e){return"number"==typeof e&&Number.isInteger(e)&&!nm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function im(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=om(t)),t=am(e.get(n),t);return om(t)}function am(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function om(e){return e+"\x01\x01"}function sm(e){var t=e.length;if(iv(t>=2),2===t)return iv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),_v.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&rv(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:rv()}a=o+2}return new _v(r)}em.ct=-1;var um=["userId","batchId"];function cm(e,t){return[e,im(t)]}function lm(e,t,n){return[e,im(t),n]}var fm={},hm=["prefixPath","collectionGroup","readTime","documentId"],dm=["prefixPath","collectionGroup","documentId"],pm=["collectionGroup","readTime","prefixPath","documentId"],vm=["canonicalId","targetId"],mm=["targetId","path"],gm=["path","targetId"],ym=["collectionId","parent"],km=["indexId","uid"],bm=["uid","sequenceNumber"],wm=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xm=["indexId","uid","orderedDocumentKey"],Im=["userId","collectionPath","documentId"],Sm=["userId","collectionPath","largestBatchId"],_m=["userId","collectionGroup","largestBatchId"],Em=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Tm=[].concat(kt(Em),["documentOverlays"]),Am=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Cm=Am,Nm=[].concat(Cm,["indexConfiguration","indexState","indexEntries"]),Pm=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return g(n)}(Bv);function Dm(e,t){var n=av(e);return Hv.M(n.ht,t)}function Rm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Om(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Lm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Mm=function(){function e(t,n){y(this,e),this.comparator=t,this.root=n||jm.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,jm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Fm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Fm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Fm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Fm(this.root,e,this.comparator,!0)}}]),e}(),Fm=function(){function e(t,n,r,i){y(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),jm=function(){function e(t,n,r,i,a){y(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw rv();if(this.right.isRed())throw rv();var e=this.left.check();if(e!==this.right.check())throw rv();return e+(this.isRed()?0:1)}}]),e}();jm.EMPTY=null,jm.RED=!0,jm.BLACK=!1,jm.EMPTY=new(function(){function e(){y(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw rv()}},{key:"value",get:function(){throw rv()}},{key:"color",get:function(){throw rv()}},{key:"left",get:function(){throw rv()}},{key:"right",get:function(){throw rv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new jm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Bm=function(){function e(t){y(this,e),this.comparator=t,this.data=new Mm(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Um(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Um(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Um=function(){function e(t){y(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function zm(e){return e.hasNext()?e.getNext():void 0}var Vm=function(){function e(t){y(this,e),this.fields=t,t.sort(Tv.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new Bm(Tv.comparator),i=Ee(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=Ee(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Ee(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return bv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),qm=function(e){Ce(n,e);var t=De(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return g(n)}(Oe(Error));var Hm=function(e){function t(e){y(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return kv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new qm("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Hm.EMPTY_BYTE_STRING=new Hm("");var Km=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gm(e){if(iv(!!e),"string"==typeof e){var t=0,n=Km.exec(e);if(iv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Wm(e.seconds),nanos:Wm(e.nanos)}}function Wm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Qm(e){return"string"==typeof e?Hm.fromBase64String(e):Hm.fromUint8Array(e)}function Ym(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Xm(e){var t=e.mapValue.fields.__previous_value__;return Ym(t)?Xm(t):t}function Jm(e){var t=Gm(e.mapValue.fields.__local_write_time__.timestampValue);return new xv(t.seconds,t.nanos)}var $m=g((function e(t,n,r,i,a,o,s,u,c){y(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),Zm=function(){function e(t,n){y(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),eg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tg={nullValue:"NULL_VALUE"};function ng(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ym(e)?4:mg(e)?9007199254740991:10:rv()}function rg(e,t){if(e===t)return!0;var n=ng(e);if(n!==ng(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Jm(e).isEqual(Jm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Gm(e.timestampValue),r=Gm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Qm(e.bytesValue).isEqual(Qm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Wm(e.geoPointValue.latitude)===Wm(t.geoPointValue.latitude)&&Wm(e.geoPointValue.longitude)===Wm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Wm(e.integerValue)===Wm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Wm(e.doubleValue),r=Wm(t.doubleValue);return n===r?nm(n)===nm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return bv(e.arrayValue.values||[],t.arrayValue.values||[],rg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Rm(n)!==Rm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!rg(n[i],r[i])))return!1;return!0}(e,t);default:return rv()}}function ig(e,t){return void 0!==(e.values||[]).find((function(e){return rg(e,t)}))}function ag(e,t){if(e===t)return 0;var n=ng(e),r=ng(t);if(n!==r)return kv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return kv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Wm(e.integerValue||e.doubleValue),r=Wm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return og(e.timestampValue,t.timestampValue);case 4:return og(Jm(e),Jm(t));case 5:return kv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Qm(e),r=Qm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=kv(n[i],r[i]);if(0!==a)return a}return kv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=kv(Wm(e.latitude),Wm(t.latitude));return 0!==n?n:kv(Wm(e.longitude),Wm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=ag(n[i],r[i]);if(a)return a}return kv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===eg.mapValue&&t===eg.mapValue)return 0;if(e===eg.mapValue)return 1;if(t===eg.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=kv(r[o],a[o]);if(0!==s)return s;var u=ag(n[r[o]],i[a[o]]);if(0!==u)return u}return kv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw rv()}}function og(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return kv(e,t);var n=Gm(e),r=Gm(t),i=kv(n.seconds,r.seconds);return 0!==i?i:kv(n.nanos,r.nanos)}function sg(e){return ug(e)}function ug(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Gm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Qm(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Av.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ee(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ug(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ee(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ug(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):rv();var t,n}function cg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function lg(e){return!!e&&"integerValue"in e}function fg(e){return!!e&&"arrayValue"in e}function hg(e){return!!e&&"nullValue"in e}function dg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pg(e){return!!e&&"mapValue"in e}function vg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Om(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=vg(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=vg(e.arrayValue.values[r]);return n}return Object.assign({},e)}function mg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function gg(e){return"nullValue"in e?tg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?cg(Zm.empty(),Av.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:rv()}function yg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?cg(Zm.empty(),Av.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?eg:rv()}function kg(e,t){var n=ag(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function bg(e,t){var n=ag(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var wg=function(){function e(t){y(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!pg(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vg(t)}},{key:"setAll",value:function(e){var t=this,n=Tv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=vg(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());pg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return rg(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];pg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Om(t,(function(t,n){return e[t]=n}));var r,i=Ee(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(vg(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function xg(e){var t=[];return Om(e.fields,(function(e,n){var r=new Tv([e]);if(pg(n)){var i=xg(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ee(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Vm(t)}var Ig=function(){function e(t,n,r,i,a,o,s){y(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Iv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=wg.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=wg.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Iv.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Iv.min(),Iv.min(),Iv.min(),wg.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Iv.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Iv.min(),Iv.min(),wg.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Iv.min(),Iv.min(),wg.empty(),2)}}]),e}(),Sg=g((function e(t,n){y(this,e),this.position=t,this.inclusive=n}));function _g(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Av.comparator(Av.fromName(o.referenceValue),n.key):ag(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Eg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!rg(e.position[n],t.position[n]))return!1;return!0}var Tg=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";y(this,e),this.field=t,this.dir=n}));function Ag(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Cg=g((function e(){y(this,e)})),Ng=function(e){Ce(n,e);var t=De(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ag(t,this.value)):null!==t&&ng(this.value)===ng(t)&&this.matchesComparison(ag(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rv()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Ug(e,t,r):"array-contains"===t?new Hg(e,r):"in"===t?new Kg(e,r):"not-in"===t?new Gg(e,r):"array-contains-any"===t?new Wg(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new zg(e,n):new Vg(e,n)}}]),n}(Cg),Pg=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return g(n,[{key:"matches",value:function(e){return Dg(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=Ee(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Cg);function Dg(e){return"and"===e.op}function Rg(e){return"or"===e.op}function Og(e){return Lg(e)&&Dg(e)}function Lg(e){var t,n=Ee(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Pg)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Mg(e){if(e instanceof Ng)return e.field.canonicalString()+e.op.toString()+sg(e.value);if(Og(e))return e.filters.map((function(e){return Mg(e)})).join(",");var t=e.filters.map((function(e){return Mg(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Fg(e,t){return e instanceof Ng?function(e,t){return t instanceof Ng&&e.op===t.op&&e.field.isEqual(t.field)&&rg(e.value,t.value)}(e,t):e instanceof Pg?function(e,t){return t instanceof Pg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Fg(n,t.filters[r])}),!0)}(e,t):void rv()}function jg(e,t){var n=e.filters.concat(t);return Pg.create(n,e.op)}function Bg(e){return e instanceof Ng?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(sg(e.value))}(e):e instanceof Pg?function(e){return e.op.toString()+" {"+e.getFilters().map(Bg).join(" ,")+"}"}(e):"Filter"}var Ug=function(e){Ce(n,e);var t=De(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this,e,r,i)).key=Av.fromName(i.referenceValue),a}return g(n,[{key:"matches",value:function(e){var t=Av.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Ng),zg=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,"in",r)).keys=qg("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ng),Vg=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,"not-in",r)).keys=qg("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ng);function qg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Av.fromName(e.referenceValue)}))}var Hg=function(e){Ce(n,e);var t=De(n);function n(e,r){return y(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return fg(t)&&ig(t.arrayValue,this.value)}}]),n}(Ng),Kg=function(e){Ce(n,e);var t=De(n);function n(e,r){return y(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&ig(this.value.arrayValue,t)}}]),n}(Ng),Gg=function(e){Ce(n,e);var t=De(n);function n(e,r){return y(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(ig(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ig(this.value.arrayValue,t)}}]),n}(Ng),Wg=function(e){Ce(n,e);var t=De(n);function n(e,r){return y(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ig(t.value.arrayValue,e)}))}}]),n}(Ng),Qg=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;y(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.dt=null}));function Yg(e){return new Qg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Xg(e){var t=av(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Mg(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),tm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return sg(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return sg(e)})).join(",")),t.dt=n}return t.dt}function Jg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ag(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Fg(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Eg(e.startAt,t.startAt)&&Eg(e.endAt,t.endAt)}function $g(e){return Av.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Zg(e,t){return e.filters.filter((function(e){return e instanceof Ng&&e.field.isEqual(t)}))}function ey(e,t,n){var r,i=tg,a=!0,o=Ee(Zg(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=tg,c=!0;switch(s.op){case"<":case"<=":u=gg(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=tg}kg({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];kg({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function ty(e,t,n){var r,i=eg,a=!0,o=Ee(Zg(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=eg,c=!0;switch(s.op){case">=":case">":u=yg(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=eg}bg({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];bg({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var ny=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;y(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}));function ry(e,t,n,r,i,a,o,s){return new ny(e,t,n,r,i,a,o,s)}function iy(e){return new ny(e)}function ay(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function oy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function sy(e){var t,n=Ee(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function uy(e){return null!==e.collectionGroup}function cy(e){var t=av(e);if(null===t.wt){t.wt=[];var n=sy(t),r=oy(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new Tg(n)),t.wt.push(new Tg(Tv.keyField(),"asc"));else{var i,a=!1,o=Ee(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Tg(Tv.keyField(),u))}}}return t.wt}function ly(e){var t=av(e);if(!t._t)if("F"===t.limitType)t._t=Yg(t.path,t.collectionGroup,cy(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ee(cy(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Tg(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Sg(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Sg(t.startAt.position,t.startAt.inclusive):null;t._t=Yg(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function fy(e,t){t.getFirstInequalityField(),sy(e);var n=e.filters.concat([t]);return new ny(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function hy(e,t,n){return new ny(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function dy(e,t){return Jg(ly(e),ly(t))&&e.limitType===t.limitType}function py(e){return"".concat(Xg(ly(e)),"|lt:").concat(e.limitType)}function vy(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Bg(e)})).join(", "),"]")),tm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return sg(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return sg(e)})).join(",")),"Target(".concat(t,")")}(ly(e)),"; limitType=").concat(e.limitType,")")}function my(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Av.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ee(cy(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ee(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=_g(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,cy(e),t))&&!(e.endAt&&!function(e,t,n){var r=_g(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,cy(e),t))}(e,t)}function gy(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function yy(e){return function(t,n){var r,i=!1,a=Ee(cy(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=ky(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function ky(e,t,n){var r=e.field.isKeyField()?Av.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ag(r,i):rv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return rv()}}var by=function(){function e(t,n){y(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ee(n);try{for(i.s();!(r=i.n()).done;){var a=v(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Om(this.inner,(function(t,n){var r,i=Ee(n);try{for(i.s();!(r=i.n()).done;){var a=v(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Lm(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),wy=new Mm(Av.comparator);function xy(){return wy}var Iy=new Mm(Av.comparator);function Sy(){for(var e=Iy,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function _y(e){var t=Iy;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Ey(){return Ay()}function Ty(){return Ay()}function Ay(){return new by((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Cy=new Mm(Av.comparator),Ny=new Bm(Av.comparator);function Py(){for(var e=Ny,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Dy=new Bm(kv);function Ry(){return Dy}function Oy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nm(t)?"-0":t}}function Ly(e){return{integerValue:""+e}}function My(e,t){return rm(t)?Ly(t):Oy(e,t)}var Fy=g((function e(){y(this,e),this._=void 0}));function jy(e,t,n){return e instanceof zy?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ym(t)&&(t=Xm(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Vy?qy(e,t):e instanceof Hy?Ky(e,t):function(e,t){var n=Uy(e,t),r=Wy(n)+Wy(e.gt);return lg(n)&&lg(e.gt)?Ly(r):Oy(e.serializer,r)}(e,t)}function By(e,t,n){return e instanceof Vy?qy(e,t):e instanceof Hy?Ky(e,t):n}function Uy(e,t){return e instanceof Gy?lg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var zy=function(e){Ce(n,e);var t=De(n);function n(){return y(this,n),t.apply(this,arguments)}return g(n)}(Fy),Vy=function(e){Ce(n,e);var t=De(n);function n(e){var r;return y(this,n),(r=t.call(this)).elements=e,r}return g(n)}(Fy);function qy(e,t){var n,r=Qy(t),i=Ee(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return rg(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Hy=function(e){Ce(n,e);var t=De(n);function n(e){var r;return y(this,n),(r=t.call(this)).elements=e,r}return g(n)}(Fy);function Ky(e,t){var n,r=Qy(t),i=Ee(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!rg(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Gy=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return g(n)}(Fy);function Wy(e){return Wm(e.integerValue||e.doubleValue)}function Qy(e){return fg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Yy=g((function e(t,n){y(this,e),this.field=t,this.transform=n}));var Xy=g((function e(t,n){y(this,e),this.version=t,this.transformResults=n})),Jy=function(){function e(t,n){y(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function $y(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Zy=g((function e(){y(this,e)}));function ek(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new hk(e.key,Jy.none()):new ak(e.key,e.data,Jy.none());var n,r=e.data,i=wg.empty(),a=new Bm(Tv.comparator),o=Ee(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new ok(e.key,i,new Vm(a.toArray()),Jy.none())}function tk(e,t,n){e instanceof ak?function(e,t,n){var r=e.value.clone(),i=uk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ok?function(e,t,n){if($y(e.precondition,t)){var r=uk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(sk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function nk(e,t,n,r){return e instanceof ak?function(e,t,n,r){if(!$y(e.precondition,t))return n;var i=e.value.clone(),a=ck(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ok?function(e,t,n,r){if(!$y(e.precondition,t))return n;var i=ck(e.fieldTransforms,r,t),a=t.data;return a.setAll(sk(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return $y(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function rk(e,t){var n,r=null,i=Ee(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Uy(a.transform,o||null);null!=s&&(null===r&&(r=wg.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function ik(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&bv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Vy&&t instanceof Vy||e instanceof Hy&&t instanceof Hy?bv(e.elements,t.elements,rg):e instanceof Gy&&t instanceof Gy?rg(e.gt,t.gt):e instanceof zy&&t instanceof zy}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var ak=function(e){Ce(n,e);var t=De(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return y(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Zy),ok=function(e){Ce(n,e);var t=De(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return y(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Zy);function sk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function uk(e,t,n){var r=new Map;iv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,By(o,s,n[i]))}return r}function ck(e,t,n){var r,i=new Map,a=Ee(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,jy(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var lk,fk,hk=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Zy),dk=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Zy),pk=function(){function e(t,n,r,i){y(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&tk(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Ee(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=nk(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=Ee(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=nk(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Ty();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=ek(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Iv.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Py())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&bv(this.mutations,e.mutations,(function(e,t){return ik(e,t)}))&&bv(this.baseMutations,e.baseMutations,(function(e,t){return ik(e,t)}))}}]),e}(),vk=function(){function e(t,n,r,i){y(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){iv(t.mutations.length===r.length);for(var i=Cy,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),mk=function(){function e(t,n){y(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),gk=g((function e(t,n){y(this,e),this.count=t,this.unchangedNames=n}));function yk(e){switch(e){default:return rv();case ov.CANCELLED:case ov.UNKNOWN:case ov.DEADLINE_EXCEEDED:case ov.RESOURCE_EXHAUSTED:case ov.INTERNAL:case ov.UNAVAILABLE:case ov.UNAUTHENTICATED:return!1;case ov.INVALID_ARGUMENT:case ov.NOT_FOUND:case ov.ALREADY_EXISTS:case ov.PERMISSION_DENIED:case ov.FAILED_PRECONDITION:case ov.ABORTED:case ov.OUT_OF_RANGE:case ov.UNIMPLEMENTED:case ov.DATA_LOSS:return!0}}function kk(e){if(void 0===e)return ev("GRPC error has no .code"),ov.UNKNOWN;switch(e){case lk.OK:return ov.OK;case lk.CANCELLED:return ov.CANCELLED;case lk.UNKNOWN:return ov.UNKNOWN;case lk.DEADLINE_EXCEEDED:return ov.DEADLINE_EXCEEDED;case lk.RESOURCE_EXHAUSTED:return ov.RESOURCE_EXHAUSTED;case lk.INTERNAL:return ov.INTERNAL;case lk.UNAVAILABLE:return ov.UNAVAILABLE;case lk.UNAUTHENTICATED:return ov.UNAUTHENTICATED;case lk.INVALID_ARGUMENT:return ov.INVALID_ARGUMENT;case lk.NOT_FOUND:return ov.NOT_FOUND;case lk.ALREADY_EXISTS:return ov.ALREADY_EXISTS;case lk.PERMISSION_DENIED:return ov.PERMISSION_DENIED;case lk.FAILED_PRECONDITION:return ov.FAILED_PRECONDITION;case lk.ABORTED:return ov.ABORTED;case lk.OUT_OF_RANGE:return ov.OUT_OF_RANGE;case lk.UNIMPLEMENTED:return ov.UNIMPLEMENTED;case lk.DATA_LOSS:return ov.DATA_LOSS;default:return rv()}}(fk=lk||(lk={}))[fk.OK=0]="OK",fk[fk.CANCELLED=1]="CANCELLED",fk[fk.UNKNOWN=2]="UNKNOWN",fk[fk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fk[fk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fk[fk.NOT_FOUND=5]="NOT_FOUND",fk[fk.ALREADY_EXISTS=6]="ALREADY_EXISTS",fk[fk.PERMISSION_DENIED=7]="PERMISSION_DENIED",fk[fk.UNAUTHENTICATED=16]="UNAUTHENTICATED",fk[fk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fk[fk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fk[fk.ABORTED=10]="ABORTED",fk[fk.OUT_OF_RANGE=11]="OUT_OF_RANGE",fk[fk.UNIMPLEMENTED=12]="UNIMPLEMENTED",fk[fk.INTERNAL=13]="INTERNAL",fk[fk.UNAVAILABLE=14]="UNAVAILABLE",fk[fk.DATA_LOSS=15]="DATA_LOSS";var bk=function(){function e(){y(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return g(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return wk}},{key:"getOrCreateInstance",value:function(){return null===wk&&(wk=new e),wk}}]),e}(),wk=null;function xk(){return new TextEncoder}var Ik=new Wp([4294967295,4294967295],0);function Sk(e){var t=xk().encode(e),n=new Gp;return n.update(t),new Uint8Array(n.digest())}function _k(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Wp([n,r],0),new Wp([i,a],0)]}var Ek=function(){function e(t,n,r){if(y(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tk("Invalid padding: ".concat(n));if(r<0)throw new Tk("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Tk("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Tk("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=Wp.fromNumber(this.It)}return g(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(Wp.fromNumber(n)));return 1===r.compare(Ik)&&(r=new Wp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=v(_k(Sk(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=v(_k(Sk(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Tk=function(e){Ce(n,e);var t=De(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return g(n)}(Oe(Error)),Ak=function(){function e(t,n,r,i,a){y(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Ck.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Iv.min(),i,new Mm(kv),xy(),Py())}}]),e}(),Ck=function(){function e(t,n,r,i,a){y(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Py(),Py(),Py())}}]),e}(),Nk=g((function e(t,n,r,i){y(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),Pk=g((function e(t,n){y(this,e),this.targetId=t,this.Vt=n})),Dk=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hm.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;y(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Rk=function(){function e(){y(this,e),this.St=0,this.Dt=Mk(),this.Ct=Hm.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return g(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=Py(),t=Py(),n=Py();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:rv()}})),new Ck(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=Mk()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),Ok=function(){function e(t){y(this,e),this.Gt=t,this.Qt=new Map,this.jt=xy(),this.zt=Lk(),this.Wt=new Mm(kv)}return g(e,[{key:"Ht",value:function(e){var t,n=Ee(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(s){n.e(s)}finally{n.f()}var i,a=Ee(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:rv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if($g(a))if(0===r){var o=new Av(a.path);this.Yt(n,o,Ig.newNoDocument(o,Iv.min()))}else iv(1===r);else{var s=this.ie(n);if(s!==r){var u=this.re(e,s);if(0!==u){this.ee(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=bk.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=Qm(c).toUint8Array()}catch(e){if(e instanceof qm)return tv("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new Ek(a,f,d)}catch(e){return tv(e instanceof Tk?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&$g(a.target)){var o=new Av(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,Ig.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=Py();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Ak(e,n,this.Wt,this.jt,r);return this.jt=xy(),this.zt=Lk(),this.Wt=new Mm(kv),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new Rk,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new Bm(kv),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||Zp("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new Rk),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Lk(){return new Mm(Av.comparator)}function Mk(){return new Mm(Av.comparator)}var Fk={asc:"ASCENDING",desc:"DESCENDING"},jk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bk={and:"AND",or:"OR"},Uk=g((function e(t,n){y(this,e),this.databaseId=t,this.useProto3Json=n}));function zk(e,t){return e.useProto3Json||tm(t)?t:{value:t}}function Vk(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function qk(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Hk(e,t){return Vk(e,t.toTimestamp())}function Kk(e){return iv(!!e),Iv.fromTimestamp(function(e){var t=Gm(e);return new xv(t.seconds,t.nanos)}(e))}function Gk(e,t){return function(e){return new _v(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Wk(e){var t=_v.fromString(e);return iv(mb(t)),t}function Qk(e,t){return Gk(e.databaseId,t.path)}function Yk(e,t){var n=Wk(t);if(n.get(1)!==e.databaseId.projectId)throw new sv(ov.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new sv(ov.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Av(Zk(n))}function Xk(e,t){return Gk(e.databaseId,t)}function Jk(e){var t=Wk(e);return 4===t.length?_v.emptyPath():Zk(t)}function $k(e){return new _v(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Zk(e){return iv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function eb(e,t,n){return{name:Qk(e,t),fields:n.value.mapValue.fields}}function tb(e,t,n){var r=Yk(e,t.name),i=Kk(t.updateTime),a=t.createTime?Kk(t.createTime):Iv.min(),o=new wg({mapValue:{fields:t.fields}}),s=Ig.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function nb(e,t){return"found"in t?function(e,t){iv(!!t.found),t.found.name,t.found.updateTime;var n=Yk(e,t.found.name),r=Kk(t.found.updateTime),i=t.found.createTime?Kk(t.found.createTime):Iv.min(),a=new wg({mapValue:{fields:t.found.fields}});return Ig.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){iv(!!t.missing),iv(!!t.readTime);var n=Yk(e,t.missing),r=Kk(t.readTime);return Ig.newNoDocument(n,r)}(e,t):rv()}function rb(e,t){var n;if(t instanceof ak)n={update:eb(e,t.key,t.value)};else if(t instanceof hk)n={delete:Qk(e,t.key)};else if(t instanceof ok)n={update:eb(e,t.key,t.data),updateMask:vb(t.fieldMask)};else{if(!(t instanceof dk))return rv();n={verify:Qk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof zy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Hy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Gy)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw rv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Hk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:rv()}(e,t.precondition)),n}function ib(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Jy.updateTime(Kk(e.updateTime)):void 0!==e.exists?Jy.exists(e.exists):Jy.none()}(t.currentDocument):Jy.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)iv("REQUEST_TIME"===t.setToServerValue),n=new zy;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Vy(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Hy(i)}else"increment"in t?n=new Gy(e,t.increment):rv();var a=Tv.fromServerFormat(t.fieldPath);return new Yy(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Yk(e,t.update.name),a=new wg({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Vm(t.map((function(e){return Tv.fromServerFormat(e)})))}(t.updateMask);return new ok(i,a,o,n,r)}return new ak(i,a,n,r)}if(t.delete){var s=Yk(e,t.delete);return new hk(s,n)}if(t.verify){var u=Yk(e,t.verify);return new dk(u,n)}return rv()}function ab(e,t){return{documents:[Xk(e,t.path)]}}function ob(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Xk(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Xk(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return pb(Pg.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:hb(e.field),direction:cb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=zk(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function sb(e){var t=Jk(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){iv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=ub(e);return t instanceof Pg&&Og(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Tg(db(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return tm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Sg(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Sg(n,t)}(n.endAt)),ry(t,i,s,o,u,"F",c,l)}function ub(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=db(e.unaryFilter.field);return Ng.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=db(e.unaryFilter.field);return Ng.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=db(e.unaryFilter.field);return Ng.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=db(e.unaryFilter.field);return Ng.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rv()}}(e):void 0!==e.fieldFilter?function(e){return Ng.create(db(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rv()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Pg.create(e.compositeFilter.filters.map((function(e){return ub(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return rv()}}(e.compositeFilter.op))}(e):rv()}function cb(e){return Fk[e]}function lb(e){return jk[e]}function fb(e){return Bk[e]}function hb(e){return{fieldPath:e.canonicalString()}}function db(e){return Tv.fromServerFormat(e.fieldPath)}function pb(e){return e instanceof Ng?function(e){if("=="===e.op){if(dg(e.value))return{unaryFilter:{field:hb(e.field),op:"IS_NAN"}};if(hg(e.value))return{unaryFilter:{field:hb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dg(e.value))return{unaryFilter:{field:hb(e.field),op:"IS_NOT_NAN"}};if(hg(e.value))return{unaryFilter:{field:hb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hb(e.field),op:lb(e.op),value:e.value}}}(e):e instanceof Pg?function(e){var t=e.getFilters().map((function(e){return pb(e)}));return 1===t.length?t[0]:{compositeFilter:{op:fb(e.op),filters:t}}}(e):rv()}function vb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function mb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var gb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Iv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Iv.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Hm.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;y(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),yb=g((function e(t){y(this,e),this.fe=t}));function kb(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:bb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Qk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Vk(e,t.version.toTimestamp()),createTime:Vk(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:wb(t.version)};else{if(!t.isUnknownDocument())return rv();r.unknownDocument={path:n.path.toArray(),version:wb(t.version)}}return r}function bb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function wb(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function xb(e){var t=new xv(e.seconds,e.nanoseconds);return Iv.fromTimestamp(t)}function Ib(e,t){for(var n=(t.baseMutations||[]).map((function(t){return ib(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return ib(e.fe,t)})),s=xv.fromMillis(t.localWriteTimeMs);return new pk(t.batchId,s,n,o)}function Sb(e){var t,n,r=xb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?xb(e.lastLimboFreeSnapshotVersion):Iv.min();return void 0!==e.query.documents?(iv(1===(n=e.query).documents.length),t=ly(iy(Jk(n.documents[0])))):t=function(e){return ly(sb(e))}(e.query),new gb(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,Hm.fromBase64String(e.resumeToken))}function _b(e,t){var n,r=wb(t.snapshotVersion),i=wb(t.lastLimboFreeSnapshotVersion);n=$g(t.target)?ab(e.fe,t.target):ob(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Xg(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Eb(e){var t=sb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?hy(t,t.limit,"L"):t}function Tb(e,t){return new mk(t.largestBatchId,ib(e.fe,t.overlayMutation))}function Ab(e,t){var n=t.path.lastSegment();return[e,im(t.path.popLast()),n]}function Cb(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:wb(r.readTime),documentKey:im(r.documentKey.path),largestBatchId:r.largestBatchId}}var Nb=function(){function e(){y(this,e)}return g(e,[{key:"getBundleMetadata",value:function(e,t){return Pb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:xb(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Pb(e).put({bundleId:(n=t).id,createTime:wb(Kk(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Db(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Eb(t.bundledQuery),readTime:xb(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Db(e).put(function(e){return{name:e.name,readTime:wb(Kk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Pb(e){return Dm(e,"bundles")}function Db(e){return Dm(e,"namedQueries")}var Rb=function(){function e(t,n){y(this,e),this.serializer=t,this.userId=n}return g(e,[{key:"getOverlay",value:function(e,t){var n=this;return Ob(e).get(Ab(this.userId,t)).next((function(e){return e?Tb(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ey();return Vv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new mk(t,a);i.push(r.we(e,o))})),Vv.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(im(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Ob(e).J("collectionPathOverlayIndex",i))})),Vv.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Ey(),a=im(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ob(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=Ee(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Tb(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Ey(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ob(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=Tb(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return Ob(e).put(function(e,t,n){var r=v(Ab(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:rb(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Ob(e){return Dm(e,"documentOverlays")}var Lb=function(){function e(){y(this,e)}return g(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Wm(e.integerValue));else if("doubleValue"in e){var n=Wm(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),nm(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Qm(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?mg(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):rv()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=Ee(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),Av.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function Mb(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Fb(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Mb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Lb.Ve=new Lb;var jb=function(){function e(){y(this,e),this.buffer=new Uint8Array(1024),this.position=0}return g(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=Ee(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=Ee(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=Fb(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=Fb(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Bb=function(){function e(t){y(this,e),this.je=t}return g(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),Ub=function(){function e(t){y(this,e),this.je=t}return g(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),zb=function(){function e(){y(this,e),this.je=new jb,this.ze=new Bb(this.je),this.We=new Ub(this.je)}return g(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),Vb=function(){function e(t,n,r,i){y(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return g(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function qb(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Hb(e.arrayValue,t.arrayValue))?n:0!==(n=Hb(e.directionalValue,t.directionalValue))?n:Av.comparator(e.documentKey,t.documentKey)}function Hb(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Kb=function(){function e(t){y(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=Ee(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return g(e,[{key:"tn",value:function(e){iv(e.collectionGroup===this.collectionId);var t=Nv(e);if(void 0!==t&&!this.en(t))return!1;for(var n=Pv(e),r=new Set,i=0,a=0;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){var o=n[i];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[a++],o))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Ye.length||!this.sn(this.Ye[a++],s))return!1}return!0}},{key:"en",value:function(e){var t,n=Ee(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Gb(e){var t,n;if(iv(e instanceof Ng||e instanceof Pg),e instanceof Ng){if(e instanceof Kg){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Ng.create(e.field,"==",t)})))||[];return Pg.create(r,"or")}return e}var i=e.filters.map((function(e){return Gb(e)}));return Pg.create(i,e.op)}function Wb(e){if(0===e.getFilters().length)return[];var t=Jb(Gb(e));return iv(Xb(t)),Qb(t)||Yb(t)?[t]:t.getFilters()}function Qb(e){return e instanceof Ng}function Yb(e){return e instanceof Pg&&Og(e)}function Xb(e){return Qb(e)||Yb(e)||function(e){if(e instanceof Pg&&Rg(e)){var t,n=Ee(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Qb(r)&&!Yb(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Jb(e){if(iv(e instanceof Ng||e instanceof Pg),e instanceof Ng)return e;if(1===e.filters.length)return Jb(e.filters[0]);var t=e.filters.map((function(e){return Jb(e)})),n=Pg.create(t,e.op);return Xb(n=ew(n))?n:(iv(n instanceof Pg),iv(Dg(n)),iv(n.filters.length>1),n.filters.reduce((function(e,t){return $b(e,t)})))}function $b(e,t){var n;return iv(e instanceof Ng||e instanceof Pg),iv(t instanceof Ng||t instanceof Pg),n=e instanceof Ng?t instanceof Ng?function(e,t){return Pg.create([e,t],"and")}(e,t):Zb(e,t):t instanceof Ng?Zb(t,e):function(e,t){if(iv(e.filters.length>0&&t.filters.length>0),Dg(e)&&Dg(t))return jg(e,t.getFilters());var n=Rg(e)?e:t,r=Rg(e)?t:e,i=n.filters.map((function(e){return $b(e,r)}));return Pg.create(i,"or")}(e,t),ew(n)}function Zb(e,t){if(Dg(t))return jg(t,e.getFilters());var n=t.filters.map((function(t){return $b(e,t)}));return Pg.create(n,"or")}function ew(e){if(iv(e instanceof Ng||e instanceof Pg),e instanceof Ng)return e;var t=e.getFilters();if(1===t.length)return ew(t[0]);if(Lg(e))return e;var n=t.map((function(e){return ew(e)})),r=[];return n.forEach((function(t){t instanceof Ng?r.push(t):t instanceof Pg&&(t.op===e.op?r.push.apply(r,kt(t.filters)):r.push(t))})),1===r.length?r[0]:Pg.create(r,e.op)}var tw=function(){function e(){y(this,e),this.rn=new nw}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),Vv.resolve()}},{key:"getCollectionParents",value:function(e,t){return Vv.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Vv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Vv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Vv.resolve(null)}},{key:"getIndexType",value:function(e,t){return Vv.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Vv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Vv.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Vv.resolve(Mv.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Vv.resolve(Mv.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Vv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Vv.resolve()}}]),e}(),nw=function(){function e(){y(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Bm(_v.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Bm(_v.comparator)).toArray()}}]),e}(),rw=new Uint8Array(0),iw=function(){function e(t,n){y(this,e),this.user=t,this.databaseId=n,this.on=new nw,this.un=new by((function(e){return Xg(e)}),(function(e,t){return Jg(e,t)})),this.uid=t.uid||""}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:im(i)};return aw(e).put(a)}return Vv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[wv(t),""],!1,!0);return aw(e).j(r).next((function(e){var r,i=Ee(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(sm(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=sw(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=uw(e);return a.next((function(e){o.put(Cb(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=sw(e),r=uw(e),i=ow(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ow(e),i=!0,a=new Map;return Vv.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Py(),o=[];return Vv.forEach(a,(function(i,a){var s;Zp("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Xg(t)));var u=function(e,t){var n=Nv(t);if(void 0===n)return null;var r,i=Ee(Zg(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Ee(Pv(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Ee(Zg(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Ee(Pv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?ey(e,o.fieldPath,e.startAt):ty(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Sg(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Ee(Pv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?ty(e,o.fieldPath,e.endAt):ey(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Sg(r,i)}(a,i),h=n.hn(i,a,l),d=n.hn(i,a,f),p=n.ln(i,a,c),v=n.fn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return Vv.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Av.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Vv.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Wb(Pg.create(e.filters,"and")).map((function(t){return Yg(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.dn(t[h/c]):rw,f=s.wn(e,u,n[h%c],r),d=s._n(e,u,i[h%c],a),p=o.map((function(t){return s.wn(e,u,t,!0)}));l.push.apply(l,kt(s.createRange(f,d,p)))},h=0;h<u;++h)f();return l}},{key:"wn",value:function(e,t,n,r){var i=new Vb(e,Av.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new Vb(e,Av.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new Kb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Ee(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return Vv.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Bm(Tv.comparator),r=!1,i=Ee(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Ee(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=Ee(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new zb,i=Ee(Pv(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.He(a.kind);Lb.Ve._e(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new zb;return Lb.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new zb;return Lb.Ve._e(cg(this.databaseId,t),n.He(function(e){var t=Pv(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new zb);var i,a=0,o=Ee(Pv(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=Ee(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.yn(t,u.fieldPath)&&fg(c))r=this.pn(r,u,c);else{var h=f.He(u.kind);Lb.Ve._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=kt(e),a=[],o=Ee(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=Ee(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new zb;f.seed(l.Qe()),Lb.Ve._e(u,f.He(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Ng&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=sw(e),i=uw(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return Vv.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Rv(t.sequenceNumber,new Mv(xb(t.readTime),new Av(sm(t.documentKey)),t.largestBatchId)):Rv.empty(),r=e.fields.map((function(e){var t=v(e,2),n=t[0],r=t[1];return new Dv(Tv.fromServerFormat(n),r)}));return new Cv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:kv(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=sw(e),a=uw(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Vv.forEach(t,(function(t){return a.put(Cb(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Vv.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Vv.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Vv.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?Vv.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return ow(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return ow(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=ow(e),i=new Bm(qb);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new Vb(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new Bm(qb),r=this.mn(t,e);if(null==r)return n;var i=Nv(t);if(null!=i){var a=e.data.field(i.fieldPath);if(fg(a)){var o,s=Ee(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Vb(t.indexId,e.key,this.dn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Vb(t.indexId,e.key,rw,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;Zp("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=zm(a),u=zm(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=zm(o)):l?(i(s),s=zm(a)):(s=zm(a),u=zm(o))}}(r,i,qb,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),Vv.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return uw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return qb(e,t)})).filter((function(e,t,n){return!t||0!==qb(e,n[t-1])}));var r=[];r.push(e);var i,a=Ee(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=qb(o,e),u=qb(o,t);if(0===s)r[0]=e.Je();else if(s>0&&u<0)r.push(o),r.push(o.Je());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,rw,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,rw,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return qb(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(cw)}},{key:"getMinOffset",value:function(e,t){var n=this;return Vv.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||rv()}))})).next(cw)}}]),e}();function aw(e){return Dm(e,"collectionParents")}function ow(e){return Dm(e,"indexEntries")}function sw(e){return Dm(e,"indexConfiguration")}function uw(e){return Dm(e,"indexState")}function cw(e){iv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Fv(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Mv(t.readTime,t.documentKey,n)}var lw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fw=function(){function e(t,n,r){y(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function hw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){iv(1===s)})));var c,l=[],f=Ee(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=lm(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Vv.waitFor(a).next((function(){return l}))}function dw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw rv();t=e.noDocument}return JSON.stringify(t).length}fw.DEFAULT_COLLECTION_PERCENTILE=10,fw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fw.DEFAULT=new fw(41943040,fw.DEFAULT_COLLECTION_PERCENTILE,fw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fw.DISABLED=new fw(-1,0,0);var pw=function(){function e(t,n,r,i){y(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return g(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mw(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=gw(e),o=mw(e);return o.add({}).next((function(s){iv("number"==typeof s);var u,c=new pk(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return rb(e.fe,t)})),i=n.mutations.map((function(t){return rb(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Bm((function(e,t){return kv(e.canonicalString(),t.canonicalString())})),d=Ee(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=lm(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,fm))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[s]=c.keys()})),Vv.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return mw(e).get(t).next((function(e){return e?(iv(e.userId===n.userId),Ib(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?Vv.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return mw(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(iv(t.batchId>=r),a=Ib(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return mw(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mw(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ib(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=cm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return gw(e).X({range:i},(function(r,i,o){var s=v(r,3),u=s[0],c=s[1],l=s[2],f=sm(c);if(u===n.userId&&t.path.isEqual(f))return mw(e).get(l).next((function(e){if(!e)throw rv();iv(e.userId===n.userId),a.push(Ib(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Bm(kv),i=[];return t.forEach((function(t){var a=cm(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=gw(e).X({range:o},(function(e,i,a){var o=v(e,3),s=o[0],u=o[1],c=o[2],l=sm(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),Vv.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=cm(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Bm(kv);return gw(e).X({range:o},(function(e,t,a){var o=v(e,3),u=o[0],c=o[1],l=o[2],f=sm(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.Dn(e,s)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(mw(e).get(t).next((function(e){if(null===e)throw rv();iv(e.userId===n.userId),r.push(Ib(n.serializer,e))})))})),Vv.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return hw(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),Vv.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Vv.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return gw(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=sm(e[1]);i.push(a)}else r.done()})).next((function(){iv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return vw(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return yw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return iv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function vw(e,t,n){var r=cm(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return gw(e).X({range:a,Y:!0},(function(e,n,r){var a=v(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function mw(e){return Dm(e,"mutations")}function gw(e){return Dm(e,"documentMutations")}function yw(e){return Dm(e,"mutationQueues")}var kw=function(){function e(t){y(this,e),this.Nn=t}return g(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),bw=function(){function e(t,n){y(this,e),this.referenceDelegate=t,this.serializer=n}return g(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new kw(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return Iv.fromTimestamp(new xv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ww(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return iv(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ww(e).X((function(o,s){var u=Sb(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Vv.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return ww(e).X((function(e,n){var r=Sb(n);t(r)}))}},{key:"$n",value:function(e){return xw(e).get("targetGlobalKey").next((function(e){return iv(null!==e),e}))}},{key:"On",value:function(e,t){return xw(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return ww(e).put(_b(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Xg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ww(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Sb(n);Jg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Iw(e);return t.forEach((function(t){var o=im(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Vv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Iw(e);return Vv.forEach(t,(function(t){var a=im(t.path);return Vv.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Iw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Iw(e),i=Py();return r.X({range:n,Y:!0},(function(e,t,n){var r=sm(e[1]),a=new Av(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=im(t.path),r=IDBKeyRange.bound([n],[wv(n)],!1,!0),i=0;return Iw(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=v(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return ww(e).get(t).next((function(e){return e?Sb(e):null}))}}]),e}();function ww(e){return Dm(e,"targets")}function xw(e){return Dm(e,"targetGlobal")}function Iw(e){return Dm(e,"targetDocuments")}function Sw(e,t){var n=v(e,2),r=n[0],i=n[1],a=v(t,2),o=a[0],s=a[1],u=kv(r,o);return 0===u?kv(i,s):u}var _w=function(){function e(t){y(this,e),this.Ln=t,this.buffer=new Bm(Sw),this.qn=0}return g(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Sw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Ew=function(){function e(t,n,r){y(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return g(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;Zp("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Wv(e.t0)){e.next=12;break}Zp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Uv(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Tw=function(){function e(t,n){y(this,e),this.jn=t,this.params=n}return g(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Vv.resolve(em.ct);var r=new _w(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Zp("LruGarbageCollector","Garbage collection skipped; disabled"),Vv.resolve(lw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Zp("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),lw):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Zp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),$p()<=_t.DEBUG&&Zp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Vv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function Aw(e,t){return new Tw(e,t)}var Cw=function(){function e(t,n){y(this,e),this.db=t,this.garbageCollector=Aw(this,n)}return g(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Nw(e,n)}},{key:"removeReference",value:function(e,t,n){return Nw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Nw(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return yw(e).Z((function(r){return vw(e,r,t).next((function(e){return e&&(n=!0),Vv.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,s){if(s<=t){var u=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Iv.min()),Iw(e).delete([0,im(o.path)])}))}));i.push(u)}})).next((function(){return Vv.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Nw(e,t)}},{key:"Yn",value:function(e,t){var n,r=Iw(e),i=em.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=v(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==em.ct&&t(new Av(sm(n)),i),i=u,n=s):i=em.ct})).next((function(){i!==em.ct&&t(new Av(sm(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Nw(e,t){return Iw(e).put(function(e,t){return{targetId:0,path:im(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Pw=function(){function e(){y(this,e),this.changes=new by((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ig.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Vv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Dw=function(){function e(t){y(this,e),this.serializer=t}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Mw(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Mw(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],bb(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Ig.newInvalidDocument(t);return Mw(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Fw(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:Ig.newInvalidDocument(t)};return Mw(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Fw(t))},(function(e,i){r={document:n.ts(t,i),size:dw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=xy();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=xy(),i=new Mm(Av.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,dw(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return Vv.resolve();var r=new Bm(Bw);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Fw(r.first()),Fw(r.last())),a=r.getIterator(),o=a.getNext();return Mw(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Av.fromSegments([].concat(kt(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Bw(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(Fw(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),bb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mw(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=xy(),o=Ee(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.ts(Av.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(my(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=xy(),o=jw(t,n),s=jw(t,Mv.max());return Mw(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.ts(Av.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Ow(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Lw(e).get("remoteDocumentGlobalKey").next((function(e){return iv(!!e),e}))}},{key:"Zn",value:function(e,t){return Lw(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=tb(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Av.fromSegments(t.noDocument.path),i=xb(t.noDocument.readTime);n=Ig.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return rv();var a=Av.fromSegments(t.unknownDocument.path),o=xb(t.unknownDocument.version);n=Ig.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new xv(e[0],e[1]);return Iv.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Iv.min()))return n}return Ig.newInvalidDocument(e)}}]),e}();function Rw(e){return new Dw(e)}var Ow=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new by((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Bm((function(e,t){return kv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.us.get(a);if(n.push(t.os.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=kb(t.os.serializer,o);i=i.add(a.path.popLast());var c=dw(u);r+=c-s.size,n.push(t.os.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=kb(t.os.serializer,o.convertToNoDocument(Iv.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),Vv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Pw);function Lw(e){return Dm(e,"remoteDocumentGlobal")}function Mw(e){return Dm(e,"remoteDocumentsV14")}function Fw(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function jw(e,t){var n=t.documentKey.path.toArray();return[e,bb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Bw(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=kv(n[a],r[a]))return i;return(i=kv(n.length,r.length))||((i=kv(n[n.length-2],r[r.length-2]))||kv(n[n.length-1],r[r.length-1]))}var Uw=g((function e(t,n){y(this,e),this.overlayedDocument=t,this.mutatedFields=n})),zw=function(){function e(t,n,r,i){y(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&nk(r.mutation,e,Vm.empty(),xv.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Py()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Py(),i=Ey();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Sy();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Ey();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Py())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=xy(),a=Ay(),o=Ay();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ok)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),nk(o.mutation,t,o.mutation.getFieldMask(),xv.now())):a.set(t.key,Vm.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Uw(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Ay(),i=new Mm((function(e,t){return e-t})),a=Py();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Ee(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Vm.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Py()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Ty();c.forEach((function(e){if(!a.has(e)){var n=ek(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Vv.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Av.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Vv.resolve(Ey()),s=-1,u=a;return o.next((function(t){return Vv.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Vv.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Py())})).next((function(e){return{batchId:s,changes:_y(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Av(t)).next((function(e){var t=Sy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Sy();return this.indexManager.getCollectionParents(e,i).next((function(o){return Vv.forEach(o,(function(o){var s=function(e,t){return new ny(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ig.newInvalidDocument(r)))}));var n=Sy();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&nk(a.mutation,i,Vm.empty(),xv.now()),my(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Vw=function(){function e(t){y(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return Vv.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Kk(n.createTime)}),Vv.resolve()}},{key:"getNamedQuery",value:function(e,t){return Vv.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Eb(e.bundledQuery),readTime:Kk(e.readTime)}}(t)),Vv.resolve()}}]),e}(),qw=function(){function e(){y(this,e),this.overlays=new Mm(Av.comparator),this.ls=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return Vv.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ey();return Vv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),Vv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),Vv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Ey(),i=t.length+1,a=new Av(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Vv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Mm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Ey(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Ey(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Vv.resolve(u)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new mk(t,n));var a=this.ls.get(t);void 0===a&&(a=Py(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),Hw=function(){function e(){y(this,e),this.fs=new Bm(Kw.ds),this.ws=new Bm(Kw._s)}return g(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Kw(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new Kw(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new Av(new _v([])),r=new Kw(n,e),i=new Kw(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new Av(new _v([])),n=new Kw(t,e),r=new Kw(t,e+1),i=Py();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Kw(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Kw=function(){function e(t,n){y(this,e),this.key=t,this.As=n}return g(e,null,[{key:"ds",value:function(e,t){return Av.comparator(e.key,t.key)||kv(e.As,t.As)}},{key:"_s",value:function(e,t){return kv(e.As,t.As)||Av.comparator(e.key,t.key)}}]),e}(),Gw=function(){function e(t,n){y(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Bm(Kw.ds)}return g(e,[{key:"checkEmpty",value:function(e){return Vv.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new pk(i,t,n,r);this.mutationQueue.push(a);var o,s=Ee(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new Kw(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Vv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Vv.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return Vv.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Vv.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return Vv.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Kw(t,0),i=new Kw(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),Vv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Bm(kv);return t.forEach((function(e){var t=new Kw(e,0),i=new Kw(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),Vv.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Av.isDocumentKey(i)||(i=i.child(""));var a=new Kw(new Av(i),0),o=new Bm(kv);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),Vv.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;iv(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return Vv.forEach(t.mutations,(function(i){var a=new Kw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Kw(t,0),r=this.Rs.firstAfterOrEqual(n);return Vv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Vv.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Ww=function(){function e(t){y(this,e),this.Ds=t,this.docs=new Mm(Av.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Vv.resolve(n?n.document.mutableCopy():Ig.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=xy();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ig.newInvalidDocument(e))})),Vv.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=xy(),a=t.path,o=new Av(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Fv(Lv(l),n)<=0||(r.has(l.key)||my(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Vv.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){rv()}},{key:"Cs",value:function(e,t){return Vv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Qw(this)}},{key:"getSize",value:function(e){return Vv.resolve(this.size)}}]),e}(),Qw=function(e){Ce(n,e);var t=De(n);function n(e){var r;return y(this,n),(r=t.call(this)).os=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),Vv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(Pw),Yw=function(){function e(t){y(this,e),this.persistence=t,this.xs=new by((function(e){return Xg(e)}),Jg),this.lastRemoteSnapshotVersion=Iv.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Hw,this.targetCount=0,this.Ms=kw.kn()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),Vv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Vv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Vv.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),Vv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Vv.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new kw(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,Vv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),Vv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Vv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Vv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Vv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return Vv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),Vv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Vv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),Vv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return Vv.resolve(n)}},{key:"containsKey",value:function(e,t){return Vv.resolve(this.ks.containsKey(t))}}]),e}(),Xw=function(){function e(t,n){var r=this;y(this,e),this.$s={},this.overlays={},this.Os=new em(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new Yw(this),this.indexManager=new tw,this.remoteDocumentCache=new Ww((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new yb(n),this.qs=new Vw(this.serializer)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new qw,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new Gw(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;Zp("MemoryPersistence","Starting transaction:",e);var i=new Jw(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return Vv.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Jw=function(e){Ce(n,e);var t=De(n);function n(e){var r;return y(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(Bv),$w=function(){function e(t){y(this,e),this.persistence=t,this.Qs=new Hw,this.js=null}return g(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw rv()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Vv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Vv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),Vv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vv.forEach(this.Ws,(function(r){var i=Av.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,Iv.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return Vv.or([function(){return Vv.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),Zw=function(){function e(t){y(this,e),this.serializer=t}return g(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new qv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",um,{unique:!0}),e.createObjectStore("documentMutations")}(e),ex(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Vv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),ex(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Iv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",um,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Vv.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Im});t.createIndex("collectionPathOverlayIndex",Sm,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",_m,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:hm});t.createIndex("documentKeyIndex",dm),t.createIndex("collectionGroupIndex",pm)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:km}).createIndex("sequenceNumberIndex",bm,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:wm}).createIndex("documentKeyIndex",xm,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=dw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return Vv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return Vv.forEach(r,(function(r){iv(r.userId===n.userId);var i=Ib(t.serializer,r);return hw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new _v(n),o=function(e){return[0,im(e)]}(a);r.push(t.get(o).next((function(n){return n?Vv.resolve():function(n){return t.put({targetId:0,path:im(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Vv.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ym});var n=t.store("collectionParents"),r=new nw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:im(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new _v(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=v(e,3),r=(n[0],n[1]),a=(n[2],sm(r));return i(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=Sb(r),a=_b(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Av(_v.fromString(i.document.name).popFirst(5)):i.noDocument?Av.fromSegments(i.noDocument.path):i.unknownDocument?Av.fromSegments(i.unknownDocument.path):rv()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return Vv.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=Rw(this.serializer),a=new Xw($w.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Py();Ib(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Vv.forEach(r,(function(e,r){var o=new Yp(r),s=Rb.de(n.serializer,o),u=a.getIndexManager(o),c=pw.de(o,n.serializer,u,a.referenceDelegate);return new zw(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new Pm(t,em.ct),e).next()}))}))}}]),e}();function ex(e){e.createObjectStore("targetDocuments",{keyPath:mm}).createIndex("documentTargetsIndex",gm,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vm,{unique:!0}),e.createObjectStore("targetGlobal")}var tx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",nx=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(y(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=s,this.ri=c,this.oi=l,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new sv(ov.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Cw(this,i),this.di=n+"main",this.serializer=new yb(u),this.wi=new Hv(this.di,this.ui,new Zw(this.serializer)),this.Bs=new bw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Rw(this.serializer),this.qs=new Nb,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&ev("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return g(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new sv(ov.FAILED_PRECONDITION,tx);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new em(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=l(u().mark((function n(r){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=l(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return ix(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(Wv(t))return Zp("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Zp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return rx(e).get("owner").next((function(e){return Vv.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return ix(e).delete(this.clientId)}},{key:"bi",value:function(){var e=l(u().mark((function e(){var t,n,r,i,a=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Dm(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Vv.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=Ee(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?Vv.resolve(!0):rx(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new sv(ov.FAILED_PRECONDITION,tx);return!1}}return!(!t.networkEnabled||!t.inForeground)||ix(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Zp("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=l(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Pm(e,em.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return ix(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return pw.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new iw(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Rb.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;Zp("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.ui)?Nm:14===i?Cm:13===i?Am:12===i?Tm:11===i?Em:void rv();return this.wi.runTransaction(e,o,s,(function(i){return a=new Pm(i,r.Os?r.Os.next():em.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw ev("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new sv(ov.FAILED_PRECONDITION,jv);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return rx(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new sv(ov.FAILED_PRECONDITION,tx)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rx(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=rx(e);return n.get("owner").next((function(e){return t.Ri(e)?(Zp("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Vv.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ev("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!We()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Zp("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ev("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){ev("Failed to set zombie client id.",e)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return Hv.D()}}]),e}();function rx(e){return Dm(e,"owner")}function ix(e){return Dm(e,"clientMetadata")}function ax(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var ox=function(){function e(t,n,r,i){y(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return g(e,null,[{key:"Li",value:function(t,n){var r,i=Py(),a=Py(),o=Ee(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),sx=function(){function e(){y(this,e),this.qi=!1}return g(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(ay(t))return Vv.resolve(null);var r=ly(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=hy(t,null,"F"),r=ly(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Py.apply(void 0,kt(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,hy(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return ay(t)||r.isEqual(Iv.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):($p()<=_t.DEBUG&&Zp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vy(t)),i.Wi(e,o,t,Ov(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new Bm(yy(e));return t.forEach((function(t,r){my(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return $p()<=_t.DEBUG&&Zp("QueryEngine","Using full collection scan to execute query:",vy(t)),this.Ui.getDocumentsMatchingQuery(e,t,Mv.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ux=function(){function e(t,n,r,i){y(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Mm(kv),this.Yi=new by((function(e){return Xg(e)}),Jg),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return g(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zw(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function cx(e,t,n,r){return new ux(e,t,n,r)}function lx(e,t){return fx.apply(this,arguments)}function fx(){return fx=l(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=av(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Py(),u=Ee(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Ee(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Ee(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=Ee(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),fx.apply(this,arguments)}function hx(e,t){var n=av(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Vv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);iv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Py(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function dx(e){var t=av(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function px(e,t){var n=av(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Hm.EMPTY_BYTE_STRING,Iv.min()).withLastLimboFreeSnapshotVersion(Iv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var s=xy(),u=Py();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(vx(e,a,t.documentUpdates).next((function(e){s=e.nr,u=e.sr}))),!r.isEqual(Iv.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Vv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function vx(e,t,n){var r=Py(),i=Py();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=xy();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Iv.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Zp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function mx(e,t){var n=av(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function gx(e,t){var n=av(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,Vv.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new gb(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function yx(e,t,n){return kx.apply(this,arguments)}function kx(){return kx=l(u().mark((function e(t,n,r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=av(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Wv(e.t1)){e.next=12;break}throw e.t1;case 12:Zp("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),kx.apply(this,arguments)}function bx(e,t,n){var r=av(e),i=Iv.min(),a=Py();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=av(e),i=r.Yi.get(n);return void 0!==i?Vv.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,ly(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:Iv.min(),n?a:Py())})).next((function(e){return Ix(r,gy(t),e),{documents:e,ir:a}}))}))}function wx(e,t){var n=av(e),r=av(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function xx(e,t){var n=av(e),r=n.Xi.get(t)||Iv.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,Ov(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Ix(n,t,e),e}))}function Ix(e,t,n){var r=e.Xi.get(t)||Iv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function Sx(e,t,n,r){return _x.apply(this,arguments)}function _x(){return _x=l(u().mark((function e(t,n,r,i){var a,o,s,c,l,f,h,d,p,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=av(t),o=Py(),s=xy(),c=Ee(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.rr(f.metadata.name),f.document&&(o=o.add(h)),(d=n.ur(f)).setReadTime(n.cr(f.metadata.readTime)),s=s.insert(h,d)}catch(u){c.e(u)}finally{c.f()}return p=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,gx(a,function(e){return ly(iy(_v.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return vx(e,p,s).next((function(t){return p.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),_x.apply(this,arguments)}function Ex(e,t){return Tx.apply(this,arguments)}function Tx(){return Tx=l(u().mark((function e(t,n){var r,i,a,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Py(),e.next=3,gx(t,ly(Eb(n.bundledQuery)));case 3:return i=e.sent,a=av(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Kk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken(Hm.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Tx.apply(this,arguments)}function Ax(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Cx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Nx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Px=function(){function e(t,n,r,i){y(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return g(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new sv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ev("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Dx=function(){function e(t,n,r){y(this,e),this.targetId=t,this.state=n,this.error=r}return g(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new sv(i.error.code,i.error.message))),a?new e(t,i.state,r):(ev("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Rx=function(){function e(t,n){y(this,e),this.clientId=t,this.activeTargetIds=n}return g(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ry(),o=0;i&&o<r.activeTargetIds.length;++o)i=rm(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ev("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Ox=function(){function e(t,n){y(this,e),this.clientId=t,this.onlineState=n}return g(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ev("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Lx=function(){function e(){y(this,e),this.activeTargetIds=Ry()}return g(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Mx=function(){function e(t,n,r,i,a){y(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Mm(kv),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=Ax(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new Lx),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return g(e,[{key:"start",value:function(){var e=l(u().mark((function e(){var t,n,r,i,a,o,s,c,l,f,h,d=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=Ee(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Ax(this.persistenceKey,i)))&&(o=Rx.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(s=this.storage.getItem(this.vr))&&(c=this.br(s))&&this.Vr(c),l=Ee(this.yr);try{for(l.s();!(f=l.n()).done;)h=f.value,this.mr(h)}catch(u){l.e(u)}finally{l.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Nx(this.persistenceKey,e));if(n){var r=Dx.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Nx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Zp("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Zp("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Zp("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Zp("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void ev("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(l(u().mark((function e(){var r,i,a,o,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(s));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}c=function(e){var t=em.ct;if(null!=e)try{var n=JSON.parse(e);iv("number"==typeof n),t=n}catch(e){ev("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),c!==em.ct&&t.sequenceNumberHandler(c),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return l=t.Gr(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new Px(this.currentUser,e,t,n),i=Cx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=Cx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=Nx(this.persistenceKey,e),i=new Dx(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return Rx.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Px.ar(new Yp(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return Dx.ar(r,t)}},{key:"br",value:function(e){return Ox.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:Zp("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Wr(o,s).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=Ry();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Fx=function(){function e(){y(this,e),this.Hr=new Lx,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new Lx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),jx=function(){function e(){y(this,e)}return g(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Bx=function(){function e(){var t=this;y(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return g(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){Zp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ee(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){Zp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ee(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ux=null;function zx(){return null===Ux?Ux=268435456+Math.round(2147483648*Math.random()):Ux++,"0x"+Ux.toString(16)}var Vx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},qx=function(){function e(t){y(this,e),this.ro=t.ro,this.oo=t.oo}return g(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),Hx="WebChannelConnection",Kx=function(e){Ce(n,e);var t=De(n);function n(e){var r;return y(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return g(n,[{key:"Ao",value:function(e,t,n,r){var i=zx();return new Promise((function(a,o){var s=new Kp;s.setWithCredentials(!0),s.listenOnce(Up.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Bp.NO_ERROR:var t=s.getResponseJson();Zp(Hx,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Bp.TIMEOUT:Zp(Hx,"RPC '".concat(e,"' ").concat(i," timed out")),o(new sv(ov.DEADLINE_EXCEEDED,"Request time out"));break;case Bp.HTTP_ERROR:var n=s.getStatus();if(Zp(Hx,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ov).indexOf(t)>=0?t:ov.UNKNOWN}(u.status);o(new sv(c,u.message))}else o(new sv(ov.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new sv(ov.UNAVAILABLE,"Connection failed."));break;default:rv()}}finally{Zp(Hx,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Zp(Hx,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=zx(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Fp(),o=jp(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new qp({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");Zp(Hx,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new qx({ro:function(t){h?Zp(Hx,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Zp(Hx,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),Zp(Hx,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Hp.EventType.OPEN,(function(){h||Zp(Hx,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Hp.EventType.CLOSE,(function(){h||(h=!0,Zp(Hx,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,Hp.EventType.ERROR,(function(t){h||(h=!0,tv(Hx,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new sv(ov.UNAVAILABLE,"The operation could not be completed")))})),p(l,Hp.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];iv(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Zp(Hx,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=lk[e];if(void 0!==t)return kk(t)}(s),c=o.message;void 0===u&&(u=ov.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.wo(new sv(u,c)),l.close()}else Zp(Hx,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,zp.STAT_EVENT,(function(t){t.stat===Vp.PROXY?Zp(Hx,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Vp.NOPROXY&&Zp(Hx,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){y(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return g(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=zx(),o=this.To(e,t);Zp("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then((function(t){return Zp("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw tv("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=Vx[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function Gx(){return"undefined"!=typeof window?window:null}function Wx(){return"undefined"!=typeof document?document:null}function Qx(e){return new Uk(e,!0)}var Yx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;y(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&Zp("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),Xx=function(){function e(t,n,r,i,a,o,s,u){y(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Yx(t,n)}return g(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===ov.RESOURCE_EXHAUSTED?(ev(n.toString()),ev("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===ov.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=v(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new sv(ov.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return Zp("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(Zp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Jx=function(e){Ce(n,e);var t=De(n);function n(e,r,i,a,o,s){var u;return y(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return g(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:rv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(iv(void 0===t||"string"==typeof t),Hm.fromBase64String(t||"")):(iv(void 0===t||t instanceof Uint8Array),Hm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?ov.UNKNOWN:kk(e.code);return new sv(t,e.message||"")}(o);n=new Dk(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Yk(e,u.document.name),l=Kk(u.document.updateTime),f=u.document.createTime?Kk(u.document.createTime):Iv.min(),h=new wg({mapValue:{fields:u.document.fields}}),d=Ig.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Nk(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=Yk(e,m.document),y=m.readTime?Kk(m.readTime):Iv.min(),k=Ig.newNoDocument(g,y),b=m.removedTargetIds||[];n=new Nk([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Yk(e,w.document),I=w.removedTargetIds||[];n=new Nk([],I,x,null)}else{if(!("filter"in t))return rv();t.filter;var S=t.filter;S.targetId;var _=S.count,E=void 0===_?0:_,T=S.unchangedNames,A=new gk(E,T),C=S.targetId;n=new Pk(C,A)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Iv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Iv.min():t.readTime?Kk(t.readTime):Iv.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=$k(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=$g(r)?{documents:ab(e,r)}:{query:ob(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=qk(e,t.resumeToken);var i=zk(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Iv.min())>0){n.readTime=Vk(e,t.snapshotVersion.toTimestamp());var a=zk(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rv()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=$k(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(Xx),$x=function(e){Ce(n,e);var t=De(n);function n(e,r,i,a,o,s){var u;return y(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.ru=!1,u}return g(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,Jn(Ne(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(iv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(iv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Kk(e.updateTime):Kk(t);return n.isEqual(Iv.min())&&(n=Kk(t)),new Xy(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Kk(e.commitTime);return this.listener.cu(n,t)}return iv(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=$k(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return rb(t.serializer,e)}))};this.Wo(n)}}]),n}(Xx),Zx=function(e){Ce(n,e);var t=De(n);function n(e,r,i,a){var o;return y(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return g(n,[{key:"fu",value:function(){if(this.lu)throw new sv(ov.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=v(i,2),o=a[0],s=a[1];return r.connection.Io(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ov.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new sv(ov.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=v(a,2),s=o[0],u=o[1];return i.connection.vo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ov.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new sv(ov.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return g((function e(){y(this,e)}))}());var eI=function(){function e(t,n){y(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return g(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(ev(t),this.mu=!1):Zp("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),tI=g((function e(t,n,r,i,a){var o=this;y(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=hI(o),!e.t0){e.next=5;break}return Zp("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=av(t)).vu.add(4),e.next=4,iI(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,nI(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new eI(r,i)}));function nI(e){return rI.apply(this,arguments)}function rI(){return(rI=l(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hI(t)){e.next=18;break}n=Ee(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function iI(e){return aI.apply(this,arguments)}function aI(){return(aI=l(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ee(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function oI(e,t){var n=av(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),fI(n)?lI(n):zI(n).Ko()&&uI(n,t))}function sI(e,t){var n=av(e),r=zI(n);n.Au.delete(t),r.Ko()&&cI(n,t),0===n.Au.size&&(r.Ko()?r.jo():hI(n)&&n.bu.set("Unknown"))}function uI(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Iv.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}zI(e).su(t)}function cI(e,t){e.Vu.qt(t),zI(e).iu(t)}function lI(e){e.Vu=new Ok({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),zI(e).start(),e.bu.gu()}function fI(e){return hI(e)&&!zI(e).Uo()&&e.Au.size>0}function hI(e){return 0===av(e).vu.size}function dI(e){e.Vu=void 0}function pI(e){return vI.apply(this,arguments)}function vI(){return(vI=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){uI(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mI(e,t){return gI.apply(this,arguments)}function gI(){return(gI=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dI(t),fI(t)?(t.bu.Iu(n),lI(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yI(e,t,n){return kI.apply(this,arguments)}function kI(){return kI=l(u().mark((function e(t,n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof Dk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=l(u().mark((function e(t,n){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ee(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Zp("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,bI(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Nk?t.Vu.Ht(n):n instanceof Pk?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(Iv.min())){e.next=29;break}return e.prev=14,e.next=17,dx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(Hm.EMPTY_BYTE_STRING,r.snapshotVersion)),cI(e,t);var i=new gb(r.target,t,n,r.sequenceNumber);uI(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Zp("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,bI(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),kI.apply(this,arguments)}function bI(e,t,n){return wI.apply(this,arguments)}function wI(){return(wI=l(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wv(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,iI(t);case 5:t.bu.set("Offline"),r||(r=function(){return dx(t.localStore)}),t.asyncQueue.enqueueRetryable(l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zp("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,nI(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xI(e,t){return t().catch((function(n){return bI(e,n,t)}))}function II(e){return SI.apply(this,arguments)}function SI(){return(SI=l(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=av(t),r=VI(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!_I(n)){e.next=19;break}return e.prev=3,e.next=6,mx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,EI(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,bI(n,e.t0);case 17:e.next=2;break;case 19:TI(n)&&AI(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function _I(e){return hI(e)&&e.Eu.length<10}function EI(e,t){e.Eu.push(t);var n=VI(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function TI(e){return hI(e)&&!VI(e).Uo()&&e.Eu.length>0}function AI(e){VI(e).start()}function CI(e){return NI.apply(this,arguments)}function NI(){return(NI=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:VI(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PI(e){return DI.apply(this,arguments)}function DI(){return(DI=l(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=VI(t),r=Ee(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RI(e,t,n){return OI.apply(this,arguments)}function OI(){return(OI=l(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=vk.from(i,n,r),e.next=3,xI(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,II(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LI(e,t){return MI.apply(this,arguments)}function MI(){return MI=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&VI(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=l(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!yk(i=n.code)||i===ov.ABORTED){e.next=7;break}return r=t.Eu.shift(),VI(t).Qo(),e.next=5,xI(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,II(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:TI(t)&&AI(t);case 5:case"end":return e.stop()}}),e)}))),MI.apply(this,arguments)}function FI(e,t){return jI.apply(this,arguments)}function jI(){return(jI=l(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=av(t)).asyncQueue.verifyOperationInProgress(),Zp("RemoteStore","RemoteStore received new credentials"),i=hI(r),r.vu.add(3),e.next=6,iI(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,nI(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BI(e,t){return UI.apply(this,arguments)}function UI(){return(UI=l(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=av(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,nI(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,iI(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zI(e){return e.Su||(e.Su=function(e,t,n){var r=av(e);return r.fu(),new Jx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:pI.bind(null,e),ao:mI.bind(null,e),nu:yI.bind(null,e)}),e.Ru.push(function(){var t=l(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),fI(e)?lI(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:dI(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function VI(e){return e.Du||(e.Du=function(e,t,n){var r=av(e);return r.fu(),new $x(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:CI.bind(null,e),ao:LI.bind(null,e),au:PI.bind(null,e),cu:RI.bind(null,e)}),e.Ru.push(function(){var t=l(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,II(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(Zp("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var qI=function(){function e(t,n,r,i,a){y(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new uv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sv(ov.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function HI(e,t){if(ev("AsyncQueue","".concat(t,": ").concat(e)),Wv(e))return new sv(ov.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var KI=function(){function e(t){y(this,e),this.comparator=t?function(e,n){return t(e,n)||Av.comparator(e.key,n.key)}:function(e,t){return Av.comparator(e.key,t.key)},this.keyedMap=Sy(),this.sortedSet=new Mm(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),GI=function(){function e(){y(this,e),this.Cu=new Mm(Av.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):rv():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),WI=function(){function e(t,n,r,i,a,o,s,u,c){y(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,KI.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),QI=g((function e(){y(this,e),this.Nu=void 0,this.listeners=[]})),YI=g((function e(){y(this,e),this.queries=new by((function(e){return py(e)}),dy),this.onlineState="Unknown",this.ku=new Set}));function XI(e,t){return JI.apply(this,arguments)}function JI(){return JI=l(u().mark((function e(t,n){var r,i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=av(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new QI),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=HI(e.t0,"Initialization of query '".concat(vy(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&nS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),JI.apply(this,arguments)}function $I(e,t){return ZI.apply(this,arguments)}function ZI(){return ZI=l(u().mark((function e(t,n){var r,i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=av(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),ZI.apply(this,arguments)}function eS(e,t){var n,r=av(e),i=!1,a=Ee(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Ee(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&nS(r)}function tS(e,t,n){var r=av(e),i=r.queries.get(t);if(i){var a,o=Ee(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function nS(e){e.ku.forEach((function(e){e.next()}))}var rS=function(){function e(t,n,r){y(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ee(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new WI(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=WI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),iS=function(){function e(t,n){y(this,e),this.Gu=t,this.byteLength=n}return g(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),aS=function(){function e(t){y(this,e),this.serializer=t}return g(e,[{key:"rr",value:function(e){return Yk(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?tb(this.serializer,e.document,!1):Ig.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return Kk(e)}}]),e}(),oS=function(){function e(t,n,r){y(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sS(t)}return g(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=_v.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new aS(this.serializer),i=Ee(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.rr(a.metadata.name),u=Ee(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Py()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=l(u().mark((function e(){var t,n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sx(this.localStore,new aS(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=Ee(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Ex(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function sS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var uS=g((function e(t){y(this,e),this.key=t})),cS=g((function e(t){y(this,e),this.key=t})),lS=function(){function e(t,n){y(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Py(),this.mutatedKeys=Py(),this.tc=yy(t),this.ec=new KI(this.tc)}return g(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new GI,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=my(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.tc(f,u)>0||c&&n.tc(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:s,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rv()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,u=s!==this.Xu;return this.Xu=s,0!==a.length||u?{snapshot:new WI(this.query,e.ec,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new GI,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=Py(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new cS(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new uS(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=Py();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return WI.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),fS=g((function e(t,n,r){y(this,e),this.query=t,this.targetId=n,this.view=r})),hS=g((function e(t){y(this,e),this.key=t,this.fc=!1})),dS=function(){function e(t,n,r,i,a,o){y(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new by((function(e){return py(e)}),dy),this._c=new Map,this.mc=new Set,this.gc=new Mm(Av.comparator),this.yc=new Map,this.Ic=new Hw,this.Tc={},this.Ec=new Map,this.Ac=kw.Mn(),this.onlineState="Unknown",this.vc=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function pS(e,t){return vS.apply(this,arguments)}function vS(){return vS=l(u().mark((function e(t,n){var r,i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s_(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,gx(r.localStore,ly(n));case 8:return s=e.sent,c=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,mS(r,n,i,"current"===c,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&oI(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),vS.apply(this,arguments)}function mS(e,t,n,r,i){return gS.apply(this,arguments)}function gS(){return gS=l(u().mark((function e(t,n,r,i,a){var o,s,c,f,h,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=l(u().mark((function e(t,n,r,i){var a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,bx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(FS(t,n.targetId,s.cc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,bx(t.localStore,n,!0);case 3:return o=e.sent,s=new lS(n,o.ir),c=s.sc(o.documents),f=Ck.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),h=s.applyChanges(c,t.isPrimaryClient,f),FS(t,r,h.cc),d=new fS(n,r,s),e.abrupt("return",(t.wc.set(n,d),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}function yS(e,t){return kS.apply(this,arguments)}function kS(){return(kS=l(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=av(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!dy(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,yx(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),sI(r.remoteStore,i.targetId),LS(r,i.targetId)})).catch(Uv);case 9:e.next=14;break;case 11:return LS(r,i.targetId),e.next=14,yx(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bS(e,t,n){return wS.apply(this,arguments)}function wS(){return wS=l(u().mark((function e(t,n,r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u_(t),e.prev=1,e.next=4,function(e,t){var n,r,i=av(e),a=xv.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Py());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=xy(),u=Py();return i.Zi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=Ee(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=rk(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new ok(c.key,l,xg(l.value.mapValue),Jy.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:_y(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new Mm(kv)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,US(i,a.changes);case 9:return e.next=11,II(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=HI(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),wS.apply(this,arguments)}function xS(e,t){return IS.apply(this,arguments)}function IS(){return(IS=l(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=av(t),e.prev=1,e.next=4,px(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(iv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?iv(n.fc):e.removedDocuments.size>0&&(iv(n.fc),n.fc=!1))})),e.next=8,US(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Uv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function SS(e,t,n){var r=av(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=av(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ee(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&nS(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function _S(e,t,n){return ES.apply(this,arguments)}function ES(){return ES=l(u().mark((function e(t,n,r){var i,a,o,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=av(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Mm(Av.comparator)).insert(o,Ig.newNoDocument(o,Iv.min())),c=Py().add(o),l=new Ak(Iv.min(),new Map,new Mm(kv),s,c),e.next=9,xS(i,l);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),BS(i),e.next=16;break;case 14:return e.next=16,yx(i.localStore,n,!1).then((function(){return LS(i,n,r)})).catch(Uv);case 16:case"end":return e.stop()}}),e)}))),ES.apply(this,arguments)}function TS(e,t){return AS.apply(this,arguments)}function AS(){return(AS=l(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=av(t),i=n.batch.batchId,e.prev=1,e.next=4,hx(r.localStore,n);case 4:return a=e.sent,OS(r,i,null),RS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,US(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Uv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function CS(e,t,n){return NS.apply(this,arguments)}function NS(){return(NS=l(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=av(t),e.prev=1,e.next=4,function(e,t){var n=av(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return iv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,OS(i,n,r),RS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,US(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Uv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function PS(e,t){return DS.apply(this,arguments)}function DS(){return(DS=l(u().mark((function e(t,n){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hI((r=av(t)).remoteStore)||Zp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=av(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=HI(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function RS(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function OS(e,t,n){var r=av(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function LS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ee(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||MS(e,t)}))}function MS(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(sI(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),BS(e))}function FS(e,t,n){var r,i=Ee(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof uS?(e.Ic.addReference(a.key,t),jS(e,a)):a instanceof cS?(Zp("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||MS(e,a.key)):rv()}}catch(o){i.e(o)}finally{i.f()}}function jS(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Zp("SyncEngine","New document in limbo: "+n),e.mc.add(r),BS(e))}function BS(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new Av(_v.fromString(t)),r=e.Ac.next();e.yc.set(r,new hS(n)),e.gc=e.gc.insert(n,r),oI(e.remoteStore,new gb(ly(iy(n.path)),r,"TargetPurposeLimboResolution",em.ct))}}function US(e,t,n){return zS.apply(this,arguments)}function zS(){return zS=l(u().mark((function e(t,n,r){var i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=av(t),a=[],o=[],s=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=ox.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.dc.nu(a),e.next=9,function(){var e=l(u().mark((function e(t,n){var r,i,a,o,s,c,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=av(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Vv.forEach(n,(function(t){return Vv.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Vv.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Wv(e.t0)){e.next=10;break}throw e.t0;case 10:Zp("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ee(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(c=r.Ji.get(s),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),r.Ji=r.Ji.insert(s,f))}catch(u){i.e(u)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),zS.apply(this,arguments)}function VS(e,t){return qS.apply(this,arguments)}function qS(){return(qS=l(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=av(t)).currentUser.isEqual(n)){e.next=11;break}return Zp("SyncEngine","User change. New user:",n.toKey()),e.next=5,lx(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new sv(ov.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,US(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HS(e,t){var n=av(e),r=n.yc.get(t);if(r&&r.fc)return Py().add(r.key);var i=Py(),a=n._c.get(t);if(!a)return i;var o,s=Ee(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.wc.get(u);i=i.unionWith(c.view.nc)}}catch(l){s.e(l)}finally{s.f()}return i}function KS(e,t){return GS.apply(this,arguments)}function GS(){return(GS=l(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=av(t),e.next=3,bx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&FS(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WS(e,t){return QS.apply(this,arguments)}function QS(){return(QS=l(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=av(t),e.abrupt("return",xx(r.localStore,n).then((function(e){return US(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YS(e,t,n,r){return XS.apply(this,arguments)}function XS(){return XS=l(u().mark((function e(t,n,r,i){var a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=av(t),e.next=3,function(e,t){var n=av(e),r=av(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Vv.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,II(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(OS(a,n,i||null),RS(a,n),function(e,t){av(av(e).mutationQueue).Cn(t)}(a.localStore,n)):rv();case 11:return e.next=13,US(a,o);case 13:e.next=16;break;case 15:Zp("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),XS.apply(this,arguments)}function JS(e,t){return $S.apply(this,arguments)}function $S(){return($S=l(u().mark((function e(t,n){var r,i,a,o,s,c,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s_(r=av(t)),u_(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,ZS(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,BI(r.remoteStore,!0);case 9:o=Ee(a);try{for(o.s();!(s=o.n()).done;)c=s.value,oI(r.remoteStore,c)}catch(u){o.e(u)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return l=[],f=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then((function(){return LS(r,t),yx(r.localStore,t,!0)})),sI(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,ZS(r,l);case 21:return function(e){var t=av(e);t.yc.forEach((function(e,n){sI(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new Mm(Av.comparator)}(r),r.vc=!1,e.next=25,BI(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZS(e,t,n){return e_.apply(this,arguments)}function e_(){return e_=l(u().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p,v,m,g,y;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=av(t),a=[],o=[],s=Ee(n),e.prev=2,s.s();case 4:if((c=s.n()).done){e.next=45;break}if(l=c.value,f=void 0,!(h=i._c.get(l))||0===h.length){e.next=34;break}return e.next=11,gx(i.localStore,ly(h[0]));case 11:f=e.sent,d=Ee(h),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,m=i.wc.get(v),e.next=20,KS(i,m);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,wx(i.localStore,l);case 36:return y=e.sent,e.next=39,gx(i.localStore,y);case 39:return f=e.sent,e.next=42,mS(i,t_(y),l,!1,f.resumeToken);case 42:a.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),e_.apply(this,arguments)}function t_(e){return ry(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function n_(e){var t=av(e);return av(av(t.localStore).persistence).$i()}function r_(e,t,n,r){return i_.apply(this,arguments)}function i_(){return i_=l(u().mark((function e(t,n,r,i){var a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=av(t)).vc){e.next=3;break}return e.abrupt("return",void Zp("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,xx(a.localStore,gy(o[0]));case 10:return s=e.sent,c=Ak.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Hm.EMPTY_BYTE_STRING),e.next=14,US(a,s,c);case 14:return e.abrupt("break",20);case 15:return e.next=17,yx(a.localStore,n,!0);case 17:return LS(a,n,i),e.abrupt("break",20);case 19:rv();case 20:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(e,t,n){return o_.apply(this,arguments)}function o_(){return(o_=l(u().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=s_(t)).vc){e.next=45;break}a=Ee(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i._c.has(s)){e.next=10;break}return Zp("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,wx(i.localStore,s);case 12:return c=e.sent,e.next=15,gx(i.localStore,c);case 15:return l=e.sent,e.next=18,mS(i,t_(c),l.targetId,!1,l.resumeToken);case 18:oI(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:f=Ee(r),e.prev=30,d=u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,yx(i.localStore,t,!1).then((function(){sI(i.remoteStore,t),LS(i,t)})).catch(Uv);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((h=f.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function s_(e){var t=av(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_S.bind(null,t),t.dc.nu=eS.bind(null,t.eventManager),t.dc.Pc=tS.bind(null,t.eventManager),t}function u_(e){var t=av(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=TS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=CS.bind(null,t),t}function c_(e,t,n){var r=av(e);(function(){var e=l(u().mark((function e(t,n,r){var i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=av(e),r=Kk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(sS(i)),a=new oS(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return c=e.sent,e.next=31,US(t,c.Ju,void 0);case 31:return e.next=33,function(e,t){var n=av(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(c.progress),e.abrupt("return",Promise.resolve(c.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(tv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var l_=function(){function e(){y(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Qx(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return cx(this.persistence,new sx,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Xw($w.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Fx}},{key:"terminate",value:function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),f_=function(e){Ce(n,e);var t=De(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return g(n,[{key:"initialize",value:function(){var e=l(u().mark((function e(t){var r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(Ne(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,u_(this.Vc.syncEngine);case 6:return e.next=8,II(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return cx(this.persistence,new sx,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Ew(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Zv(t,this.persistence);return new $v(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=ax(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?fw.withCacheSize(this.cacheSizeBytes):fw.DEFAULT;return new nx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Gx(),Wx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new Fx}}]),n}(l_),h_=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return g(n,[{key:"initialize",value:function(){var e=l(u().mark((function e(t){var r,i=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(Ne(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof Mx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:YS.bind(null,r),zr:r_.bind(null,r),Wr:a_.bind(null,r),$i:n_.bind(null,r),Qr:WS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JS(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=Gx();if(!Mx.D(t))throw new sv(ov.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ax(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Mx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(f_),d_=function(){function e(){y(this,e)}return g(e,[{key:"initialize",value:function(){var e=l(u().mark((function e(t,n){var r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return SS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=VS.bind(null,this.syncEngine),e.next=12,BI(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new YI}},{key:"createDatastore",value:function(e){var t,n=Qx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Kx(t));return function(e,t,n,r){return new Zx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return SS(o.syncEngine,e,0)},a=Bx.D()?new Bx:new jx,new tI(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new dS(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=av(t),Zp("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,iI(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function p_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return l(u().mark((function r(){var i;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var v_=function(){function e(t){y(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):ev("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),m_=function(){function e(t,n){var r=this;y(this,e),this.Cc=t,this.serializer=n,this.metadata=new uv,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return g(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=l(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new iS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=l(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=l(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),g_=function(){function e(t){y(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return g(e,[{key:"lookup",value:function(){var e=l(u().mark((function e(t){var n,r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new sv(ov.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=l(u().mark((function e(t,n){var r,i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=av(t),i=$k(r.serializer)+"/documents",a={documents:n.map((function(e){return Qk(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=nb(r.serializer,e);s.set(t.key.toString(),t)})),c=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());iv(!!t),c.push(t)})),c));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new hk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=l(u().mark((function e(){var t,n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Av.fromPath(t);n.mutations.push(new dk(r,n.precondition(r)))})),e.next=7,function(){var e=l(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=av(t),i=$k(r.serializer)+"/documents",a={writes:n.map((function(e){return rb(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rv();t=Iv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new sv(ov.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Iv.min())?Jy.exists(!1):Jy.updateTime(t):Jy.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Iv.min()))throw new sv(ov.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jy.updateTime(t)}return Jy.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),y_=function(){function e(t,n,r,i,a){y(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new Yx(this.asyncQueue,"transaction_retry")}return g(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(l(u().mark((function t(){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new g_(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!tm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!yk(t)}return!1}}]),e}(),k_=function(){function e(t,n,r,i){var a=this;y(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yp.UNAUTHENTICATED,this.clientId=yv.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zp("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Zp("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return g(e,[{key:"getConfiguration",value:function(){var e=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new sv(ov.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new uv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(l(u().mark((function n(){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=HI(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function b_(e,t){return w_.apply(this,arguments)}function w_(){return w_=l(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Zp("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,lx(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),w_.apply(this,arguments)}function x_(e,t){return I_.apply(this,arguments)}function I_(){return(I_=l(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,__(t);case 3:return r=e.sent,Zp("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return FI(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return FI(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S_(e){return"FirebaseError"===e.name?e.code===ov.FAILED_PRECONDITION||e.code===ov.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function __(e){return E_.apply(this,arguments)}function E_(){return(E_=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Zp("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,b_(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),S_(n=e.t0)){e.next=13;break}throw n;case 13:return tv("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,b_(t,new l_);case 16:e.next=21;break;case 18:return Zp("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,b_(t,new l_);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function T_(e){return A_.apply(this,arguments)}function A_(){return(A_=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Zp("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,x_(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Zp("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,x_(t,new d_);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C_(e){return __(e).then((function(e){return e.persistence}))}function N_(e){return __(e).then((function(e){return e.localStore}))}function P_(e){return T_(e).then((function(e){return e.remoteStore}))}function D_(e){return T_(e).then((function(e){return e.syncEngine}))}function R_(e){return T_(e).then((function(e){return e.datastore}))}function O_(e){return L_.apply(this,arguments)}function L_(){return(L_=l(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T_(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=pS.bind(null,n.syncEngine),r.onUnlisten=yS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new uv;return e.asyncQueue.enqueueAndForget(l(u().mark((function i(){return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new v_({next:function(a){t.enqueueAndForget((function(){return $I(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new sv(ov.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new sv(ov.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new rS(iy(n.path),a,{includeMetadataChanges:!0,Ku:!0});return XI(e,o)},i.next=3,O_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function F_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new uv;return e.asyncQueue.enqueueAndForget(l(u().mark((function i(){return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new v_({next:function(n){t.enqueueAndForget((function(){return $I(e,o)})),n.fromCache&&"server"===r.source?i.reject(new sv(ov.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new rS(n,a,{includeMetadataChanges:!0,Ku:!0});return XI(e,o)},i.next=3,O_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function j_(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var B_=new Map;function U_(e,t,n){if(!n)throw new sv(ov.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function z_(e,t,n,r){if(!0===t&&!0===r)throw new sv(ov.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function V_(e){if(!Av.isDocumentKey(e))throw new sv(ov.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function q_(e){if(Av.isDocumentKey(e))throw new sv(ov.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function H_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":rv()}function K_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new sv(ov.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=H_(e);throw new sv(ov.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function G_(e,t){if(t<=0)throw new sv(ov.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var W_=function(){function e(t){var n,r;if(y(this,e),void 0===t.host){if(void 0!==t.ssl)throw new sv(ov.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new sv(ov.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}z_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j_(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new sv(ov.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new sv(ov.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new sv(ov.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),Q_=function(){function e(t,n,r,i){y(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W_({}),this._settingsFrozen=!1}return g(e,[{key:"app",get:function(){if(!this._app)throw new sv(ov.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new sv(ov.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new lv;switch(e.type){case"firstParty":return new pv(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new sv(ov.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=B_.get(e);t&&(Zp("ComponentProvider","Removing Datastore"),B_.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Y_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=K_(e,Q_))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&tv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=Yp.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new sv(ov.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Yp(c)}e._authCredentials=new fv(new cv(s,u))}}var X_=function(){function e(t,n,r){y(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new $_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),J_=function(){function e(t,n,r){y(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),$_=function(e){Ce(n,e);var t=De(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this,e,r,iy(i)))._path=i,a.type="collection",a}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new X_(this.firestore,null,new Av(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(J_);function Z_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gt(e),U_("collection","path",t),e instanceof Q_){var a=_v.fromString.apply(_v,[t].concat(r));return q_(a),new $_(e,null,a)}if(!(e instanceof X_||e instanceof $_))throw new sv(ov.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(_v.fromString.apply(_v,[t].concat(r)));return q_(o),new $_(e.firestore,null,o)}function eE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gt(e),1===arguments.length&&(t=yv.A()),U_("doc","path",t),e instanceof Q_){var a=_v.fromString.apply(_v,[t].concat(r));return V_(a),new X_(e,null,new Av(a))}if(!(e instanceof X_||e instanceof $_))throw new sv(ov.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(_v.fromString.apply(_v,[t].concat(r)));return V_(o),new X_(e.firestore,e instanceof $_?e.converter:null,new Av(o))}function tE(e,t){return e=gt(e),t=gt(t),(e instanceof X_||e instanceof $_)&&(t instanceof X_||t instanceof $_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function nE(e,t){return e=gt(e),t=gt(t),e instanceof J_&&t instanceof J_&&e.firestore===t.firestore&&dy(e._query,t._query)&&e.converter===t.converter}var rE=function(){function e(){var t=this;y(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Yx(this,"async_queue_retry"),this.Xc=function(){var e=Wx();e&&Zp("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=Wx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return g(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=Wx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new uv;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=l(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Wv(e.t0)){e.next=12;break}throw e.t0;case 12:Zp("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ev("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=qI.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&rv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=l(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=Ee(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ee(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function iE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ee(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var aE=function(){function e(){y(this,e),this._progressObserver={},this._taskCompletionResolver=new uv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return g(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),oE=function(e){Ce(n,e);var t=De(n);function n(e,r,i,a){var o;return y(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new rE,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||uE(this),this._firestoreClient.terminate()}}]),n}(Q_);function sE(e){return e._firestoreClient||uE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function uE(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new $m(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,j_(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new k_(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function cE(e,t,n){var r=new uv;return e.asyncQueue.enqueue(l(u().mark((function i(){var a;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,b_(e,n);case 3:return i.next=5,x_(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),S_(a=i.t0)){i.next=13;break}throw a;case 13:tv("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function lE(e){return function(e){return e.asyncQueue.enqueue(l(u().mark((function t(){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C_(e);case 2:return n=t.sent,t.next=5,P_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=av(e);return t.vu.delete(0),nI(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(sE(e=K_(e,oE)))}function fE(e){return function(e){return e.asyncQueue.enqueue(l(u().mark((function t(){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C_(e);case 2:return n=t.sent,t.next=5,P_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=av(t)).vu.add(0),e.next=4,iI(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(sE(e=K_(e,oE)))}function hE(e,t){var n=sE(e=K_(e,oE)),r=new aE;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new m_(e,t)}(function(e,t){if(e instanceof Uint8Array)return p_(e,t);if(e instanceof ArrayBuffer)return p_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?xk().encode(e):e),t)}(n,Qx(t));e.asyncQueue.enqueueAndForget(l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=c_,t.next=3,D_(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function dE(e,t){return function(e,t){return e.asyncQueue.enqueue(l(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=av(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,N_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(sE(e=K_(e,oE)),t).then((function(t){return t?new J_(e,null,t.query):null}))}function pE(e){if(e._initialized||e._terminated)throw new sv(ov.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var vE=function(){function e(t){y(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Hm.fromBase64String(t))}catch(t){throw new sv(ov.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Hm.fromUint8Array(t))}}]),e}(),mE=function(){function e(){y(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new sv(ov.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tv(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var gE=g((function e(t){y(this,e),this._methodName=t})),yE=function(){function e(t,n){if(y(this,e),!isFinite(t)||t<-90||t>90)throw new sv(ov.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new sv(ov.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return kv(this._lat,e._lat)||kv(this._long,e._long)}}]),e}(),kE=/^__.*__$/,bE=function(){function e(t,n,r){y(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new ok(e,this.data,this.fieldMask,t,this.fieldTransforms):new ak(e,this.data,t,this.fieldTransforms)}}]),e}(),wE=function(){function e(t,n,r){y(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return new ok(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function xE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rv()}}var IE=function(){function e(t,n,r,i,a,o){y(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return qE(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(xE(this.ca)&&kE.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),SE=function(){function e(t,n,r){y(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Qx(t)}return g(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new IE({ca:e,methodName:t,ga:n,path:Tv.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function _E(e){var t=e._freezeSettings(),n=Qx(e._databaseId);return new SE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function EE(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);BE("Data must be an object, but it was:",o,r);var s,u,c=FE(r,o);if(a.merge)s=new Vm(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Ee(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=UE(t,l.value,n);if(!o.contains(d))throw new sv(ov.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));HE(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new Vm(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new bE(new wg(c),s,u)}var TE=function(e){Ce(n,e);var t=De(n);function n(){return y(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gE);function AE(e,t,n){return new IE({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var CE=function(e){Ce(n,e);var t=De(n);function n(){return y(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){return new Yy(e.path,new zy)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gE),NE=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).pa=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=AE(this,e,!0),n=this.pa.map((function(e){return ME(e,t)})),r=new Vy(n);return new Yy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gE),PE=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).pa=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=AE(this,e,!0),n=this.pa.map((function(e){return ME(e,t)})),r=new Hy(n);return new Yy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gE),DE=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).Ia=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=new Gy(e.serializer,My(e.serializer,this.Ia));return new Yy(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gE);function RE(e,t,n,r){var i=e.ya(1,t,n);BE("Data must be an object, but it was:",i,r);var a=[],o=wg.empty();Om(r,(function(e,r){var s=VE(t,e,n);r=gt(r);var u=i.da(s);if(r instanceof TE)a.push(s);else{var c=ME(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Vm(a);return new wE(o,s,i.fieldTransforms)}function OE(e,t,n,r,i,a){var o=e.ya(1,t,n),s=[UE(t,r,n)],u=[i];if(a.length%2!=0)throw new sv(ov.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(UE(t,a[c])),u.push(a[c+1]);for(var l=[],f=wg.empty(),h=s.length-1;h>=0;--h)if(!HE(l,s[h])){var d=s[h],p=u[h];p=gt(p);var v=o.da(d);if(p instanceof TE)l.push(d);else{var m=ME(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Vm(l);return new wE(f,g,o.fieldTransforms)}function LE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ME(n,e.ya(r?4:3,t))}function ME(e,t){if(jE(e=gt(e)))return BE("Unsupported field value:",t,e),FE(e,t);if(e instanceof gE)return function(e,t){if(!xE(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ee(e);try{for(a.s();!(n=a.n()).done;){var o=ME(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=gt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return My(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=xv.fromDate(e);return{timestampValue:Vk(t.serializer,n)}}if(e instanceof xv){var r=new xv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Vk(t.serializer,r)}}if(e instanceof yE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vE)return{bytesValue:qk(t.serializer,e._byteString)};if(e instanceof X_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Gk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(H_(e)))}(e,t)}function FE(e,t){var n={};return Lm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Om(e,(function(e,r){var i=ME(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function jE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof xv||e instanceof yE||e instanceof vE||e instanceof X_||e instanceof gE)}function BE(e,t,n){if(!jE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=H_(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function UE(e,t,n){if((t=gt(t))instanceof mE)return t._internalPath;if("string"==typeof t)return VE(e,t);throw qE("Field path arguments must be of type string or ",e,!1,void 0,n)}var zE=new RegExp("[~\\*/\\[\\]]");function VE(e,t,n){if(t.search(zE)>=0)throw qE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Re(mE,kt(t.split(".")))._internalPath}catch(r){throw qE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function qE(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new sv(ov.INVALID_ARGUMENT,s+e+u)}function HE(e,t){return e.some((function(e){return e.isEqual(t)}))}var KE=function(){function e(t,n,r,i,a){y(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new X_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new GE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(WE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),GE=function(e){Ce(n,e);var t=De(n);function n(){return y(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return Jn(Ne(n.prototype),"data",this).call(this)}}]),n}(KE);function WE(e,t){return"string"==typeof t?VE(e,t):t instanceof mE?t._internalPath:t._delegate._internalPath}function QE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new sv(ov.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var YE=g((function e(){y(this,e)})),XE=function(e){Ce(n,e);var t=De(n);function n(){return y(this,n),t.apply(this,arguments)}return g(n)}(YE);function JE(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof YE&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof eT})).length,n=e.filter((function(e){return e instanceof $E})).length;if(t>1||t>0&&n>0)throw new sv(ov.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=Ee(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var $E=function(e){Ce(n,e);var t=De(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return g(n,[{key:"_apply",value:function(e){var t=this._parse(e);return pT(e._query,t),new J_(e.firestore,e.converter,fy(e._query,t))}},{key:"_parse",value:function(e){var t=_E(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new sv(ov.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){dT(o,a);var u,c=[],l=Ee(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(hT(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=hT(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||dT(o,a),s=LE(n,"where",o,"in"===a||"not-in"===a);return Ng.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(XE);function ZE(e,t,n){var r=t,i=WE("where",e);return $E._create(i,r,n)}var eT=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return g(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Pg.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Ee(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;pT(r,a),r=fy(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new J_(e.firestore,e.converter,fy(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(YE);function tT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((function(e){return mT("or",e)})),eT._create("or",t)}var nT=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return g(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new sv(ov.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new sv(ov.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Tg(t,n);return function(e,t){if(null===oy(e)){var n=sy(e);null!==n&&vT(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new J_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ny(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(XE);function rT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=WE("orderBy",e);return nT._create(n,t)}var iT=function(e){Ce(n,e);var t=De(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return g(n,[{key:"_apply",value:function(e){return new J_(e.firestore,e.converter,hy(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(XE);var aT=function(e){Ce(n,e);var t=De(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=fT(e,this.type,this._docOrFields,this._inclusive);return new J_(e.firestore,e.converter,function(e,t){return new ny(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(XE);function oT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aT._create("startAt",t,!0)}function sT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aT._create("startAfter",t,!1)}var uT=function(e){Ce(n,e);var t=De(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=fT(e,this.type,this._docOrFields,this._inclusive);return new J_(e.firestore,e.converter,function(e,t){return new ny(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(XE);function cT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uT._create("endBefore",t,!1)}function lT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uT._create("endAt",t,!0)}function fT(e,t,n,r){if(n[0]=gt(n[0]),n[0]instanceof KE)return function(e,t,n,r,i){if(!r)throw new sv(ov.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Ee(cy(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(cg(t,r.key));else{var c=r.data.field(u.field);if(Ym(c))throw new sv(ov.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new sv(ov.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Sg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=_E(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new sv(ov.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new sv(ov.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!uy(e)&&-1!==c.indexOf("/"))throw new sv(ov.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(_v.fromString(c));if(!Av.isDocumentKey(l))throw new sv(ov.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Av(l);s.push(cg(t,f))}else{var h=LE(n,r,c);s.push(h)}}return new Sg(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function hT(e,t,n){if("string"==typeof(n=gt(n))){if(""===n)throw new sv(ov.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uy(t)&&-1!==n.indexOf("/"))throw new sv(ov.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(_v.fromString(n));if(!Av.isDocumentKey(r))throw new sv(ov.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return cg(e,new Av(r))}if(n instanceof X_)return cg(e,n._key);throw new sv(ov.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(H_(n),"."))}function dT(e,t){if(!Array.isArray(e)||0===e.length)throw new sv(ov.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function pT(e,t){if(t.isInequality()){var n=sy(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new sv(ov.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=oy(e);null!==i&&vT(e,r,i)}var a=function(e,t){var n,r=Ee(e);try{for(r.s();!(n=r.n()).done;){var i,a=Ee(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new sv(ov.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new sv(ov.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function vT(e,t,n){if(!n.isEqual(t))throw new sv(ov.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}function mT(e,t){if(!(t instanceof $E||t instanceof eT))throw new sv(ov.INVALID_ARGUMENT,"Function ".concat(e,"() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'."))}var gT=function(){function e(){y(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ng(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rv()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Om(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new yE(Wm(e.latitude),Wm(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Xm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Jm(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Gm(e);return new xv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=_v.fromString(e);iv(mb(n));var r=new Zm(n.get(1),n.get(3)),i=new Av(n.popFirst(5));return r.isEqual(t)||ev("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function yT(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var kT=function(e){Ce(n,e);var t=De(n);function n(e){var r;return y(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new vE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new X_(this.firestore,null,t)}}]),n}(gT);var bT=function(){function e(t,n){y(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),wT=function(e){Ce(n,e);var t=De(n);function n(e,r,i,a,o,s){var u;return y(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return g(n,[{key:"exists",value:function(){return Jn(Ne(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new xT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(WE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(KE),xT=function(e){Ce(n,e);var t=De(n);function n(){return y(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Jn(Ne(n.prototype),"data",this).call(this,e)}}]),n}(wT),IT=function(){function e(t,n,r,i){y(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new bT(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new xT(n._firestore,n._userDataWriter,r.key,r,new bT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new sv(ov.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new xT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new xT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ST(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function ST(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rv()}}function _T(e,t){return e instanceof wT&&t instanceof wT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof IT&&t instanceof IT&&e._firestore===t._firestore&&nE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function ET(e){e=K_(e,X_);var t=K_(e.firestore,oE);return M_(sE(t),e._key).then((function(n){return MT(t,e,n)}))}var TT=function(e){Ce(n,e);var t=De(n);function n(e){var r;return y(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new vE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new X_(this.firestore,null,t)}}]),n}(gT);function AT(e){e=K_(e,X_);var t=K_(e.firestore,oE),n=sE(t),r=new TT(t);return function(e,t){var n=new uv;return e.asyncQueue.enqueueAndForget(l(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=l(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=av(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new sv(ov.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=HI(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,N_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new wT(t,r,e._key,n,new bT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function CT(e){e=K_(e,J_);var t=K_(e.firestore,oE),n=sE(t),r=new TT(t);return QE(e._query),F_(n,e._query).then((function(n){return new IT(t,r,e,n)}))}function NT(e){e=K_(e,J_);var t=K_(e.firestore,oE),n=sE(t),r=new TT(t);return function(e,t){var n=new uv;return e.asyncQueue.enqueueAndForget(l(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=l(u().mark((function e(t,n,r){var i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bx(t,n,!0);case 3:i=e.sent,a=new lS(n,i.ir),o=a.sc(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c=HI(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(c);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,N_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new IT(t,r,e,n)}))}function PT(e,t,n){e=K_(e,X_);var r=K_(e.firestore,oE),i=yT(e.converter,t,n);return LT(r,[EE(_E(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Jy.none())])}function DT(e,t,n){e=K_(e,X_);for(var r=K_(e.firestore,oE),i=_E(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return LT(r,[("string"==typeof(t=gt(t))||t instanceof mE?OE(i,"updateDoc",e._key,t,n,o):RE(i,"updateDoc",e._key,t)).toMutation(e._key,Jy.exists(!0))])}function RT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=gt(e);var s={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||iE(n[c])||(s=n[c],c++);var f,h,d,p={includeMetadataChanges:s.includeMetadataChanges};if(iE(n[c])){var v=n[c];n[c]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[c+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[c+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof X_)h=K_(e.firestore,oE),d=iy(e._key.path),f={next:function(t){n[c]&&n[c](MT(h,e,t))},error:n[c+1],complete:n[c+2]};else{var m=K_(e,J_);h=K_(m.firestore,oE),d=m._query;var g=new TT(h);f={next:function(e){n[c]&&n[c](new IT(h,g,m,e))},error:n[c+1],complete:n[c+2]},QE(e._query)}return function(e,t,n,r){var i=new v_(r),a=new rS(t,i,n);return e.asyncQueue.enqueueAndForget(l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=XI,t.next=3,O_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=$I,t.next=3,O_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sE(h),d,p,f)}function OT(e,t){return function(e,t){var n=new v_(t);return e.asyncQueue.enqueueAndForget(l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){av(e).ku.add(t),t.next()},t.next=3,O_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(l(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){av(e).ku.delete(t)},t.next=3,O_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sE(e=K_(e,oE)),iE(t)?t:{next:t})}function LT(e,t){return function(e,t){var n=new uv;return e.asyncQueue.enqueueAndForget(l(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=bS,r.next=3,D_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(sE(e),t)}function MT(e,t,n){var r=n.docs.get(t._key),i=new TT(e);return new wT(e,i,t._key,r,new bT(n.hasPendingWrites,n.fromCache),t.converter)}var FT={maxAttempts:5},jT=function(){function e(t,n){y(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_E(t)}return g(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=BT(e,this._firestore),i=yT(r.converter,t,n),a=EE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Jy.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=BT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=gt(t))||t instanceof mE?OE(this._dataReader,"WriteBatch.update",i._key,t,n,o):RE(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Jy.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=BT(e,this._firestore);return this._mutations=this._mutations.concat(new hk(t._key,Jy.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new sv(ov.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function BT(e,t){if((e=gt(e)).firestore!==t)throw new sv(ov.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var UT=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,r))._firestore=e,i}return g(n,[{key:"get",value:function(e){var t=this,r=BT(e,this._firestore),i=new TT(this._firestore);return Jn(Ne(n.prototype),"get",this).call(this,e).then((function(e){return new wT(t._firestore,i,r._key,e._document,new bT(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){y(this,e),this._firestore=t,this._transaction=n,this._dataReader=_E(t)}return g(e,[{key:"get",value:function(e){var t=this,n=BT(e,this._firestore),r=new kT(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return rv();var i=e[0];if(i.isFoundDocument())return new KE(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new KE(t._firestore,r,n._key,null,n.converter);throw rv()}))}},{key:"set",value:function(e,t,n){var r=BT(e,this._firestore),i=yT(r.converter,t,n),a=EE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=BT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=gt(t))||t instanceof mE?OE(this._dataReader,"Transaction.update",i._key,t,n,o):RE(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=BT(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function zT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new NE("arrayUnion",t)}function VT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new PE("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Xp=e}(yn),fn(new bt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new oE(new hv(e.getProvider("auth-internal")),new mv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sv(ov.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zm(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Sn(Qp,"3.12.2",e),Sn(Qp,"3.12.2","esm2017")}();function qT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new sv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function HT(){if("undefined"===typeof Uint8Array)throw new sv("unimplemented","Uint8Arrays are not available in this environment.")}function KT(){if("undefined"==typeof atob)throw new sv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var GT=function(){function e(t){y(this,e),this._delegate=t}return g(e,[{key:"toBase64",value:function(){return KT(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return HT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return KT(),new e(vE.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return HT(),new e(vE.fromUint8Array(t))}}]),e}();function WT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Ee(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var QT=function(){function e(){y(this,e)}return g(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){pE(e=K_(e,oE));var n=sE(e);if(n._uninitializedComponentsProvider)throw new sv(ov.FAILED_PRECONDITION,"SDK cache is already specified.");tv("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new d_;return cE(n,i,new f_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){pE(e=K_(e,oE));var t=sE(e);if(t._uninitializedComponentsProvider)throw new sv(ov.FAILED_PRECONDITION,"SDK cache is already specified.");tv("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new d_;return cE(t,r,new h_(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new sv(ov.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new uv;return e._queue.enqueueAndForgetEvenWhileRestricted(l(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hv.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Hv.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(ax(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),YT=function(){function e(t,n,r){var i=this;y(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Zm||(this._appCompat=t)}return g(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||tv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Y_(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return lE(this._delegate)}},{key:"disableNetwork",value:function(){return fE(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&z_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new uv;return e.asyncQueue.enqueueAndForget(l(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=PS,n.next=3,D_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(sE(K_(this._delegate,oE)))}},{key:"onSnapshotsInSync",value:function(e){return OT(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new sv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new cA(this,Z_(this._delegate,e))}catch(t){throw tA(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new eA(this,eE(this._delegate,e))}catch(t){throw tA(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new oA(this,function(e,t){if(e=K_(e,Q_),U_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new sv(ov.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new J_(e,null,function(e){return new ny(_v.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw tA(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=K_(e,oE);var r=Object.assign(Object.assign({},FT),n);return function(e){if(e.maxAttempts<1)throw new sv(ov.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new uv;return e.asyncQueue.enqueueAndForget(l(u().mark((function i(){var a;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,R_(e);case 2:a=i.sent,new y_(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(sE(e),(function(n){return t(new UT(e,n))}),r)}(this._delegate,(function(n){return e(new JT(t,n))}))}},{key:"batch",value:function(){var e=this;return sE(this._delegate),new $T(new jT(this._delegate,(function(t){return LT(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return hE(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return dE(this._delegate,e).then((function(e){return e?new oA(t,e):null}))}}]),e}(),XT=function(e){Ce(n,e);var t=De(n);function n(e){var r;return y(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new GT(new vE(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return eA.forKey(t,this.firestore,null)}}]),n}(gT);var JT=function(){function e(t,n){y(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new XT(t)}return g(e,[{key:"get",value:function(e){var t=this,n=lA(e);return this._delegate.get(n).then((function(e){return new iA(t._firestore,new wT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=lA(e);return n?(qT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=lA(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=lA(e);return this._delegate.delete(t),this}}]),e}(),$T=function(){function e(t){y(this,e),this._delegate=t}return g(e,[{key:"set",value:function(e,t,n){var r=lA(e);return n?(qT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=lA(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=lA(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),ZT=function(){function e(t,n,r){y(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return g(e,[{key:"fromFirestore",value:function(e,t){var n=new xT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new aA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new XT(t),n),i.set(n,a)),a}}]),e}();ZT.INSTANCES=new WeakMap;var eA=function(){function e(t,n){y(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new XT(t)}return g(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new cA(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new cA(this.firestore,Z_(this._delegate,e))}catch(t){throw tA(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=gt(e))instanceof X_&&tE(this._delegate,e)}},{key:"set",value:function(e,t){t=qT("DocumentReference.set",t);try{return t?PT(this._delegate,e,t):PT(this._delegate,e)}catch(n){throw tA(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?DT(this._delegate,e):DT.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw tA(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return LT(K_((e=this._delegate).firestore,oE),[new hk(e._key,Jy.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=nA(n),a=rA(n,(function(t){return new iA(e.firestore,new wT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return RT(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?AT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=K_(e,X_);var t=K_(e.firestore,oE);return M_(sE(t),e._key,{source:"server"}).then((function(n){return MT(t,e,n)}))}(this._delegate):ET(this._delegate)).then((function(e){return new iA(t.firestore,new wT(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(ZT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new sv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new X_(n._delegate,r,new Av(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new X_(n._delegate,r,t))}}]),e}();function tA(e,t,n){return e.message=e.message.replace(t,n),e}function nA(e){var t,n=Ee(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!WT(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function rA(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=WT(e[0])?e[0]:WT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var iA=function(){function e(t,n){y(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"ref",get:function(){return new eA(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return _T(this._delegate,e._delegate)}}]),e}(),aA=function(e){Ce(n,e);var t=De(n);function n(){return y(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||rv(),t}}]),n}(iA),oA=function(){function e(t,n){y(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new XT(t)}return g(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,JE(this._delegate,ZE(t,n,r)))}catch(i){throw tA(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,JE(this._delegate,rT(t,n)))}catch(r){throw tA(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,JE(this._delegate,(G_("limit",n=t),iT._create("limit",n,"F"))))}catch(r){throw tA(r,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,JE(this._delegate,(G_("limitToLast",n=t),iT._create("limitToLast",n,"L"))))}catch(r){throw tA(r,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,JE(this._delegate,oT.apply(void 0,arguments)))}catch(t){throw tA(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,JE(this._delegate,sT.apply(void 0,arguments)))}catch(t){throw tA(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,JE(this._delegate,cT.apply(void 0,arguments)))}catch(t){throw tA(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,JE(this._delegate,lT.apply(void 0,arguments)))}catch(t){throw tA(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return nE(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?NT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=K_(e,J_);var t=K_(e.firestore,oE),n=sE(t),r=new TT(t);return F_(n,e._query,{source:"server"}).then((function(n){return new IT(t,r,e,n)}))}(this._delegate):CT(this._delegate)).then((function(e){return new uA(t.firestore,new IT(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=nA(n),a=rA(n,(function(t){return new uA(e.firestore,new IT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return RT(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(ZT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),sA=function(){function e(t,n){y(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new aA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),uA=function(){function e(t,n){y(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"query",get:function(){return new oA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new aA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new sA(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new aA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return _T(this._delegate,e._delegate)}}]),e}(),cA=function(e){Ce(n,e);var t=De(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return g(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new eA(this.firestore,e):null}},{key:"doc",value:function(e){try{return new eA(this.firestore,void 0===e?eE(this._delegate):eE(this._delegate,e))}catch(t){throw tA(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=K_(e.firestore,oE),r=eE(e),i=yT(e.converter,t);return LT(n,[EE(_E(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Jy.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new eA(t.firestore,e)}))}},{key:"isEqual",value:function(e){return tE(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(ZT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(oA);function lA(e){return K_(e,X_)}var fA=function(){function e(){y(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Re(mE,n)}return g(e,[{key:"isEqual",value:function(e){return(e=gt(e))instanceof mE&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Tv.keyField().canonicalString())}}]),e}(),hA=function(){function e(t){y(this,e),this._delegate=t}return g(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new CE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new TE("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=zT.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=VT.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new DE("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),dA={Firestore:YT,GeoPoint:yE,Timestamp:xv,Blob:GT,Transaction:JT,WriteBatch:$T,DocumentReference:eA,DocumentSnapshot:iA,Query:oA,QueryDocumentSnapshot:aA,QuerySnapshot:uA,CollectionReference:cA,FieldPath:fA,FieldValue:hA,setLogLevel:function(e){var t;t=e,Jp.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new bt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},dA)))}(e,(function(e,t){return new YT(e,t,new QT)})),e.registerVersion("@firebase/firestore-compat","0.3.11")}(Xn);Sn("firebase","9.22.2","app");var pA,vA,mA=function(e,t){return t.some((function(t){return e instanceof t}))};var gA=new WeakMap,yA=new WeakMap,kA=new WeakMap,bA=new WeakMap,wA=new WeakMap;var xA={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return yA.get(e);if("objectStoreNames"===t)return e.objectStoreNames||kA.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _A(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function IA(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(vA||(vA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(EA(this),n),_A(gA.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _A(e.apply(EA(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[EA(this),t].concat(r));return kA.set(a,t.sort?t.sort():[t]),_A(a)}}function SA(e){return"function"===typeof e?IA(e):(e instanceof IDBTransaction&&function(e){if(!yA.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));yA.set(e,t)}}(e),mA(e,pA||(pA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,xA):e)}function _A(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(_A(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&gA.set(t,e)})).catch((function(){})),wA.set(t,e),t}(e);if(bA.has(e))return bA.get(e);var t=SA(e);return t!==e&&(bA.set(e,t),wA.set(t,e)),t}var EA=function(e){return wA.get(e)};var TA,AA=["get","getKey","getAll","getAllKeys","count"],CA=["put","add","delete","clear"],NA=new Map;function PA(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(NA.get(t))return NA.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=CA.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||AA.includes(n))){var a=function(){var e=l(u().mark((function e(t){var a,o,s,c,l,f,h=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return NA.set(t,a),a}}}!function(e){xA=e(xA)}((function(e){return Ot(Ot({},e),{},{get:function(t,n,r){return PA(t,n)||e.get(t,n,r)},has:function(t,n){return!!PA(t,n)||e.has(t,n)}})}));var DA="@firebase/installations",RA="0.6.4",OA=1e4,LA="w:".concat(RA),MA="FIS_v2",FA="https://firebaseinstallations.googleapis.com/v1",jA=36e5,BA=(s(TA={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),s(TA,"not-registered","Firebase Installation is not registered."),s(TA,"installation-not-found","Firebase Installation not found."),s(TA,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),s(TA,"app-offline","Could not process request. Application offline."),s(TA,"delete-pending-registration","Can't delete installation while there is a pending registration request."),TA),UA=new et("installations","Installations",BA);function zA(e){return e instanceof Ze&&e.code.includes("request-failed")}function VA(e){var t=e.projectId;return"".concat(FA,"/projects/").concat(t,"/installations")}function qA(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function HA(e,t){return KA.apply(this,arguments)}function KA(){return(KA=l(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",UA.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GA(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function WA(e,t){var n=t.refreshToken,r=GA(e);return r.append("Authorization",function(e){return"".concat(MA," ").concat(e)}(n)),r}function QA(e){return YA.apply(this,arguments)}function YA(){return YA=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),YA.apply(this,arguments)}function XA(e,t){return JA.apply(this,arguments)}function JA(){return(JA=l(u().mark((function e(t,n){var r,i,a,o,s,c,l,f,h,d,p,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=VA(r),s=GA(r),!(c=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,c.getHeartbeatsHeader();case 8:(l=e.sent)&&s.append("x-firebase-client",l);case 10:return f={fid:a,authVersion:MA,appId:r.appId,sdkVersion:LA},h={method:"POST",headers:s,body:JSON.stringify(f)},e.next=14,QA((function(){return fetch(o,h)}));case 14:if(!(d=e.sent).ok){e.next=23;break}return e.next=18,d.json();case 18:return p=e.sent,v={fid:p.fid||a,registrationStatus:2,refreshToken:p.refreshToken,authToken:qA(p.authToken)},e.abrupt("return",v);case 23:return e.next=25,HA("Create Installation",d);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $A(e){return new Promise((function(t){setTimeout(t,e)}))}var ZA=/^[cdef][\w-]{21}$/,eC="";function tC(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,kt(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return ZA.test(t)?t:eC}catch(t_){return eC}}function nC(e){return"".concat(e.appName,"!").concat(e.appId)}var rC=new Map;function iC(e,t){var n=nC(e);aC(n,t),function(e,t){var n=sC();n&&n.postMessage({key:e,fid:t});uC()}(n,t)}function aC(e,t){var n=rC.get(e);if(n){var r,i=Ee(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var oC=null;function sC(){return!oC&&"BroadcastChannel"in self&&((oC=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){aC(e.data.key,e.data.fid)}),oC}function uC(){0===rC.size&&oC&&(oC.close(),oC=null)}var cC="firebase-installations-database",lC=1,fC="firebase-installations-store",hC=null;function dC(){return hC||(hC=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=_A(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(_A(s.result),e.oldVersion,e.newVersion,_A(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(cC,lC,{upgrade:function(e,t){if(0===t)e.createObjectStore(fC)}})),hC}function pC(e,t){return vC.apply(this,arguments)}function vC(){return vC=l(u().mark((function e(t,n){var r,i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nC(t),e.next=3,dC();case 3:return i=e.sent,a=i.transaction(fC,"readwrite"),o=a.objectStore(fC),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||iC(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),vC.apply(this,arguments)}function mC(e){return gC.apply(this,arguments)}function gC(){return gC=l(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nC(t),e.next=3,dC();case 3:return r=e.sent,i=r.transaction(fC,"readwrite"),e.next=7,i.objectStore(fC).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),gC.apply(this,arguments)}function yC(e,t){return kC.apply(this,arguments)}function kC(){return kC=l(u().mark((function e(t,n){var r,i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nC(t),e.next=3,dC();case 3:return i=e.sent,a=i.transaction(fC,"readwrite"),o=a.objectStore(fC),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(c=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(c,r);case 17:return e.next=19,a.done;case 19:return!c||s&&s.fid===c.fid||iC(t,c.fid),e.abrupt("return",c);case 21:case"end":return e.stop()}}),e)}))),kC.apply(this,arguments)}function bC(e){return wC.apply(this,arguments)}function wC(){return(wC=l(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yC(t.appConfig,(function(e){var r=xC(e),i=IC(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if((r=e.sent).fid!==eC){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xC(e){return AC(e||{fid:tC(),registrationStatus:0})}function IC(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(UA.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return SC.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:_C(e)}:{installationEntry:t}}function SC(){return(SC=l(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,XA(t,n);case 3:return r=e.sent,e.abrupt("return",pC(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!zA(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,mC(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,pC(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function _C(e){return EC.apply(this,arguments)}function EC(){return(EC=l(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TC(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,$A(100);case 6:return e.next=8,TC(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,bC(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TC(e){return yC(e,(function(e){if(!e)throw UA.create("installation-not-found");return AC(e)}))}function AC(e){return 1===(t=e).registrationStatus&&t.registrationTime+OA<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function CC(e,t){return NC.apply(this,arguments)}function NC(){return(NC=l(u().mark((function e(t,n){var r,i,a,o,s,c,l,f,h,d,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=PC(r,n),o=WA(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(c=e.sent)&&o.append("x-firebase-client",c);case 9:return l={installation:{sdkVersion:LA,appId:r.appId}},f={method:"POST",headers:o,body:JSON.stringify(l)},e.next=13,QA((function(){return fetch(a,f)}));case 13:if(!(h=e.sent).ok){e.next=22;break}return e.next=17,h.json();case 17:return d=e.sent,p=qA(d),e.abrupt("return",p);case 22:return e.next=24,HA("Generate Auth Token",h);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PC(e,t){var n=t.fid;return"".concat(VA(e),"/").concat(n,"/authTokens:generate")}function DC(e){return RC.apply(this,arguments)}function RC(){return RC=l(u().mark((function e(t){var n,r,i,a,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,yC(t.appConfig,(function(e){if(!BC(e))throw UA.create("not-registered");var i=e.authToken;if(!n&&UC(i))return e;if(1===i.requestStatus)return r=OC(t,n),e;if(!navigator.onLine)throw UA.create("app-offline");var a=zC(e);return r=FC(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),RC.apply(this,arguments)}function OC(e,t){return LC.apply(this,arguments)}function LC(){return(LC=l(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MC(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,$A(100);case 6:return e.next=8,MC(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",DC(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MC(e){return yC(e,(function(e){if(!BC(e))throw UA.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+OA<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function FC(e,t){return jC.apply(this,arguments)}function jC(){return(jC=l(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,CC(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,pC(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!zA(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,mC(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,pC(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function BC(e){return void 0!==e&&2===e.registrationStatus}function UC(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+jA}(e)}function zC(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function VC(){return(VC=l(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,bC(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):DC(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qC(){return qC=l(u().mark((function e(t){var n,r,i,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,HC(r);case 4:return e.next=6,DC(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),qC.apply(this,arguments)}function HC(e){return KC.apply(this,arguments)}function KC(){return(KC=l(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bC(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GC(e){return UA.create("missing-app-config-values",{valueName:e})}var WC,QC="installations",YC=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw GC("App Configuration");if(!e.name)throw GC("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw GC(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:hn(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},XC=function(e){var t=hn(e.getProvider("app").getImmediate(),QC).getImmediate(),n={getId:function(){return function(e){return VC.apply(this,arguments)}(t)},getToken:function(e){return function(e){return qC.apply(this,arguments)}(t,e)}};return n};fn(new bt(QC,YC,"PUBLIC")),fn(new bt("installations-internal",XC,"PRIVATE")),Sn(DA,RA),Sn(DA,RA,"esm2017");var JC="analytics",$C="firebase_id",ZC="origin",eN=6e4,tN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nN="https://www.googletagmanager.com/gtag/js",rN=new Dt("@firebase/analytics"),iN=(s(WC={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),s(WC,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),s(WC,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),s(WC,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),s(WC,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),s(WC,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),s(WC,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),s(WC,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),s(WC,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),s(WC,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),s(WC,"no-client-id",'The "client_id" field is empty.'),s(WC,"invalid-gtag-resource","Trusted Types detected an invalid gtag resource: {$gtagURL}."),WC),aN=new et("analytics","Analytics",iN);function oN(e){if(!e.startsWith(nN)){var t=aN.create("invalid-gtag-resource",{gtagURL:e});return rN.warn(t.message),""}return e}function sN(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function uN(e,t){var n=function(e,t){var n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:oN}),r=document.createElement("script"),i="".concat(nN,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function cN(e,t,n,r,i,a){return lN.apply(this,arguments)}function lN(){return lN=l(u().mark((function e(t,n,r,i,a,o){var s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,sN(r);case 9:if(c=e.sent,!(l=c.find((function(e){return e.measurementId===a})))){e.next=14;break}return e.next=14,n[l.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),rN.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),lN.apply(this,arguments)}function fN(e,t,n,r,i){return hN.apply(this,arguments)}function hN(){return hN=l(u().mark((function e(t,n,r,i,a){var o,s,c,l,f,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=27;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,sN(r);case 7:c=e.sent,l=Ee(s),e.prev=9,h=u().mark((function e(){var t,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,r=c.find((function(e){return e.measurementId===t})),!(i=r&&n[r.appId])){e.next=7;break}o.push(i),e.next=9;break;case 7:return o=[],e.abrupt("return","break");case 9:case"end":return e.stop()}}),e)})),l.s();case 12:if((f=l.n()).done){e.next=19;break}return e.delegateYield(h(),"t0",14);case 14:if("break"!==e.t0){e.next=17;break}return e.abrupt("break",19);case 17:e.next=12;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(9),l.e(e.t1);case 24:return e.prev=24,l.f(),e.finish(24);case 27:return 0===o.length&&(o=Object.values(n)),e.next=30,Promise.all(o);case 30:t("event",i,a||{}),e.next=36;break;case 33:e.prev=33,e.t2=e.catch(0),rN.error(e.t2);case 36:case"end":return e.stop()}}),e,null,[[0,33],[9,21,24,27]])}))),hN.apply(this,arguments)}function dN(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return i=l(u().mark((function i(a){var o,s,c,l,f,h,d,p,v,m,g,y,k=arguments;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(i.prev=0,o=k.length,s=new Array(o>1?o-1:0),c=1;c<o;c++)s[c-1]=k[c];if("event"!==a){i.next=8;break}return l=s[0],f=s[1],i.next=6,fN(e,t,n,l,f);case 6:i.next=15;break;case 8:if("config"!==a){i.next=14;break}return h=s[0],d=s[1],i.next=12,cN(e,t,n,r,h,d);case 12:i.next=15;break;case 14:"consent"===a?(p=s[0],e("consent","update",p)):"get"===a?(v=s[0],m=s[1],g=s[2],e("get",v,m,g)):"set"===a?(y=s[0],e("set",y)):e.apply(void 0,[a].concat(s));case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(0),rN.error(i.t0);case 20:case"end":return i.stop()}}),i,null,[[0,17]])}))),i.apply(this,arguments)}return function(e){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function pN(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(nN)&&i.src.includes(e))return i}return null}var vN=30,mN=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;y(this,e),this.throttleMetadata=t,this.intervalMillis=n}return g(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),gN=new mN;function yN(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function kN(e){return bN.apply(this,arguments)}function bN(){return bN=l(u().mark((function e(t){var n,r,i,a,o,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:yN(i)},o=tN.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return c="",e.prev=8,e.next=11,s.json();case 11:l=e.sent,(null===(n=l.error)||void 0===n?void 0:n.message)&&(c=l.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw aN.create("config-fetch-failed",{httpStatus:s.status,responseMessage:c});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),bN.apply(this,arguments)}function wN(e){return xN.apply(this,arguments)}function xN(){return xN=l(u().mark((function e(t){var n,r,i,a,o,s,c,f,h=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:gN,r=h.length>2?h[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw aN.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw aN.create("no-api-key");case 9:return c=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new CN,setTimeout(l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:eN),e.abrupt("return",IN({appId:a,apiKey:o,measurementId:s},c,f,n));case 13:case"end":return e.stop()}}),e)}))),xN.apply(this,arguments)}function IN(e,t,n){return SN.apply(this,arguments)}function SN(){return SN=l(u().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p,v=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=v.length>3&&void 0!==v[3]?v[3]:gN,c=t.appId,l=t.measurementId,e.prev=3,e.next=6,_N(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!l){e.next=13;break}return rN.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,kN(t);case 17:return f=e.sent,o.deleteThrottleMetadata(c),e.abrupt("return",f);case 22:if(e.prev=22,e.t1=e.catch(14),EN(h=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(c),!l){e.next=32;break}return rN.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===h||void 0===h?void 0:h.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 32:throw e.t1;case 33:return d=503===Number(null===(s=null===h||void 0===h?void 0:h.customData)||void 0===s?void 0:s.httpStatus)?mt(a,o.intervalMillis,vN):mt(a,o.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:a+1},o.setThrottleMetadata(c,p),rN.debug("Calling attemptFetch again in ".concat(d," millis")),e.abrupt("return",IN(t,p,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),SN.apply(this,arguments)}function _N(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(aN.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function EN(e){if(!(e instanceof Ze)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var TN,AN,CN=function(){function e(){y(this,e),this.listeners=[]}return g(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function NN(){return(NN=l(u().mark((function e(t,n,r,i,a){var o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PN(e){AN=e}function DN(e){TN=e}function RN(){return ON.apply(this,arguments)}function ON(){return(ON=l(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Je()){e.next=5;break}return rN.warn(aN.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,$e();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),rN.warn(aN.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function LN(){return LN=l(u().mark((function e(t,n,r,i,a,o,s){var c,l,f,h,d,p,m,g;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=wN(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&rN.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return rN.error(e)})),n.push(l),f=RN().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([l,f]);case 6:return h=e.sent,d=v(h,2),p=d[0],m=d[1],pN(o)||uN(o,p.measurementId),AN&&(a("consent","default",AN),PN(void 0)),a("js",new Date),(g=null!==(c=null===s||void 0===s?void 0:s.config)&&void 0!==c?c:{})[ZC]="firebase",g.update=!0,null!=m&&(g[$C]=m),a("config",p.measurementId,g),TN&&(a("set",TN),DN(void 0)),e.abrupt("return",p.measurementId);case 20:case"end":return e.stop()}}),e)}))),LN.apply(this,arguments)}var MN,FN,jN=function(){function e(t){y(this,e),this.app=t}return g(e,[{key:"_delete",value:function(){return delete BN[this.app.options.appId],Promise.resolve()}}]),e}(),BN={},UN=[],zN={},VN="dataLayer",qN="gtag",HN=!1;function KN(){var e=[];if(Qe()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=aN.create("invalid-analytics-context",{errorInfo:t});rN.warn(n.message)}}function GN(e,t,n){KN();var r=e.options.appId;if(!r)throw aN.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw aN.create("no-api-key");rN.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=BN[r])throw aN.create("already-exists",{id:r});if(!HN){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(VN);var i=dN(BN,UN,zN,VN,qN),a=i.wrappedGtag,o=i.gtagCore;FN=a,MN=o,HN=!0}return BN[r]=function(e,t,n,r,i,a,o){return LN.apply(this,arguments)}(e,UN,zN,t,MN,VN,n),new jN(e)}function WN(e,t,n,r){e=gt(e),function(e,t,n,r,i){return NN.apply(this,arguments)}(FN,BN[e.app.options.appId],t,n,r).catch((function(e){return rN.error(e)}))}var QN="@firebase/analytics",YN="0.10.0";fn(new bt(JC,(function(e,t){var n=t.options;return GN(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),fn(new bt("analytics-internal",(function(e){try{var t=e.getProvider(JC).getImmediate();return{logEvent:function(e,n,r){return WN(t,e,n,r)}}}catch(n){throw aN.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),Sn(QN,YN),Sn(QN,YN,"esm2017");var XN=n(6713),JN=n.n(XN);function $N(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ZN(){return ZN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZN.apply(this,arguments)}function eP(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=eP(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var tP=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=eP(e))&&(r&&(r+=" "),r+=t);return r};function nP(e,t){var n=Ot({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=Ot(Ot({},e[r]),n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=Ot({},a),Object.keys(i).forEach((function(e){n[r][e]=nP(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function rP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}function iP(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function aP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function oP(e){if(e.type)return e;if("#"===e.charAt(0))return oP(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(iP(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(iP(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function sP(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function uP(e){var t="hsl"===(e=oP(e)).type||"hsla"===e.type?oP(function(e){var t=(e=oP(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),sP({type:s,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function cP(e,t){return e=oP(e),t=aP(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,sP(e)}function lP(e,t){if(e=oP(e),t=aP(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return sP(e)}function fP(e,t){if(e=oP(e),t=aP(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return sP(e)}function hP(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var dP=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,pP=hP((function(e){return dP.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var vP=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),mP=Math.abs,gP=String.fromCharCode,yP=Object.assign;function kP(e){return e.trim()}function bP(e,t,n){return e.replace(t,n)}function wP(e,t){return e.indexOf(t)}function xP(e,t){return 0|e.charCodeAt(t)}function IP(e,t,n){return e.slice(t,n)}function SP(e){return e.length}function _P(e){return e.length}function EP(e,t){return t.push(e),e}var TP=1,AP=1,CP=0,NP=0,PP=0,DP="";function RP(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:TP,column:AP,length:o,return:""}}function OP(e,t){return yP(RP("",null,null,"",null,null,0),e,{length:-e.length},t)}function LP(){return PP=NP>0?xP(DP,--NP):0,AP--,10===PP&&(AP=1,TP--),PP}function MP(){return PP=NP<CP?xP(DP,NP++):0,AP++,10===PP&&(AP=1,TP++),PP}function FP(){return xP(DP,NP)}function jP(){return NP}function BP(e,t){return IP(DP,e,t)}function UP(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zP(e){return TP=AP=1,CP=SP(DP=e),NP=0,[]}function VP(e){return DP="",e}function qP(e){return kP(BP(NP-1,GP(91===e?e+2:40===e?e+1:e)))}function HP(e){for(;(PP=FP())&&PP<33;)MP();return UP(e)>2||UP(PP)>3?"":" "}function KP(e,t){for(;--t&&MP()&&!(PP<48||PP>102||PP>57&&PP<65||PP>70&&PP<97););return BP(e,jP()+(t<6&&32==FP()&&32==MP()))}function GP(e){for(;MP();)switch(PP){case e:return NP;case 34:case 39:34!==e&&39!==e&&GP(PP);break;case 40:41===e&&GP(e);break;case 92:MP()}return NP}function WP(e,t){for(;MP()&&e+PP!==57&&(e+PP!==84||47!==FP()););return"/*"+BP(t,NP-1)+"*"+gP(47===e?e:MP())}function QP(e){for(;!UP(FP());)MP();return BP(e,NP)}var YP="-ms-",XP="-moz-",JP="-webkit-",$P="comm",ZP="rule",eD="decl",tD="@keyframes";function nD(e,t){for(var n="",r=_P(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function rD(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case eD:return e.return=e.return||e.value;case $P:return"";case tD:return e.return=e.value+"{"+nD(e.children,r)+"}";case ZP:e.value=e.props.join(",")}return SP(n=nD(e.children,r))?e.return=e.value+"{"+n+"}":""}function iD(e){return function(t){t.root||(t=t.return)&&e(t)}}function aD(e){return VP(oD("",null,null,null,[""],e=zP(e),0,[0],e))}function oD(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,g=1,y=0,k="",b=i,w=a,x=r,I=k;m;)switch(p=y,y=MP()){case 40:if(108!=p&&58==xP(I,f-1)){-1!=wP(I+=bP(qP(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:I+=qP(y);break;case 9:case 10:case 13:case 32:I+=HP(p);break;case 92:I+=KP(jP()-1,7);continue;case 47:switch(FP()){case 42:case 47:EP(uD(WP(MP(),jP()),t,n),u);break;default:I+="/"}break;case 123*v:s[c++]=SP(I)*g;case 125*v:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+l:-1==g&&(I=bP(I,/\f/g,"")),d>0&&SP(I)-f&&EP(d>32?cD(I+";",r,n,f-1):cD(bP(I," ","")+";",r,n,f-2),u);break;case 59:I+=";";default:if(EP(x=sD(I,t,n,c,l,i,s,k,b=[],w=[],f),a),123===y)if(0===l)oD(I,t,x,x,b,a,f,s,w);else switch(99===h&&110===xP(I,3)?100:h){case 100:case 108:case 109:case 115:oD(e,x,x,r&&EP(sD(e,x,x,0,0,i,s,k,i,b=[],f),w),i,w,f,s,r?b:w);break;default:oD(I,x,x,x,[""],w,0,s,w)}}c=l=d=0,v=g=1,k=I="",f=o;break;case 58:f=1+SP(I),d=p;default:if(v<1)if(123==y)--v;else if(125==y&&0==v++&&125==LP())continue;switch(I+=gP(y),y*v){case 38:g=l>0?1:(I+="\f",-1);break;case 44:s[c++]=(SP(I)-1)*g,g=1;break;case 64:45===FP()&&(I+=qP(MP())),h=FP(),l=f=SP(k=I+=QP(jP())),y++;break;case 45:45===p&&2==SP(I)&&(v=0)}}return a}function sD(e,t,n,r,i,a,o,s,u,c,l){for(var f=i-1,h=0===i?a:[""],d=_P(h),p=0,v=0,m=0;p<r;++p)for(var g=0,y=IP(e,f+1,f=mP(v=o[p])),k=e;g<d;++g)(k=kP(v>0?h[g]+" "+y:bP(y,/&\f/g,h[g])))&&(u[m++]=k);return RP(e,t,n,0===i?ZP:s,u,c,l)}function uD(e,t,n){return RP(e,t,n,$P,gP(PP),IP(e,2,-2),0)}function cD(e,t,n,r){return RP(e,t,n,eD,IP(e,0,r),IP(e,r+1,-1),r)}var lD=function(e,t,n){for(var r=0,i=0;r=i,i=FP(),38===r&&12===i&&(t[n]=1),!UP(i);)MP();return BP(e,NP)},fD=function(e,t){return VP(function(e,t){var n=-1,r=44;do{switch(UP(r)){case 0:38===r&&12===FP()&&(t[n]=1),e[n]+=lD(NP-1,t,n);break;case 2:e[n]+=qP(r);break;case 4:if(44===r){e[++n]=58===FP()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=gP(r)}}while(r=MP());return e}(zP(e),t))},hD=new WeakMap,dD=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||hD.get(n))&&!r){hD.set(e,!0);for(var i=[],a=fD(t,i),o=n.props,s=0,u=0;s<a.length;s++)for(var c=0;c<o.length;c++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},pD=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function vD(e,t){switch(function(e,t){return 45^xP(e,0)?(((t<<2^xP(e,0))<<2^xP(e,1))<<2^xP(e,2))<<2^xP(e,3):0}(e,t)){case 5103:return JP+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return JP+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return JP+e+XP+e+YP+e+e;case 6828:case 4268:return JP+e+YP+e+e;case 6165:return JP+e+YP+"flex-"+e+e;case 5187:return JP+e+bP(e,/(\w+).+(:[^]+)/,JP+"box-$1$2"+YP+"flex-$1$2")+e;case 5443:return JP+e+YP+"flex-item-"+bP(e,/flex-|-self/,"")+e;case 4675:return JP+e+YP+"flex-line-pack"+bP(e,/align-content|flex-|-self/,"")+e;case 5548:return JP+e+YP+bP(e,"shrink","negative")+e;case 5292:return JP+e+YP+bP(e,"basis","preferred-size")+e;case 6060:return JP+"box-"+bP(e,"-grow","")+JP+e+YP+bP(e,"grow","positive")+e;case 4554:return JP+bP(e,/([^-])(transform)/g,"$1"+JP+"$2")+e;case 6187:return bP(bP(bP(e,/(zoom-|grab)/,JP+"$1"),/(image-set)/,JP+"$1"),e,"")+e;case 5495:case 3959:return bP(e,/(image-set\([^]*)/,JP+"$1$`$1");case 4968:return bP(bP(e,/(.+:)(flex-)?(.*)/,JP+"box-pack:$3"+YP+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+JP+e+e;case 4095:case 3583:case 4068:case 2532:return bP(e,/(.+)-inline(.+)/,JP+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(SP(e)-1-t>6)switch(xP(e,t+1)){case 109:if(45!==xP(e,t+4))break;case 102:return bP(e,/(.+:)(.+)-([^]+)/,"$1"+JP+"$2-$3$1"+XP+(108==xP(e,t+3)?"$3":"$2-$3"))+e;case 115:return~wP(e,"stretch")?vD(bP(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==xP(e,t+1))break;case 6444:switch(xP(e,SP(e)-3-(~wP(e,"!important")&&10))){case 107:return bP(e,":",":"+JP)+e;case 101:return bP(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+JP+(45===xP(e,14)?"inline-":"")+"box$3$1"+JP+"$2$3$1"+YP+"$2box$3")+e}break;case 5936:switch(xP(e,t+11)){case 114:return JP+e+YP+bP(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return JP+e+YP+bP(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return JP+e+YP+bP(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return JP+e+YP+e+e}return e}var mD=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case eD:e.return=vD(e.value,e.length);break;case tD:return nD([OP(e,{value:bP(e.value,"@","@"+JP)})],r);case ZP:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return nD([OP(e,{props:[bP(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return nD([OP(e,{props:[bP(t,/:(plac\w+)/,":"+JP+"input-$1")]}),OP(e,{props:[bP(t,/:(plac\w+)/,":-moz-$1")]}),OP(e,{props:[bP(t,/:(plac\w+)/,YP+"input-$1")]})],r)}return""}))}}],gD=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||mD;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var u=[dD,pD];var c,l=[rD,iD((function(e){c.insert(e)}))],f=function(e){var t=_P(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}(u.concat(r,l));a=function(e,t,n,r){c=n,nD(aD(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new vP({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(s),h};var yD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kD=/[A-Z]|^ms/g,bD=/_EMO_([^_]+?)_([^]*?)_EMO_/g,wD=function(e){return 45===e.charCodeAt(1)},xD=function(e){return null!=e&&"boolean"!==typeof e},ID=hP((function(e){return wD(e)?e:e.replace(kD,"-$&").toLowerCase()})),SD=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(bD,(function(e,t,n){return ED={name:t,styles:n,next:ED},t}))}return 1===yD[e]||wD(e)||"number"!==typeof t||0===t?t:t+"px"};function _D(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ED={name:n.name,styles:n.styles,next:ED},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)ED={name:r.name,styles:r.styles,next:ED},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=_D(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":xD(o)&&(r+=ID(a)+":"+SD(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=_D(e,t,o);switch(a){case"animation":case"animationName":r+=ID(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)xD(o[u])&&(r+=ID(a)+":"+SD(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=ED,a=n(e);return ED=i,_D(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var ED,TD=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var AD=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";ED=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=_D(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=_D(n,t,e[o]),r&&(i+=a[o]);TD.lastIndex=0;for(var s,u="";null!==(s=TD.exec(i));)u+="-"+s[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+u;return{name:c,styles:i,next:ED}},CD=!!r.useInsertionEffect&&r.useInsertionEffect,ND=CD||function(e){return e()},PD=(CD||t.useLayoutEffect,t.createContext("undefined"!==typeof HTMLElement?gD({key:"css"}):null));PD.Provider;var DD=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(PD);return e(n,i,r)}))};var RD=t.createContext({});var OD=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},LD=pP,MD=function(e){return"theme"!==e},FD=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?LD:MD},jD=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},BD=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return OD(t,n,r),ND((function(){return function(e,t,n){OD(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},UD=function e(n,r){var i,a,o=n.__emotion_real===n,s=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var u=jD(n,r,o),c=u||FD(s),l=!c("as");return function(){var f=arguments,h=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var d=f.length,p=1;p<d;p++)h.push(f[p],f[0][p])}var v=DD((function(e,n,r){var i=l&&e.as||s,o="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=t.useContext(RD)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=AD(h.concat(f),n.registered,d);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===u?FD(i):c,g={};for(var y in e)l&&"as"===y||m(y)&&(g[y]=e[y]);return g.className=o,g.ref=r,t.createElement(t.Fragment,null,t.createElement(BD,{cache:n,serialized:v,isStringTag:"string"===typeof i}),t.createElement(i,g))}));return v.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",v.defaultProps=n.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=h,v.__emotion_forwardProp=u,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(t,n){return e(t,ZN({},r,n,{shouldForwardProp:jD(v,n,!0)})).apply(void 0,h)},v}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){UD[e]=UD(e)}));function zD(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function VD(e){if(!zD(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=VD(e[n])})),t}function qD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?Ot({},e):e;return zD(e)&&zD(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(zD(t[i])&&i in e&&zD(e[i])?r[i]=qD(e[i],t[i],n):n.clone?r[i]=zD(t[i])?VD(t[i]):t[i]:r[i]=t[i])})),r}var HD=["values","unit","step"],KD=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return ZN({},e,s({},t.key,t.val))}),{})};var GD={borderRadius:4},WD={xs:0,sm:600,md:900,lg:1200,xl:1536},QD={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(WD[e],"px)")}};function YD(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||QD;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||QD;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||WD).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function XD(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function JD(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function $D(e){if("string"!==typeof e)throw new Error(iP(7));return e.charAt(0).toUpperCase()+e.slice(1)}function ZD(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function eR(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:ZD(e,n)||i,t&&(r=t(r,i,e)),r}var tR=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=ZD(e.theme,i)||{};return YD(e,n,(function(e){var n=eR(o,a,e);return e===n&&"string"===typeof e&&(n=eR(o,a,"".concat(t).concat("default"===e?"":$D(e)),e)),!1===r?n:s({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var nR=function(e,t){return t?qD(e,t,{clone:!1}):e};var rR={m:"margin",p:"padding"},iR={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},oR=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!aR[e])return[e];e=aR[e]}var t=v(e.split(""),2),n=t[0],r=t[1],i=rR[n],a=iR[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),sR=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],uR=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],cR=[].concat(sR,uR);function lR(e,t,n,r){var i,a=null!=(i=ZD(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function fR(e){return lR(e,"spacing",8)}function hR(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function dR(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=hR(t,n),e}),{})}}(oR(n),r);return YD(e,e[n],i)}function pR(e,t){var n=fR(e.theme);return Object.keys(e).map((function(r){return dR(e,t,r,n)})).reduce(nR,{})}function vR(e){return pR(e,sR)}function mR(e){return pR(e,uR)}function gR(e){return pR(e,cR)}vR.propTypes={},vR.filterProps=sR,mR.propTypes={},mR.filterProps=uR,gR.propTypes={},gR.filterProps=cR;var yR=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?nR(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function kR(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var bR=tR({prop:"border",themeKey:"borders",transform:kR}),wR=tR({prop:"borderTop",themeKey:"borders",transform:kR}),xR=tR({prop:"borderRight",themeKey:"borders",transform:kR}),IR=tR({prop:"borderBottom",themeKey:"borders",transform:kR}),SR=tR({prop:"borderLeft",themeKey:"borders",transform:kR}),_R=tR({prop:"borderColor",themeKey:"palette"}),ER=tR({prop:"borderTopColor",themeKey:"palette"}),TR=tR({prop:"borderRightColor",themeKey:"palette"}),AR=tR({prop:"borderBottomColor",themeKey:"palette"}),CR=tR({prop:"borderLeftColor",themeKey:"palette"}),NR=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=lR(e.theme,"shape.borderRadius",4);return YD(e,e.borderRadius,(function(e){return{borderRadius:hR(t,e)}}))}return null};NR.propTypes={},NR.filterProps=["borderRadius"];yR(bR,wR,xR,IR,SR,_R,ER,TR,AR,CR,NR);var PR=function(e){if(void 0!==e.gap&&null!==e.gap){var t=lR(e.theme,"spacing",8);return YD(e,e.gap,(function(e){return{gap:hR(t,e)}}))}return null};PR.propTypes={},PR.filterProps=["gap"];var DR=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=lR(e.theme,"spacing",8);return YD(e,e.columnGap,(function(e){return{columnGap:hR(t,e)}}))}return null};DR.propTypes={},DR.filterProps=["columnGap"];var RR=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=lR(e.theme,"spacing",8);return YD(e,e.rowGap,(function(e){return{rowGap:hR(t,e)}}))}return null};RR.propTypes={},RR.filterProps=["rowGap"];yR(PR,DR,RR,tR({prop:"gridColumn"}),tR({prop:"gridRow"}),tR({prop:"gridAutoFlow"}),tR({prop:"gridAutoColumns"}),tR({prop:"gridAutoRows"}),tR({prop:"gridTemplateColumns"}),tR({prop:"gridTemplateRows"}),tR({prop:"gridTemplateAreas"}),tR({prop:"gridArea"}));function OR(e,t){return"grey"===t?t:e}yR(tR({prop:"color",themeKey:"palette",transform:OR}),tR({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:OR}),tR({prop:"backgroundColor",themeKey:"palette",transform:OR}));function LR(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var MR=tR({prop:"width",transform:LR}),FR=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return YD(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||WD[t]||LR(t)}}))}return null};FR.filterProps=["maxWidth"];var jR=tR({prop:"minWidth",transform:LR}),BR=tR({prop:"height",transform:LR}),UR=tR({prop:"maxHeight",transform:LR}),zR=tR({prop:"minHeight",transform:LR}),VR=(tR({prop:"size",cssProperty:"width",transform:LR}),tR({prop:"size",cssProperty:"height",transform:LR}),yR(MR,FR,jR,BR,UR,zR,tR({prop:"boxSizing"})),{border:{themeKey:"borders",transform:kR},borderTop:{themeKey:"borders",transform:kR},borderRight:{themeKey:"borders",transform:kR},borderBottom:{themeKey:"borders",transform:kR},borderLeft:{themeKey:"borders",transform:kR},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:NR},color:{themeKey:"palette",transform:OR},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:OR},backgroundColor:{themeKey:"palette",transform:OR},p:{style:mR},pt:{style:mR},pr:{style:mR},pb:{style:mR},pl:{style:mR},px:{style:mR},py:{style:mR},padding:{style:mR},paddingTop:{style:mR},paddingRight:{style:mR},paddingBottom:{style:mR},paddingLeft:{style:mR},paddingX:{style:mR},paddingY:{style:mR},paddingInline:{style:mR},paddingInlineStart:{style:mR},paddingInlineEnd:{style:mR},paddingBlock:{style:mR},paddingBlockStart:{style:mR},paddingBlockEnd:{style:mR},m:{style:vR},mt:{style:vR},mr:{style:vR},mb:{style:vR},ml:{style:vR},mx:{style:vR},my:{style:vR},margin:{style:vR},marginTop:{style:vR},marginRight:{style:vR},marginBottom:{style:vR},marginLeft:{style:vR},marginX:{style:vR},marginY:{style:vR},marginInline:{style:vR},marginInlineStart:{style:vR},marginInlineEnd:{style:vR},marginBlock:{style:vR},marginBlockStart:{style:vR},marginBlockEnd:{style:vR},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:PR},rowGap:{style:RR},columnGap:{style:DR},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:LR},maxWidth:{style:FR},minWidth:{transform:LR},height:{transform:LR},maxHeight:{transform:LR},minHeight:{transform:LR},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var qR=function(){function e(e,t,n,r){var i,a=(s(i={},e,t),s(i,"theme",n),i),o=r[e];if(!o)return s({},e,t);var u=o.cssProperty,c=void 0===u?e:u,l=o.themeKey,f=o.transform,h=o.style;if(null==t)return null;if("typography"===l&&"inherit"===t)return s({},e,t);var d=ZD(n,l)||{};if(h)return h(a);return YD(a,t,(function(t){var n=eR(d,f,t);return t===n&&"string"===typeof t&&(n=eR(d,f,"".concat(e).concat("default"===t?"":$D(t)),t)),!1===c?n:s({},c,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;var c=null!=(r=u.unstable_sxConfig)?r:VR;function l(n){var r=n;if("function"===typeof n)r=n(u);else if("object"!==typeof n)return n;if(!r)return null;var i=XD(u.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,l=(i=r[n],a=u,"function"===typeof i?i(a):i);if(null!==l&&void 0!==l)if("object"===typeof l)if(c[n])o=nR(o,e(n,l,u,c));else{var f=YD({theme:u},l,(function(e){return s({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(f,l)?o=nR(o,f):o[n]=t({sx:l,theme:u})}else o=nR(o,e(n,l,u,c))})),JD(a,o)}return Array.isArray(a)?a.map(l):l(a)}}();qR.filterProps=["sx"];var HR=qR,KR=["breakpoints","palette","spacing","shape"];var GR=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,s=void 0===o?{}:o,u=$N(e,KR),c=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,s=$N(e,HD),u=KD(n),c=Object.keys(u);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function h(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return ZN({keys:c,values:u,up:l,down:f,between:h,only:function(e){return c.indexOf(e)+1<c.length?h(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?f(c[t]):h(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}(n),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=fR({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(a),f=qD({breakpoints:c,direction:"ltr",components:{},palette:ZN({mode:"light"},i),spacing:l,shape:ZN({},GD,s)},u),h=arguments.length,d=new Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];return(f=d.reduce((function(e,t){return qD(e,t)}),f)).unstable_sxConfig=ZN({},VR,null==u?void 0:u.unstable_sxConfig),f.unstable_sx=function(e){return HR({sx:e,theme:this})},f},WR=["variant"];function QR(e){return 0===e.length}function YR(e){var t=e.variant,n=$N(e,WR),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?QR(r)?e[t]:$D(e[t]):"".concat(QR(r)?t:$D(t)).concat($D(e[t].toString()))})),r}var XR=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function JR(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var $R=GR();function ZR(e){var t,n=e.defaultTheme,r=e.theme,i=e.themeId;return t=r,0===Object.keys(t).length?n:r[i]||r}function eO(e,t){var n;return ZN({toolbar:(n={minHeight:56},s(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),s(n,e.up("sm"),{minHeight:64}),n)},t)}var tO={black:"#000",white:"#fff"},nO={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},rO={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},iO={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},aO={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},oO={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},sO={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},uO={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},cO=["mode","contrastThreshold","tonalOffset"],lO={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:tO.white,default:tO.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},fO={text:{primary:tO.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:tO.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function hO(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=fP(e.main,i):"dark"===t&&(e.dark=lP(e.main,a)))}function dO(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,s=$N(e,cO),u=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:oO[200],light:oO[50],dark:oO[400]}:{main:oO[700],light:oO[400],dark:oO[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:rO[200],light:rO[50],dark:rO[400]}:{main:rO[500],light:rO[300],dark:rO[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:iO[500],light:iO[300],dark:iO[700]}:{main:iO[700],light:iO[400],dark:iO[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:sO[400],light:sO[300],dark:sO[700]}:{main:sO[700],light:sO[500],dark:sO[900]}}(n),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:uO[400],light:uO[300],dark:uO[700]}:{main:uO[800],light:uO[500],dark:uO[900]}}(n),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:aO[400],light:aO[300],dark:aO[700]}:{main:"#ed6c02",light:aO[500],dark:aO[900]}}(n);function p(e){var t=function(e,t){var n=uP(e),r=uP(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,fO.text.primary)>=i?fO.text.primary:lO.text.primary;return t}var v=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,s=void 0===a?300:a,u=e.darkShade,c=void 0===u?700:u;if(!(t=ZN({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(iP(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(iP(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return hO(t,"light",s,o),hO(t,"dark",c,o),t.contrastText||(t.contrastText=p(t.main)),t},m={dark:fO,light:lO};return qD(ZN({common:ZN({},tO),mode:n,primary:v({color:u,name:"primary"}),secondary:v({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:d,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:h,name:"success"}),grey:nO,contrastThreshold:i,getContrastText:p,augmentColor:v,tonalOffset:o},m[n]),s)}var pO=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var vO={textTransform:"uppercase"},mO='"Roboto", "Helvetica", "Arial", sans-serif';function gO(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?mO:r,a=n.fontSize,o=void 0===a?14:a,s=n.fontWeightLight,u=void 0===s?300:s,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,h=void 0===f?500:f,d=n.fontWeightBold,p=void 0===d?700:d,v=n.htmlFontSize,m=void 0===v?16:v,g=n.allVariants,y=n.pxToRem,k=$N(n,pO);var b=o/14,w=y||function(e){return"".concat(e/m*b,"rem")},x=function(e,t,n,r,a){return ZN({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===mO?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,g);var o},I={h1:x(u,96,1.167,-1.5),h2:x(u,60,1.2,-.5),h3:x(l,48,1.167,0),h4:x(l,34,1.235,.25),h5:x(l,24,1.334,0),h6:x(h,20,1.6,.15),subtitle1:x(l,16,1.75,.15),subtitle2:x(h,14,1.57,.1),body1:x(l,16,1.5,.15),body2:x(l,14,1.43,.15),button:x(h,14,1.75,.4,vO),caption:x(l,12,1.66,.4),overline:x(l,12,2.66,1,vO),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return qD(ZN({htmlFontSize:m,pxToRem:w,fontFamily:i,fontSize:o,fontWeightLight:u,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:p},I),k,{clone:!1})}function yO(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var kO=["none",yO(0,2,1,-1,0,1,1,0,0,1,3,0),yO(0,3,1,-2,0,2,2,0,0,1,5,0),yO(0,3,3,-2,0,3,4,0,0,1,8,0),yO(0,2,4,-1,0,4,5,0,0,1,10,0),yO(0,3,5,-1,0,5,8,0,0,1,14,0),yO(0,3,5,-1,0,6,10,0,0,1,18,0),yO(0,4,5,-2,0,7,10,1,0,2,16,1),yO(0,5,5,-3,0,8,10,1,0,3,14,2),yO(0,5,6,-3,0,9,12,1,0,3,16,2),yO(0,6,6,-3,0,10,14,1,0,4,18,3),yO(0,6,7,-4,0,11,15,1,0,4,20,3),yO(0,7,8,-4,0,12,17,2,0,5,22,4),yO(0,7,8,-4,0,13,19,2,0,5,24,4),yO(0,7,9,-4,0,14,21,2,0,5,26,4),yO(0,8,9,-5,0,15,22,2,0,6,28,5),yO(0,8,10,-5,0,16,24,2,0,6,30,5),yO(0,8,11,-5,0,17,26,2,0,6,32,5),yO(0,9,11,-5,0,18,28,2,0,7,34,6),yO(0,9,12,-6,0,19,29,2,0,7,36,6),yO(0,10,13,-6,0,20,31,3,0,8,38,7),yO(0,10,13,-6,0,21,33,3,0,8,40,7),yO(0,10,14,-6,0,22,35,3,0,8,42,7),yO(0,11,14,-7,0,23,36,3,0,9,44,8),yO(0,11,15,-7,0,24,38,3,0,9,46,8)],bO=["duration","easing","delay"],wO={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},xO={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function IO(e){return"".concat(Math.round(e),"ms")}function SO(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function _O(e){var t=ZN({},wO,e.easing),n=ZN({},xO,e.duration);return ZN({getAutoHeightDuration:SO,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,s=void 0===o?t.easeInOut:o,u=r.delay,c=void 0===u?0:u;$N(r,bO);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:IO(a)," ").concat(s," ").concat("string"===typeof c?c:IO(c))})).join(",")}},e,{easing:t,duration:n})}var EO={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},TO=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function AO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,s=e.typography,u=void 0===s?{}:s,c=$N(e,TO);if(e.vars)throw new Error(iP(18));var l=dO(i),f=GR(e),h=qD(f,{mixins:eO(f.breakpoints,n),palette:l,shadows:kO.slice(),typography:gO(l,u),transitions:_O(o),zIndex:ZN({},EO)});h=qD(h,c);for(var d=arguments.length,p=new Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];return(h=p.reduce((function(e,t){return qD(e,t)}),h)).unstable_sxConfig=ZN({},VR,null==c?void 0:c.unstable_sxConfig),h.unstable_sx=function(e){return HR({sx:e,theme:this})},h}var CO=AO(),NO="$$material",PO=function(e){return JR(e)&&"classes"!==e},DO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=void 0===n?$R:n,i=e.rootShouldForwardProp,a=void 0===i?JR:i,o=e.slotShouldForwardProp,s=void 0===o?JR:o,u=function(e){return HR(ZN({},e,{theme:ZR(ZN({},e,{defaultTheme:r,themeId:t}))}))};return u.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var i=n.name,o=n.slot,c=n.skipVariantsResolver,l=n.skipSx,f=n.overridesResolver,h=$N(n,XR),d=void 0!==c?c:o&&"Root"!==o||!1,p=l||!1;var m=JR;"Root"===o?m=a:o?m=s:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);var g=function(e,t){return UD(e,t)}(e,ZN({shouldForwardProp:m,label:undefined},h)),y=function(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];var c=o?o.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(n){return e(ZN({},n,{theme:ZR(ZN({},n,{defaultTheme:r,themeId:t}))}))}:e})):[],l=n;i&&f&&c.push((function(e){var n=ZR(ZN({},e,{defaultTheme:r,themeId:t})),a=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(i,n);if(a){var o={};return Object.entries(a).forEach((function(t){var r=v(t,2),i=r[0],a=r[1];o[i]="function"===typeof a?a(ZN({},e,{theme:n})):a})),f(e,o)}return null})),i&&!d&&c.push((function(e){var n=ZR(ZN({},e,{defaultTheme:r,themeId:t}));return function(e,t,n,r){var i,a,o=e.ownerState,s=void 0===o?{}:o,u=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[YR(n.props)])})),u}(e,function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=YR(e.props);r[t]=e.style})),r}(i,n),n,i)})),p||c.push(u);var h=c.length-o.length;if(Array.isArray(n)&&h>0){var m=new Array(h).fill("");(l=[].concat(kt(n),kt(m))).raw=[].concat(kt(n.raw),kt(m))}else"function"===typeof n&&n.__emotion_real!==n&&(l=function(e){return n(ZN({},e,{theme:ZR(ZN({},e,{defaultTheme:r,themeId:t}))}))});var y=g.apply(void 0,[l].concat(kt(c)));return e.muiName&&(y.muiName=e.muiName),y};return g.withConfig&&(y.withConfig=g.withConfig),y}}({themeId:NO,defaultTheme:CO,rootShouldForwardProp:PO}),RO=DO;var OO=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=t.useContext(RD);return r&&(e=r,0!==Object.keys(e).length)?r:n},LO=GR();var MO=function(){return OO(arguments.length>0&&void 0!==arguments[0]?arguments[0]:LO)};function FO(e){var t=e.props,n=e.name,r=e.defaultTheme,i=e.themeId,a=MO(r);i&&(a=a[i]||a);var o=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?nP(t.components[n].defaultProps,r):r}({theme:a,name:n,props:t});return o}function jO(e){return FO({props:e.props,name:e.name,defaultTheme:CO,themeId:NO})}var BO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((function(){return n.every((function(e){return null==e}))?null:function(e){n.forEach((function(t){!function(e,t){"function"===typeof e?e(t):e&&(e.current=t)}(t,e)}))}}),n)},UO="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;var zO,VO=function(e){var n=t.useRef(e);return UO((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])},qO=!0,HO=!1,KO={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function GO(e){e.metaKey||e.altKey||e.ctrlKey||(qO=!0)}function WO(){qO=!1}function QO(){"hidden"===this.visibilityState&&HO&&(qO=!0)}function YO(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return qO||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!KO[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var XO=function(){var e=t.useCallback((function(e){null!=e&&function(e){e.addEventListener("keydown",GO,!0),e.addEventListener("mousedown",WO,!0),e.addEventListener("pointerdown",WO,!0),e.addEventListener("touchstart",WO,!0),e.addEventListener("visibilitychange",QO,!0)}(e.ownerDocument)}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!YO(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(HO=!0,window.clearTimeout(zO),zO=window.setTimeout((function(){HO=!1}),100),n.current=!1,!0)},ref:e}};function JO(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $O=t.createContext(null);function ZO(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function eL(e,t,n){return null!=n[t]?n[t]:e.props[t]}function tL(e,n,r){var i=ZO(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(n,i);return Object.keys(a).forEach((function(o){var s=a[o];if((0,t.isValidElement)(s)){var u=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:l.props.in,exit:eL(s,"exit",e),enter:eL(s,"enter",e)})):a[o]=(0,t.cloneElement)(s,{in:!1}):a[o]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:eL(s,"exit",e),enter:eL(s,"enter",e)})}})),a}var nL=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},rL=function(e){var n,r;function i(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Te(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,Ae(n,r);var a=i.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,ZO(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:eL(e,"appear",r),enter:eL(e,"enter",r),exit:eL(e,"exit",r)})}))):tL(e,a,o),firstRender:!1}},a.handleExited=function(e,t){var n=ZO(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=ZN({},t.children);return delete n[e.key],{children:n}})))},a.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=$N(e,["component","childFactory"]),a=this.state.contextValue,o=nL(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement($O.Provider,{value:a},o):t.createElement($O.Provider,{value:a},t.createElement(n,i,o))},i}(t.Component);rL.propTypes={},rL.defaultProps={component:"div",childFactory:function(e){return e}};var iL=rL;n(2110);function aL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return AD(t)}var oL=function(){var e=aL.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var sL=n(184);var uL=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,s=e.rippleY,u=e.rippleSize,c=e.in,l=e.onExited,f=e.timeout,h=v(t.useState(!1),2),d=h[0],p=h[1],m=tP(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),g={width:u,height:u,top:-u/2+s,left:-u/2+o},y=tP(r.child,d&&r.childLeaving,a&&r.childPulsate);return c||d||p(!0),t.useEffect((function(){if(!c&&null!=l){var e=setTimeout(l,f);return function(){clearTimeout(e)}}}),[l,c,f]),(0,sL.jsx)("span",{className:m,style:g,children:(0,sL.jsx)("span",{className:y})})},cL=function(e){return e},lL=function(){var e=cL;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=cL}}}(),fL={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function hL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=fL[t];return r?"".concat(n,"-").concat(r):"".concat(lL.generate(e),"-").concat(t)}function dL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=hL(e,t,n)})),r}var pL,vL,mL,gL,yL,kL,bL,wL,xL=dL("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),IL=["center","classes","className"],SL=oL(yL||(yL=pL||(pL=JO(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),_L=oL(kL||(kL=vL||(vL=JO(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),EL=oL(bL||(bL=mL||(mL=JO(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),TL=RO("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),AL=RO(uL,{name:"MuiTouchRipple",slot:"Ripple"})(wL||(wL=gL||(gL=JO(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),xL.rippleVisible,SL,550,(function(e){return e.theme.transitions.easing.easeInOut}),xL.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),xL.child,xL.childLeaving,_L,550,(function(e){return e.theme.transitions.easing.easeInOut}),xL.childPulsate,EL,(function(e){return e.theme.transitions.easing.easeInOut})),CL=t.forwardRef((function(e,n){var r=jO({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,s=void 0===o?{}:o,u=r.className,c=$N(r,IL),l=v(t.useState([]),2),f=l[0],h=l[1],d=t.useRef(0),p=t.useRef(null);t.useEffect((function(){p.current&&(p.current(),p.current=null)}),[f]);var m=t.useRef(!1),g=t.useRef(null),y=t.useRef(null),k=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(g.current)}}),[]);var b=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;h((function(e){return[].concat(kt(e),[(0,sL.jsx)(AL,{classes:{ripple:tP(s.ripple,xL.ripple),rippleVisible:tP(s.rippleVisible,xL.rippleVisible),ripplePulsate:tP(s.ripplePulsate,xL.ripplePulsate),child:tP(s.child,xL.child),childLeaving:tP(s.childLeaving,xL.childLeaving),childPulsate:tP(s.childPulsate,xL.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},d.current)])})),d.current+=1,p.current=a}),[s]),w=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===(null==e?void 0:e.type)&&m.current)m.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(m.current=!0);var l,f,h,d=c?null:k.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,w=v.clientX,x=v.clientY;l=Math.round(w-p.left),f=Math.round(x-p.top)}if(s)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var I=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(I,2)+Math.pow(S,2))}null!=e&&e.touches?null===y.current&&(y.current=function(){b({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},g.current=setTimeout((function(){y.current&&(y.current(),y.current=null)}),80)):b({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,b]),x=t.useCallback((function(){w({},{pulsate:!0})}),[w]),I=t.useCallback((function(e,t){if(clearTimeout(g.current),"touchend"===(null==e?void 0:e.type)&&y.current)return y.current(),y.current=null,void(g.current=setTimeout((function(){I(e,t)})));y.current=null,h((function(e){return e.length>0?e.slice(1):e})),p.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:x,start:w,stop:I}}),[x,w,I]),(0,sL.jsx)(TL,ZN({className:tP(xL.root,s.root,u),ref:k},c,{children:(0,sL.jsx)(iL,{component:null,exit:!0,children:f})}))})),NL=CL;function PL(e){return hL("MuiButtonBase",e)}var DL,RL=dL("MuiButtonBase",["root","disabled","focusVisible"]),OL=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],LL=RO("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((s(DL={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(RL.disabled),{pointerEvents:"none",cursor:"default"}),s(DL,"@media print",{colorAdjust:"exact"}),DL)),ML=t.forwardRef((function(e,n){var r=jO({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,s=r.children,u=r.className,c=r.component,l=void 0===c?"button":c,f=r.disabled,h=void 0!==f&&f,d=r.disableRipple,p=void 0!==d&&d,m=r.disableTouchRipple,g=void 0!==m&&m,y=r.focusRipple,k=void 0!==y&&y,b=r.LinkComponent,w=void 0===b?"a":b,x=r.onBlur,I=r.onClick,S=r.onContextMenu,_=r.onDragLeave,E=r.onFocus,T=r.onFocusVisible,A=r.onKeyDown,C=r.onKeyUp,N=r.onMouseDown,P=r.onMouseLeave,D=r.onMouseUp,R=r.onTouchEnd,O=r.onTouchMove,L=r.onTouchStart,M=r.tabIndex,F=void 0===M?0:M,j=r.TouchRippleProps,B=r.touchRippleRef,U=r.type,z=$N(r,OL),V=t.useRef(null),q=t.useRef(null),H=BO(q,B),K=XO(),G=K.isFocusVisibleRef,W=K.onFocus,Q=K.onBlur,Y=K.ref,X=v(t.useState(!1),2),J=X[0],$=X[1];h&&J&&$(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){$(!0),V.current.focus()}}}),[]);var Z=v(t.useState(!1),2),ee=Z[0],te=Z[1];t.useEffect((function(){te(!0)}),[]);var ne=ee&&!p&&!h;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return VO((function(r){return t&&t(r),!n&&q.current&&q.current[e](r),!0}))}t.useEffect((function(){J&&k&&!p&&ee&&q.current.pulsate()}),[p,k,J,ee]);var ie=re("start",N),ae=re("stop",S),oe=re("stop",_),se=re("stop",D),ue=re("stop",(function(e){J&&e.preventDefault(),P&&P(e)})),ce=re("start",L),le=re("stop",R),fe=re("stop",O),he=re("stop",(function(e){Q(e),!1===G.current&&$(!1),x&&x(e)}),!1),de=VO((function(e){V.current||(V.current=e.currentTarget),W(e),!0===G.current&&($(!0),T&&T(e)),E&&E(e)})),pe=function(){var e=V.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},ve=t.useRef(!1),me=VO((function(e){k&&!ve.current&&J&&q.current&&" "===e.key&&(ve.current=!0,q.current.stop(e,(function(){q.current.start(e)}))),e.target===e.currentTarget&&pe()&&" "===e.key&&e.preventDefault(),A&&A(e),e.target===e.currentTarget&&pe()&&"Enter"===e.key&&!h&&(e.preventDefault(),I&&I(e))})),ge=VO((function(e){k&&" "===e.key&&q.current&&J&&!e.defaultPrevented&&(ve.current=!1,q.current.stop(e,(function(){q.current.pulsate(e)}))),C&&C(e),I&&e.target===e.currentTarget&&pe()&&" "===e.key&&!e.defaultPrevented&&I(e)})),ye=l;"button"===ye&&(z.href||z.to)&&(ye=w);var ke={};"button"===ye?(ke.type=void 0===U?"button":U,ke.disabled=h):(z.href||z.to||(ke.role="button"),h&&(ke["aria-disabled"]=h));var be=BO(n,Y,V);var we=ZN({},r,{centerRipple:o,component:l,disabled:h,disableRipple:p,disableTouchRipple:g,focusRipple:k,tabIndex:F,focusVisible:J}),xe=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=rP({root:["root",t&&"disabled",n&&"focusVisible"]},PL,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(we);return(0,sL.jsxs)(LL,ZN({as:ye,className:tP(xe.root,u),ownerState:we,onBlur:he,onClick:I,onContextMenu:ae,onFocus:de,onKeyDown:me,onKeyUp:ge,onMouseDown:ie,onMouseLeave:ue,onMouseUp:se,onDragLeave:oe,onTouchEnd:le,onTouchMove:fe,onTouchStart:ce,ref:be,tabIndex:h?-1:F,type:U},ke,z,{children:[s,ne?(0,sL.jsx)(NL,ZN({ref:H,center:o},j)):null]}))})),FL=ML,jL=$D;function BL(e){return hL("MuiButton",e)}var UL=dL("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var zL=t.createContext({}),VL=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],qL=function(e){return ZN({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},HL=RO(FL,{shouldForwardProp:function(e){return PO(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(jL(n.color))],t["size".concat(jL(n.size))],t["".concat(n.variant,"Size").concat(jL(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState,o="light"===i.palette.mode?i.palette.grey[300]:i.palette.grey[800],u="light"===i.palette.mode?i.palette.grey.A100:i.palette.grey[700];return ZN({},i.typography.button,(s(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":ZN({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):cP(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):cP(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):cP(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:i.vars?i.vars.palette.Button.inheritContainedHoverBg:u,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":ZN({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(UL.focusVisible),ZN({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),s(t,"&.".concat(UL.disabled),ZN({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(cP(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:i.vars?i.vars.palette.Button.inheritContainedBg:o,boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(s(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(UL.focusVisible),{boxShadow:"none"}),s(t,"&:active",{boxShadow:"none"}),s(t,"&.".concat(UL.disabled),{boxShadow:"none"}),t)})),KL=RO("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(jL(n.size))]]}})((function(e){var t=e.ownerState;return ZN({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},qL(t))})),GL=RO("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(jL(n.size))]]}})((function(e){var t=e.ownerState;return ZN({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},qL(t))})),WL=t.forwardRef((function(e,n){var r=t.useContext(zL),i=jO({props:nP(r,e),name:"MuiButton"}),a=i.children,o=i.color,s=void 0===o?"primary":o,u=i.component,c=void 0===u?"button":u,l=i.className,f=i.disabled,h=void 0!==f&&f,d=i.disableElevation,p=void 0!==d&&d,v=i.disableFocusRipple,m=void 0!==v&&v,g=i.endIcon,y=i.focusVisibleClassName,k=i.fullWidth,b=void 0!==k&&k,w=i.size,x=void 0===w?"medium":w,I=i.startIcon,S=i.type,_=i.variant,E=void 0===_?"text":_,T=$N(i,VL),A=ZN({},i,{color:s,component:c,disabled:h,disableElevation:p,disableFocusRipple:m,fullWidth:b,size:x,type:S,variant:E}),C=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return ZN({},o,rP({root:["root",a,"".concat(a).concat(jL(t)),"size".concat(jL(i)),"".concat(a,"Size").concat(jL(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(jL(i))],endIcon:["endIcon","iconSize".concat(jL(i))]},BL,o))}(A),N=I&&(0,sL.jsx)(KL,{className:C.startIcon,ownerState:A,children:I}),P=g&&(0,sL.jsx)(GL,{className:C.endIcon,ownerState:A,children:g});return(0,sL.jsxs)(HL,ZN({ownerState:A,className:tP(r.className,C.root,l),component:c,disabled:h,focusRipple:!m,focusVisibleClassName:tP(C.focusVisible,y),ref:n,type:S},T,{classes:C,children:[N,a,P]}))})),QL=WL;var YL=t.createContext(void 0);function XL(){return t.useContext(YL)}var JL=["sx"];function $L(e){var t,n=e.sx,r=function(e){var t,n,r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:VR;return Object.keys(e).forEach((function(t){i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r}($N(e,JL)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat(kt(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return zD(e)?ZN({},i,e):i}:ZN({},i,n),ZN({},a,{sx:t})}function ZL(e){return hL("MuiTypography",e)}dL("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var eM=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],tM=RO("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(jL(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return ZN({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),nM={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},rM={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},iM=t.forwardRef((function(e,t){var n=jO({props:e,name:"MuiTypography"}),r=function(e){return rM[e]||e}(n.color),i=$L(ZN({},n,{color:r})),a=i.align,o=void 0===a?"inherit":a,s=i.className,u=i.component,c=i.gutterBottom,l=void 0!==c&&c,f=i.noWrap,h=void 0!==f&&f,d=i.paragraph,p=void 0!==d&&d,v=i.variant,m=void 0===v?"body1":v,g=i.variantMapping,y=void 0===g?nM:g,k=$N(i,eM),b=ZN({},i,{align:o,color:r,className:s,component:u,gutterBottom:l,noWrap:h,paragraph:p,variant:m,variantMapping:y}),w=u||(p?"p":y[m]||nM[m])||"span",x=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes;return rP({root:["root",a,"inherit"!==e.align&&"align".concat(jL(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},ZL,o)}(b);return(0,sL.jsx)(tM,ZN({as:w,ref:t,ownerState:b,className:tP(x.root,s)},k))})),aM=iM;function oM(e){return hL("MuiFormControlLabel",e)}var sM=dL("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);var uM=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],cM=RO("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[s({},"& .".concat(sM.label),t.label),t.root,t["labelPlacement".concat(jL(n.labelPlacement))]]}})((function(e){var t=e.theme,n=e.ownerState;return ZN(s({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16},"&.".concat(sM.disabled),{cursor:"default"}),"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},s({},"& .".concat(sM.label),s({},"&.".concat(sM.disabled),{color:(t.vars||t).palette.text.disabled})))})),lM=RO("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return s({},"&.".concat(sM.error),{color:(t.vars||t).palette.error.main})})),fM=t.forwardRef((function(e,n){var r,i,a=jO({props:e,name:"MuiFormControlLabel"}),o=a.className,s=a.componentsProps,u=void 0===s?{}:s,c=a.control,l=a.disabled,f=a.disableTypography,h=a.label,d=a.labelPlacement,p=void 0===d?"end":d,v=a.required,m=a.slotProps,g=void 0===m?{}:m,y=$N(a,uM),k=XL(),b=null!=(r=null!=l?l:c.props.disabled)?r:null==k?void 0:k.disabled,w=null!=v?v:c.props.required,x={disabled:b,required:w};["checked","name","onChange","value","inputRef"].forEach((function(e){"undefined"===typeof c.props[e]&&"undefined"!==typeof a[e]&&(x[e]=a[e])}));var I=function(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}({props:a,muiFormControl:k,states:["error"]}),S=ZN({},a,{disabled:b,labelPlacement:p,required:w,error:I.error}),_=function(e){var t=e.classes,n=e.disabled,r=e.labelPlacement,i=e.error,a=e.required;return rP({root:["root",n&&"disabled","labelPlacement".concat(jL(r)),i&&"error",a&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]},oM,t)}(S),E=null!=(i=g.typography)?i:u.typography,T=h;return null==T||T.type===aM||f||(T=(0,sL.jsx)(aM,ZN({component:"span"},E,{className:tP(_.label,null==E?void 0:E.className),children:T}))),(0,sL.jsxs)(cM,ZN({className:tP(_.root,o),ownerState:S,ref:n},y,{children:[t.cloneElement(c,x),T,w&&(0,sL.jsxs)(lM,{ownerState:S,"aria-hidden":!0,className:_.asterisk,children:["\u2009","*"]})]}))}));var hM=function(e){var n=e.controlled,r=e.default,i=(e.name,e.state,t.useRef(void 0!==n).current),a=v(t.useState(r),2),o=a[0],s=a[1];return[i?n:o,t.useCallback((function(e){i||s(e)}),[])]};function dM(e){return hL("PrivateSwitchBase",e)}dL("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var pM=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],vM=RO(FL)((function(e){var t=e.ownerState;return ZN({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),mM=RO("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),gM=t.forwardRef((function(e,t){var n=e.autoFocus,r=e.checked,i=e.checkedIcon,a=e.className,o=e.defaultChecked,s=e.disabled,u=e.disableFocusRipple,c=void 0!==u&&u,l=e.edge,f=void 0!==l&&l,h=e.icon,d=e.id,p=e.inputProps,m=e.inputRef,g=e.name,y=e.onBlur,k=e.onChange,b=e.onFocus,w=e.readOnly,x=e.required,I=void 0!==x&&x,S=e.tabIndex,_=e.type,E=e.value,T=$N(e,pM),A=v(hM({controlled:r,default:Boolean(o),name:"SwitchBase",state:"checked"}),2),C=A[0],N=A[1],P=XL(),D=s;P&&"undefined"===typeof D&&(D=P.disabled);var R="checkbox"===_||"radio"===_,O=ZN({},e,{checked:C,disabled:D,disableFocusRipple:c,edge:f}),L=function(e){var t=e.classes,n=e.checked,r=e.disabled,i=e.edge;return rP({root:["root",n&&"checked",r&&"disabled",i&&"edge".concat(jL(i))],input:["input"]},dM,t)}(O);return(0,sL.jsxs)(vM,ZN({component:"span",className:tP(L.root,a),centerRipple:!0,focusRipple:!c,disabled:D,tabIndex:null,role:void 0,onFocus:function(e){b&&b(e),P&&P.onFocus&&P.onFocus(e)},onBlur:function(e){y&&y(e),P&&P.onBlur&&P.onBlur(e)},ownerState:O,ref:t},T,{children:[(0,sL.jsx)(mM,ZN({autoFocus:n,checked:r,defaultChecked:o,className:L.input,disabled:D,id:R?d:void 0,name:g,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var t=e.target.checked;N(t),k&&k(e,t)}},readOnly:w,ref:m,required:I,ownerState:O,tabIndex:S,type:_},"checkbox"===_&&void 0===E?{}:{value:E},p)),C?i:h]}))})),yM=gM;function kM(e){return hL("MuiSwitch",e)}var bM=dL("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),wM=["className","color","edge","size","sx"],xM=RO("span",{name:"MuiSwitch",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.edge&&t["edge".concat(jL(n.edge))],t["size".concat(jL(n.size))]]}})((function(e){var t,n=e.ownerState;return ZN({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===n.edge&&{marginLeft:-8},"end"===n.edge&&{marginRight:-8},"small"===n.size&&(s(t={width:40,height:24,padding:7},"& .".concat(bM.thumb),{width:16,height:16}),s(t,"& .".concat(bM.switchBase),s({padding:4},"&.".concat(bM.checked),{transform:"translateX(16px)"})),t))})),IM=RO(yM,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:function(e,t){var n=e.ownerState;return[t.switchBase,s({},"& .".concat(bM.input),t.input),"default"!==n.color&&t["color".concat(jL(n.color))]]}})((function(e){var t,n=e.theme;return s(t={position:"absolute",top:0,left:0,zIndex:1,color:n.vars?n.vars.palette.Switch.defaultColor:"".concat("light"===n.palette.mode?n.palette.common.white:n.palette.grey[300]),transition:n.transitions.create(["left","transform"],{duration:n.transitions.duration.shortest})},"&.".concat(bM.checked),{transform:"translateX(20px)"}),s(t,"&.".concat(bM.disabled),{color:n.vars?n.vars.palette.Switch.defaultDisabledColor:"".concat("light"===n.palette.mode?n.palette.grey[100]:n.palette.grey[600])}),s(t,"&.".concat(bM.checked," + .").concat(bM.track),{opacity:.5}),s(t,"&.".concat(bM.disabled," + .").concat(bM.track),{opacity:n.vars?n.vars.opacity.switchTrackDisabled:"".concat("light"===n.palette.mode?.12:.2)}),s(t,"& .".concat(bM.input),{left:"-100%",width:"300%"}),t}),(function(e){var t,n=e.theme,r=e.ownerState;return ZN({"&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.action.activeChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):cP(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(s(t={},"&.".concat(bM.checked),s({color:(n.vars||n).palette[r.color].main,"&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette[r.color].mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):cP(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(bM.disabled),{color:n.vars?n.vars.palette.Switch["".concat(r.color,"DisabledColor")]:"".concat("light"===n.palette.mode?fP(n.palette[r.color].main,.62):lP(n.palette[r.color].main,.55))})),s(t,"&.".concat(bM.checked," + .").concat(bM.track),{backgroundColor:(n.vars||n).palette[r.color].main}),t))})),SM=RO("span",{name:"MuiSwitch",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t=e.theme;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),_M=RO("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:function(e,t){return t.thumb}})((function(e){var t=e.theme;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),EM=t.forwardRef((function(e,t){var n=jO({props:e,name:"MuiSwitch"}),r=n.className,i=n.color,a=void 0===i?"primary":i,o=n.edge,s=void 0!==o&&o,u=n.size,c=void 0===u?"medium":u,l=n.sx,f=$N(n,wM),h=ZN({},n,{color:a,edge:s,size:c}),d=function(e){var t=e.classes,n=e.edge,r=e.size,i=e.color,a=e.checked,o=e.disabled;return ZN({},t,rP({root:["root",n&&"edge".concat(jL(n)),"size".concat(jL(r))],switchBase:["switchBase","color".concat(jL(i)),a&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},kM,t))}(h),p=(0,sL.jsx)(_M,{className:d.thumb,ownerState:h});return(0,sL.jsxs)(xM,{className:tP(d.root,r),sx:l,ownerState:h,children:[(0,sL.jsx)(IM,ZN({type:"checkbox",icon:p,checkedIcon:p,ref:t,ownerState:h},f,{classes:ZN({},d,{root:d.switchBase})})),(0,sL.jsx)(SM,{className:d.track,ownerState:h})]})})),TM=EM,AM=new(JN()),CM={apiKey:"AIzaSyBC3mGvVt65neIWOQT2seJ8SdgeJMi3sJU",authDomain:"underpeel.firebaseapp.com",projectId:"underpeel",storageBucket:"underpeel.appspot.com",messagingSenderId:"678606517432",appId:"1:678606517432:web:23c2fa7cbe4ea8e15d704d",measurementId:"G-PTX05N3NMH"};Xn.initializeApp(CM);var NM=function(e,t){var n="string"==typeof e?e:t||"(default)",r=hn("object"==typeof e?e:bn(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=qe("firestore");i&&Y_.apply(void 0,[r].concat(kt(i)))}return r}(kn(CM)),PM=new Map([["Raze",0],["Jett",0],["Phoenix",0],["Reyna",0],["Neon",0],["Yoru",0],["Sage",0],["Killjoy",0],["Cypher",0],["Chamber",0],["Brimstone",0],["Omen",0],["Viper",0],["Astra",0],["Harbor",0],["Skye",0],["Sova",0],["Breach",0],["Kayo",0],["Fade",0],["Gekko",0]]),DM=g((function e(t,n,r,i,a,o,s,u,c,l,f,h,d,p,v){y(this,e),this.name=t,this.tag=n,this.rank=r,this.acs=i,this.kills=a,this.deaths=o,this.assists=s,this.dd=u,this.fd=c,this.fk=l,this.rp=f,this.mp=h,this.hs=d,this.team=p,this.agents_played=v})),RM={toFirestore:function(e){return{name:e.name,tag:e.tag,rank:e.rank,acs:e.acs,kills:e.kills,deaths:e.deaths,assists:e.assists,dd:e.dd,fd:e.fd,fk:e.fk,rp:e.rp,mp:e.mp,hs:e.hs,team:e.team,agents_played:{Raze:e.agents_played.get("Raze"),Jett:e.agents_played.get("Jett"),Phoenix:e.agents_played.get("Phoenix"),Reyna:e.agents_played.get("Reyna"),Neon:e.agents_played.get("Neon"),Yoru:e.agents_played.get("Yoru"),Sage:e.agents_played.get("Sage"),Killjoy:e.agents_played.get("Killjoy"),Cypher:e.agents_played.get("Cypher"),Chamber:e.agents_played.get("Chamber"),Brimstone:e.agents_played.get("Brimstone"),Omen:e.agents_played.get("Omen"),Viper:e.agents_played.get("Viper"),Astra:e.agents_played.get("Astra"),Harbor:e.agents_played.get("Harbor"),Skye:e.agents_played.get("Skye"),Sova:e.agents_played.get("Sova"),Breach:e.agents_played.get("Breach"),Kayo:e.agents_played.get("Kayo"),Fade:e.agents_played.get("Fade"),Gekko:e.agents_played.get("Gekko")}}},fromFirestore:function(e,t){var n=e.data(t);return new DM(n.name,n.tag,n.rank,n.acs,n.kills,n.deaths,n.assists,n.dd,n.fd,n.fk,n.rp,n.mp,n.hs,n.team,n.agents_played)}},OM=function(){function e(t,n,r,i,a,o,s,u){y(this,e),this.redTeam=t,this.greenTeam=n,this.map=r,this.redPlayers=i,this.greenPlayers=a,this.redScore=o,this.greenScore=s,this.date=u}return g(e,[{key:"toString",value:function(){return this.redTeam+" vs "+this.greenTeam+" on "+this.map+" on "+this.date}}]),e}(),LM={toFirestore:function(e){return{redTeam:e.redTeam,greenTeam:e.greenTeam,map:e.map,redPlayers:[{puuid:e.redPlayers[0].get("puuid"),name:e.redPlayers[0].get("name"),tag:e.redPlayers[0].get("tag"),rank:e.redPlayers[0].get("rank"),acs:e.redPlayers[0].get("acs"),kills:e.redPlayers[0].get("kills"),deaths:e.redPlayers[0].get("deaths"),assists:e.redPlayers[0].get("assists"),dd:e.redPlayers[0].get("dd"),fd:e.redPlayers[0].get("fd"),fk:e.redPlayers[0].get("fk"),hs:e.redPlayers[0].get("hs"),agent:e.redPlayers[0].get("agent")},{puuid:e.redPlayers[1].get("puuid"),name:e.redPlayers[1].get("name"),tag:e.redPlayers[1].get("tag"),rank:e.redPlayers[1].get("rank"),acs:e.redPlayers[1].get("acs"),kills:e.redPlayers[1].get("kills"),deaths:e.redPlayers[1].get("deaths"),assists:e.redPlayers[1].get("assists"),dd:e.redPlayers[1].get("dd"),fd:e.redPlayers[1].get("fd"),fk:e.redPlayers[1].get("fk"),hs:e.redPlayers[1].get("hs"),agent:e.redPlayers[1].get("agent")},{puuid:e.redPlayers[2].get("puuid"),name:e.redPlayers[2].get("name"),tag:e.redPlayers[2].get("tag"),rank:e.redPlayers[2].get("rank"),acs:e.redPlayers[2].get("acs"),kills:e.redPlayers[2].get("kills"),deaths:e.redPlayers[2].get("deaths"),assists:e.redPlayers[2].get("assists"),dd:e.redPlayers[2].get("dd"),fd:e.redPlayers[2].get("fd"),fk:e.redPlayers[2].get("fk"),hs:e.redPlayers[2].get("hs"),agent:e.redPlayers[2].get("agent")},{puuid:e.redPlayers[3].get("puuid"),name:e.redPlayers[3].get("name"),tag:e.redPlayers[3].get("tag"),rank:e.redPlayers[3].get("rank"),acs:e.redPlayers[3].get("acs"),kills:e.redPlayers[3].get("kills"),deaths:e.redPlayers[3].get("deaths"),assists:e.redPlayers[3].get("assists"),dd:e.redPlayers[3].get("dd"),fd:e.redPlayers[3].get("fd"),fk:e.redPlayers[3].get("fk"),hs:e.redPlayers[3].get("hs"),agent:e.redPlayers[3].get("agent")},{puuid:e.redPlayers[4].get("puuid"),name:e.redPlayers[4].get("name"),tag:e.redPlayers[4].get("tag"),rank:e.redPlayers[4].get("rank"),acs:e.redPlayers[4].get("acs"),kills:e.redPlayers[4].get("kills"),deaths:e.redPlayers[4].get("deaths"),assists:e.redPlayers[4].get("assists"),dd:e.redPlayers[4].get("dd"),fd:e.redPlayers[4].get("fd"),fk:e.redPlayers[4].get("fk"),hs:e.redPlayers[4].get("hs"),agent:e.redPlayers[4].get("agent")}],greenPlayers:[{puuid:e.greenPlayers[0].get("puuid"),name:e.greenPlayers[0].get("name"),tag:e.greenPlayers[0].get("tag"),rank:e.greenPlayers[0].get("rank"),acs:e.greenPlayers[0].get("acs"),kills:e.greenPlayers[0].get("kills"),deaths:e.greenPlayers[0].get("deaths"),assists:e.greenPlayers[0].get("assists"),dd:e.greenPlayers[0].get("dd"),fd:e.greenPlayers[0].get("fd"),fk:e.greenPlayers[0].get("fk"),hs:e.greenPlayers[0].get("hs"),agent:e.greenPlayers[0].get("agent")},{puuid:e.greenPlayers[1].get("puuid"),name:e.greenPlayers[1].get("name"),tag:e.greenPlayers[1].get("tag"),rank:e.greenPlayers[1].get("rank"),acs:e.greenPlayers[1].get("acs"),kills:e.greenPlayers[1].get("kills"),deaths:e.greenPlayers[1].get("deaths"),assists:e.greenPlayers[1].get("assists"),dd:e.greenPlayers[1].get("dd"),fd:e.greenPlayers[1].get("fd"),fk:e.greenPlayers[1].get("fk"),hs:e.greenPlayers[1].get("hs"),agent:e.greenPlayers[1].get("agent")},{puuid:e.greenPlayers[2].get("puuid"),name:e.greenPlayers[2].get("name"),tag:e.greenPlayers[2].get("tag"),rank:e.greenPlayers[2].get("rank"),acs:e.greenPlayers[2].get("acs"),kills:e.greenPlayers[2].get("kills"),deaths:e.greenPlayers[2].get("deaths"),assists:e.greenPlayers[2].get("assists"),dd:e.greenPlayers[2].get("dd"),fd:e.greenPlayers[2].get("fd"),fk:e.greenPlayers[2].get("fk"),hs:e.greenPlayers[2].get("hs"),agent:e.greenPlayers[2].get("agent")},{puuid:e.greenPlayers[3].get("puuid"),name:e.greenPlayers[3].get("name"),tag:e.greenPlayers[3].get("tag"),rank:e.greenPlayers[3].get("rank"),acs:e.greenPlayers[3].get("acs"),kills:e.greenPlayers[3].get("kills"),deaths:e.greenPlayers[3].get("deaths"),assists:e.greenPlayers[3].get("assists"),dd:e.greenPlayers[3].get("dd"),fd:e.greenPlayers[3].get("fd"),fk:e.greenPlayers[3].get("fk"),hs:e.greenPlayers[3].get("hs"),agent:e.greenPlayers[3].get("agent")},{puuid:e.greenPlayers[4].get("puuid"),name:e.greenPlayers[4].get("name"),tag:e.greenPlayers[4].get("tag"),rank:e.greenPlayers[4].get("rank"),acs:e.greenPlayers[4].get("acs"),kills:e.greenPlayers[4].get("kills"),deaths:e.greenPlayers[4].get("deaths"),assists:e.greenPlayers[4].get("assists"),dd:e.greenPlayers[4].get("dd"),fd:e.greenPlayers[4].get("fd"),fk:e.greenPlayers[4].get("fk"),hs:e.greenPlayers[4].get("hs"),agent:e.greenPlayers[4].get("agent")}],redScore:e.redScore,greenScore:e.greenScore,date:e.date}},fromFirestore:function(e,t){var n=e.data(t);return new OM(n.redTeam,n.greenTeam,n.map,n.redPlayers,n.greenPlayers,n.redScore,n.greenScore,n.date)}},MM=0;function FM(e){return jM.apply(this,arguments)}function jM(){return jM=l(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AM.getMMRByPUUID({version:"v2",region:"na",puuid:t});case 2:return n=e.sent,console.log(t,n.data),e.abrupt("return",n.data.current_data.currenttierpatched);case 5:case"end":return e.stop()}}),e)}))),jM.apply(this,arguments)}function BM(){return BM=l(u().mark((function e(t,n,r){var i,a,o,c,l,f,h,d,p,v,m,g,y,k,b,w,x,I,S,_,E,T,A,C,N,P,D;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.split("match/")[1],console.log(t,n,r),e.next=4,AM.getMatch({match_id:t});case 4:for(i=e.sent,console.log(i),a=new Map,o=new Map,c=-1,l=0;l<i.data.kills.length;l++)(f=i.data.kills[l]).round!=c&&(c=f.round,a.set(f.killer_puuid,a.get(f.killer_puuid)+1||1),o.set(f.victim_puuid,o.get(f.victim_puuid)+1||1));console.log(a),console.log(o),h=i.data.players.red,d=i.data.players.blue,console.log(h),console.log(d),console.log(i.data.metadata.rounds_played),p=new Array(5),v=new Array(5),m=0;case 20:if(!(m<h.length)){e.next=66;break}return g=h[m],e.t0=Map,e.t1=["puuid",g.puuid],e.t2=["name",g.name],e.t3=["tag",g.tag],e.next=28,FM(g.puuid);case 28:return e.t4=e.sent,e.t5=["rank",e.t4],e.t6=["acs",g.stats.score/i.data.metadata.rounds_played],e.t7=["kills",g.stats.kills],e.t8=["deaths",g.stats.deaths],e.t9=["assists",g.stats.assists],e.t10=["dd",(g.damage_made-g.damage_received)/i.data.metadata.rounds_played],e.t11=["fd",o.get(g.puuid)||0],e.t12=["fk",a.get(g.puuid)||0],e.t13=["hs",g.stats.headshots/(g.stats.headshots+g.stats.bodyshots+g.stats.legshots)],e.t14=["agent",g.character],e.t15=[e.t1,e.t2,e.t3,e.t5,e.t6,e.t7,e.t8,e.t9,e.t10,e.t11,e.t12,e.t13,e.t14],p[m]=new e.t0(e.t15),y=d[m],e.t16=Map,e.t17=["puuid",y.puuid],e.t18=["name",y.name],e.t19=["tag",y.tag],e.next=48,FM(y.puuid);case 48:e.t20=e.sent,e.t21=["rank",e.t20],e.t22=["acs",y.stats.score/i.data.metadata.rounds_played],e.t23=["kills",y.stats.kills],e.t24=["deaths",y.stats.deaths],e.t25=["assists",y.stats.assists],e.t26=["dd",(y.damage_made-y.damage_received)/i.data.metadata.rounds_played],e.t27=["fd",o.get(y.puuid)||0],e.t28=["fk",a.get(y.puuid)||0],e.t29=["hs",y.stats.headshots/(y.stats.headshots+y.stats.bodyshots+y.stats.legshots)],e.t30=["agent",y.character],e.t31=[e.t17,e.t18,e.t19,e.t21,e.t22,e.t23,e.t24,e.t25,e.t26,e.t27,e.t28,e.t29,e.t30],v[m]=new e.t16(e.t31),"KAY/O"==p[m].get("agent")&&p[m].set("agent","Kayo"),"KAY/O"==v[m].get("agent")&&v[m].set("agent","Kayo");case 63:m++,e.next=20;break;case 66:k=0;case 67:if(!(k<p.length)){e.next=89;break}return b=eE(NM,"players",p[k].get("puuid")).withConverter(RM),e.next=71,ET(b);case 71:if(!(w=e.sent).exists()){e.next=79;break}return x=w.data(),e.next=76,DT(b,s({rank:p[k].get("rank"),acs:x.acs+p[k].get("acs"),kills:x.kills+p[k].get("kills"),deaths:x.deaths+p[k].get("deaths"),assists:x.assists+p[k].get("assists"),dd:x.dd+p[k].get("dd"),fd:x.fd+p[k].get("fd"),fk:x.fk+p[k].get("fk"),hs:x.hs+p[k].get("hs"),mp:x.mp+1,rp:x.rp+i.data.metadata.rounds_played},"agents_played.".concat(p[k].get("agent")),x.agents_played[p[k].get("agent")]+1));case 76:console.log("updated player",p[k].get("name")),e.next=86;break;case 79:return(I=new Map(PM)).set(p[k].get("agent"),1),S=new DM(p[k].get("name"),p[k].get("tag"),p[k].get("rank"),p[k].get("acs"),p[k].get("kills"),p[k].get("deaths"),p[k].get("assists"),p[k].get("dd"),p[k].get("fd"),p[k].get("fk"),i.data.metadata.rounds_played,1,p[k].get("hs"),"SUB",I),console.log(S),e.next=85,PT(b,S);case 85:console.log("created player",p[k].get("name"));case 86:k++,e.next=67;break;case 89:_=0;case 90:if(!(_<v.length)){e.next=112;break}return E=eE(NM,"players",v[_].get("puuid")).withConverter(RM),e.next=94,ET(E);case 94:if(!(T=e.sent).exists()){e.next=102;break}return A=T.data(),e.next=99,DT(E,s({rank:v[_].get("rank"),acs:A.acs+v[_].get("acs"),kills:A.kills+v[_].get("kills"),deaths:A.deaths+v[_].get("deaths"),assists:A.assists+v[_].get("assists"),dd:A.dd+v[_].get("dd"),fd:A.fd+v[_].get("fd"),fk:A.fk+v[_].get("fk"),hs:A.hs+v[_].get("hs"),mp:A.mp+1,rp:A.rp+i.data.metadata.rounds_played},"agents_played.".concat(v[_].get("agent")),A.agents_played[v[_].get("agent")]+1));case 99:console.log("updated player",v[_].get("name")),e.next=109;break;case 102:return(C=new Map(PM)).set(v[_].get("agent"),1),N=new DM(v[_].get("name"),v[_].get("tag"),v[_].get("rank"),v[_].get("acs"),v[_].get("kills"),v[_].get("deaths"),v[_].get("assists"),v[_].get("dd"),v[_].get("fd"),v[_].get("fk"),i.data.metadata.rounds_played,1,v[_].get("hs"),"SUB",C),console.log(N),e.next=108,PT(E,N);case 108:console.log("added player",v[_].get("name"));case 109:_++,e.next=90;break;case 112:return P=new OM(n,r,i.data.metadata.map,p,v,i.data.teams.red.rounds_won,i.data.teams.blue.rounds_won,i.data.metadata.game_start),console.log(P),console.log(P.redPlayers[0].get("puuid")),D=eE(Z_(NM,"matches")).withConverter(LM),e.next=118,PT(D,P);case 118:case"end":return e.stop()}}),e)}))),BM.apply(this,arguments)}var UM=[{Team:"GQ",W:6,L:0,RD:35,Logo:k},{Team:"LOUD",W:4,L:2,RD:14,Logo:x},{Team:"FNC",W:4,L:2,RD:-7,Logo:w},{Team:"ATZ",W:3,L:2,RD:9,Logo:b},{Team:"SE",W:2,L:2,RD:11,Logo:_},{Team:"TMX",W:2,L:2,RD:-2,Logo:E},{Team:"SCN",W:2,L:3,RD:-6,Logo:I},{Team:"TMNT",W:1,L:3,RD:-3,Logo:S},{Team:"ODY",W:0,L:5,RD:-24,Logo:T}],zM=[{Team:"GZ",W:2,L:0,RD:12,Logo:C},{Team:"UWU",W:2,L:0,RD:8,Logo:O},{Team:"JPT",W:2,L:1,RD:-2,Logo:P},{Team:"POUT",W:1,L:1,RD:2,Logo:R},{Team:"MRK",W:1,L:2,RD:6,Logo:D},{Team:"FROG",W:1,L:2,RD:-9,Logo:A},{Team:"HOOJ",W:0,L:3,RD:-16,Logo:N}],VM=new Map([["SE","Six Eyes"],["GQ","Good Question"],["LOUD","Living Out Ur Dreams"],["FNC","Fun Near Carrots"],["ATZ","All Time Zones"],["TMX","Team X"],["SCN","Shrouded Cyclone"],["TMNT","Those Meddling Neanderthals There"],["ODY","Odyssey"],["SUB","SUB"]]),qM=new Map([["Six Eyes",_],["Good Question",k],["Living Out Ur Dreams",x],["Fun Near Carrots",w],["All Time Zones",b],["Team X",E],["Shrouded Cyclone",I],["Those Meddling Neanderthals There",S],["Odyssey",T]]),HM=new Map([["Six Eyes","SE"],["Good Question","GQ"],["Living Out Ur Dreams","LOUD"],["Fun Near Carrots","FNC"],["All Time Zones","ATZ"],["Team X","TMX"],["Shrouded Cyclone","SCN"],["Those Meddling Neanderthals There","TMNT"],["Odyssey","ODY"],["SUB","SUB"]]),KM=new Map([["Astra",L],["Breach",te],["Brimstone",M],["Cypher",F],["Chamber",X],["Fade",Z],["Gekko",$],["Harbor",J],["Jett",j],["Kayo",ee],["Killjoy",B],["Neon",Y],["Omen",U],["Phoenix",z],["Raze",V],["Reyna",Q],["Sage",q],["Skye",H],["Sova",K],["Viper",G],["Yoru",W],["KAY/O",ee]]),GM=new Map([["Iron 1",ne],["Iron 2",re],["Iron 3",ie],["Bronze 1",ae],["Bronze 2",oe],["Bronze 3",se],["Silver 1",ue],["Silver 2",ce],["Silver 3",le],["Gold 1",fe],["Gold 2",he],["Gold 3",de],["Platinum 1",pe],["Platinum 2",ve],["Platinum 3",me],["Ascendant 1","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAABHNCSVQICAgIfAhkiAAAIABJREFUeJztnWtwHNeV3//dPT1osMnhDIdoYjgAJUggQFCQRchyICmSvXGVS4ldiFVW2XJZWxVVKU7ZkbMbW7bjJB9SqaQqlV3JD+16tWsXq7x+7Fp2tPGGFWe1qdUHyxZFixLN6AHzJVh4EOAMgQGGANHATHfnQ6OB6R4AMz3TPX17+vxQpySAg9t3enD/fe+555zLffwTHwcRXfbKeyHtkYLuBhEQfNAdIAgiOEgACCLCkAAQRIQhASCICEMCQBARhgSAICIMCQBBRBgSAIKIMCQABBFhSAAIIsKQABBEhCEBIIgIQwJAEBGGBIAgIgwJAEFEGBIAgogwJAAEEWFIAAgiwpAAEESEIQEgiAhDAkAQEYYEgCAiDAkAQUQYEgCCiDAkAAQRYUgACCLCkAAQRISJBd0Bou3hXL7e8KUXxLbQDIAgIgzNAFrLpwDcGnQnHDifuFqT7VU+8afR2EPmVwAmm+wHUQckAK3jSzAFIB50Rxw4BaDUZHvOAe/2b4yHOfi/ABIB3yEB8B7nmtcA8GUAj258r7e2O67x+m/C7fvVAGQA/BmArwJ4x+P+EBWQD8B/voWtwU/UzyEAfwngvqA70s6QAPjLswDuD7oTIecbIBHwDRIA/6DB7x0kAj5BAuA9MoC/ATAKcz3LOSxQSrGSzaQ9ElP9Q/X9EjbsWQCfCLBfbQkJgLf0APgBgGzQHakX8c7sCICOoPtRJ/8e5E/xFBIA7+gB8AxCNPilo5nj8mOjkB8bvT3ovrjgyxtGeAAJgDf0AHh+479hoSv1sZEOABDvzHaId2bD1PdHQSLgCcKxoWNB9yHs3AFzq28/zLUqD5bW1JwOcMam6fEODnyMUz7+gcE93SmuQ+O55OFDHA5I8sKN+XkxpzYbCeg1Tp+AZcMwBfcXMO+5ZZRL4AKaATTHfQC+B3PPOjTIg5nj8mDG9rNEfw8S/T0DAXWpUT4Kc9lFNAgJQOPcB+CbQXeiAbqUsZFtnX49D43GxTuzva3uUJPcCxKBhiEBaIxQDv6SoInK2Miua335sVEF4dkVsLgXpg+GcAkJgHsegbknba05WdtHt6HzW5YYHRiQBw9xgL5pgiwAWN20VFIylM890A8JHCT23s82xDbsVgA/BBC2GUygkAC441EAXwu6Ew3SK9/XX9eTXT5xpEM+cSRMuwIWRwH8KUgE6oYEoH7CvP/coXzxoS43v6A8/kAXwrcUAMzBTyJQJyQA9VGZzhs65Htv72/k95THHzgeikVANSQCdUICUI3gsP8C4NPYeT+aKUqOr5Xb9mXT/2RYkiSJkySpdn81gbNs+MRdXHZ04HZIMDaNffQNy8IMy6Ykol0gAdidZwD8s6A70QQd2fuHu5tpYPTxsQSAhEf9aTV7Ye7WkAjsAAnAzjyDkP/hyGMjRxO9StPtjD4+1tASgiFIBHaABGB7foKQ/8GIg5lecTDjiRMve2IA2RMD7SACnwq6E6xBAmCnF8BfA7gFWz4AtjF0u8XAIQapZ2xESQHYWhJbtju8sGX7zPqlHABu9PGx/VJvMunfG/GNSn/OV0AiYIMEYItemE+J24LuSLMoHxvx5Wk9MvbhMKUNbwcH4KkNI0ACYGEN/tBvG8lHM73yUW+m/k4yA30YfvzDYV8KAOYsgEQAJACAOehfQBsM/tI+UVY+NuIq4Mctyom+/cqJvv1+XqNFfAqm6Ed6DET6zcN09P0Q9nzyUFESRc6y1D8dGYQUh81cokPbNMG8Hba4h6SUNPpGh2/f8DUwFwdRB5U+gQcAfB1b+QSROycjdH/wHmJl9MlBd8QLpGOZ26Vjmdov9IDsyABGnxgLuz/A4l4ATwfdiaCIqgCEMp13FxKph0c8DdZJQtr137MjA4nsyICvy40Wci+AHwfdiSCIogBYa7+2IfXwSCBP49EnxnrEvVK7TJt7YIrAgaA70kqiJgCPwtwLrlwHhgoBJaPS8I+zA8ljGU4COMmT3ATztkg7n2Fq8wnc/dhHBjf9AeH0CVSu/28FcBLAETCa6+E1URIAa/+3bT7U+KCi9D14194g+5AdGejIjgyEsXbATvTCLPIa+l2heoiKADyFEKfz7kCHPDbMxB/p6BNjYa0dsBOREYF2FwAB5nq/3QY/5LHho0H3oZLRJ8aOB90Hj+mFecTbiaA74iftKACVa7qvw9zrDe0+vxNVknjhrr4jibsGOiQpCbex/rXRAGjorN89wgHgsiMDXPbjo7fb7n57uAe/gzY+5DX0A2IXnoG5vdNuJJQxf6P9GmX0Iw/sz7TP1mAl30SbikC7CsDzaM/BD2UsmC2/ehl5YqwH7eUPsGjLpWS7CUAa4Tujr270jw1WnejDIiPt5w+weArAZ4LuhJe0w9mAVm3+XgDfhpnL3zZr/pIkcHqM5zrvyPYe/tDwfrOev1FhbrEfZZDPzeOgogBlmBYzjzfsQ2P5PjEAqUyak5WUfOXV/1cQebGhdhjCWQPyXpjnQL4SZKe8IvQDZIMeAN9Amz754dO6f/LCBE5958e48PpbXjeNI/cMJY7cM9SO/gCgjU4nbgcB6AHwU7Tv4Pdt3f/yqZcAAKe+408Y/IOfe6QneSzbjv4AoE1EIOwCcDfMwd+2KGMjvqz7rcFv4ZcI9H18NPRrzF14FMAfBd2JZgijD8Bai90P8/AHc9HaLmv+mACd56HzPOLHu/sPPHB0b1Nr/hJsYQJqaQ3vvn0J537xGsrlMmJyDBCA+Ws5aALwe8dGkEIHVJShogzJ/Wa+bc2cSqU4OXPwwJU3LubLAELvEaj2CdwK4H0AXoLpAtGC65p7wjpg2i2dtwrpmNKVenjYl3r8zqe/xZlTL+GN35z3/HpH3j/QceT9A+0cVhvamgJhFIC2S+fdhkTqYX/i/Hca/BYnv/cDPy6LBz871nXk/QNhPWCkHqyaAuzv01YQNgH4fbR/MceO1MPDvhTefOPlM5i8MFHzdT6KQL/UlWhXpyBgOqL/BCESgTD5AJ4C8AScG9khp4SSoWPrS/rnx453HbslFjMELmYIHLgm36LAAwKHyUtX8Po//BKcrkGAsWmGwIHvELY8KOUyZqenkdl/EJn9ByFJu1cGqgPbmnnPgX1dM29dnN3MFSg323zgOH0CSQAPAvg1gGV4k6DhG2GZAbRjOm8V0lCmP3P8dveVPOvg5Z+96Or1J3/0fT+6geyJAYw+PnaHL42zQy/MRDTm/R5hEIC2jMF2Ig1lelOPjPhSbtvt4Ld48mv+rLayJwY62uCosVr0wtyiHg26I7vB+hLgGZjpvJWEftpfiQ4d0lBGST0ychgAYoZgf39NLgFe/tnfY/K3lze/N3THCd9xAby4c+rv76av4v57PtBUH7aj58RgR3FuPnZjer7oeeNs8SEA4wBmgu7IdrAoABLM1eE3YQ5+5xor1AgQwFd8lXv37j1w37Hb9iT3I4YYwMFc91vmFpUHyhxQ5jD59hW8+cvXoOkaDN2oHvzANgJgD6uYnZvBoUwWyuHDZqpAQ+/axuZnmbmzXy7mr99czi2sgwcHHhzbK+aGEAF8FMDbAKYC7ksVrC4BnkabpvM66FA+NDwo39r8Ed7b8fKpF6F5EJfy3Hefw9nXz3rQIzuCIGDkiYduR3umDzv5FhhcyrImAAdg7qVGYfBDfmT4uJ+D30ue++5znrZXyUf/9MnjiIYIfBmMiQBrAvAHaOOknkrkR4aPx4f8G/yTFy7XfqFLnvvuc9A0fyJdR554qF1rCDj5ChiqLsSaALRHFbkKnHX8i1C5+Af7jiaGjnRKkHgzv7/S3MLbbPydc7h44TJUAKpH78Cys6+fw7e/9z1PWrWQIHESJK5vZJh73+fHjhs6UGltgNOHxYOhcylYE4C25+AHh3rTHxzyJSR2+tIEXvm5v3Uqzpw7hzPnzvnSdv8dA9LxsfvafXuQKUgAWkh8MNOb/qB/RTLO/O/d4/y94tmTJ30TgaGx+xMkAq2DBKBFxAczXbKP1Xxf+OZJv5relmdP+ne9DRFgPoquHSAB8BhBsJvaleTVrmRy3yP3HOHjAtd8HX8ezvIHL7/wItRlFeqyChGazTynvLppX/3P/8n79jfWykNj9yuZ3xvq9uMCxBYkAP6TyH72Qd9Keb/8wouYHPfe418PM7PTePakf9uD93/mo9nM+wf82SohAJAA+I2vg3/ywuXABr/FmXNnfRWBkc+O9ZII+AcJgH90pD7n7+D3OtinUc6cO4sz57yPFLTYEAFfEqWiDgmAx6gJgVMTgpT45D13SKkkF+cFm7luUDdsphZUqAUVL//0RUAFNMeX/wh22zhP4Nm/eA7j4+OeX03asPs+O9afPNq9H2UYNiOaggTAezqUh0aOy/3+FYV54dut9fjXy3/9lr9l8T781GP9mZF+mgl4CAmAt/g++M+82Jq9/kb5wtf8LZU/8sRDJAIeQgLgHR3yEw/6Ovhf+umLmL5cu6Zf0JAIhAcSAJc4Y/tvdAncjS5BSnzmnjtSmSTndWw/1kvAegkvvfAiJi5NBLDmr4XdJ1BYLKCwWMCzPmUPjksFjEsFSE/+o34MpNu5ynBLIAFono7sR0aOJ27z78k/cWECE3VU82WJM6+f9VwE5h3pTX1ffeioeCJLItAEJABNsJgSEq0Y/C/VqOXPKmdeP4uTP/KmxPg8VFxAoern8uOj/SQCjUMC0CCLKSEx0Sf237gyh+K7s75cYzLEg9/i3JvnmxaBCyhsO/gtNkSgXU8i9hXWagJ+GABrmWC2fO71so6FtLB/ckg8ihi4a/wyN7k4xy0UFjhZ2st1dnbaf0UzAANbViW52x9zMPnby3j5Z39XVcffc6pqAjb7TLD7MFT1JiYmf4dDmS4oh7vMuocuGMciFnAT1g0sw+AqLRYTuVgsxu2559b9y9fyZX564SZnaLDM4AJPuXfCAfg7bNUHDDSWgQSgNjZH3mKa65oZEvuc/76qrmJ6bgrLK8vIKBVLAsPx+VaNr2o/oTn4zSi/bQt5eonnAuDE7P/ZN84hm8ngyOH6k/xewSxUrNd41db923t3336gHCtdzG1WGiYB2B0SgNps/oXNZPSua0dF51+wbQQvryzj0sQl7JX3Yp+8z7UAVA5+oH0EADBF4JaeIzjcvbvPZB4qfoN81e9vj/3+xQcP7AGwKQIkALtDAlAbDgBmMnrPdEbLiLGqKey2W31zuTksryxD6tiDzo6Kepe7CEBxfhH/96/+p+1f20kAAOA3b72JbHdmRxGodva5EwCgjPigIgOQSxdzCyQAu0MC4IATdHC8sWk3jLIx28PdnuvlD/CCAPA8ZwCVhp2suLKMmbkpLC0XcSCVRlnXEIuJqFzzq6qKcrmMcrmMn/3ZX0Irb9Xw933wAy0QALtPoFxex6tnf42+zK3oO3wrLuE6FqFu2u+wBPtdrIXzroscEOPig4elGwc7Enh7bmHzzAE2zh0gAdiF4AWAt38eV7P88PUsL1vf8zzvKriHB7CyuoKJqQnIe2TsT9gD2Mpl83RMq6JPSwZ9Jb4LgBPz/Z1+4wx6Mz3oPJy0/esySk22X+ET6O2KG5k9qdK5mfzmD0kAbJAAOKgUgPPHteM30jHb8biNCIBFbj5n9w/AFIDKcl5REQDAFIHMLUfQdWhrB89LAQAAI7NHEDKJA6VzM0UAGgmAHRIABxsC0HH+uPY+ADFNtKfwNiMAFpZ/AAB+/txf2f4tSgIAAJcuTaDrUNemCHgtAGWUIWQSMemjQ13qz8cL0AM/kJwEYBcCF4BSR0w8/wFh2OiIcUZHjON53mZu2zOgwaj44jUDMAwsLxcx/vNXW7/md9JyAXD6BG7izdffgJzpxt5MN8rQYI+LcHtP7D6BGEQuhhgXQ4zr+NBtXcb86kp5dmnNwzfkFqYEgCIBHbx1NwZbcZ3C65OtuExoOHXy+7hw7ryv1xBlmUt+9oHbEI1jyOqCBMCBMovrfl+DBv/2nDr5fUyc976qUCXq65NFAEHOAJiCBMCBMot5v9rWVnUa/DV46Qd/46sIqG9M+i7wYYIEwIFQKq1nprWcVwe3CRtf2oKKlTenoZU1m0WesmAzVV3Fz7/7I1w+91adDTjPSXCaumnzFyeWNmYAxAYkANugzOg5r9tcuex5k23Niyd/7EIEdmf+4iwunjqHi6fOXfOkwTai7U7j9Yg1ZVrL5XoEqkcfIP0jw2gkcmd2chZzk3OYnZxFanaziMjShtFDrwISgB1QZnRPBUDuV2gW4AJz8NfH/GwO83M5zM/mUFjc8VB0evpvAwmAA17f3OtfT+aRn++Cs9BEA3X+gPgBGStiHHp51X69RhprZ2KdAIAPPfYwVFWFJNkCMaGq5gDPzcwiNz2H3EwB2CV4qJABUnltqW+8VESDn107QwKwC0cua7PzXYJnlWY6u/ehNLFa+4URp+/OgaqfzU7OYG5yGrOTM45/qe2qTV733qfTLpAA7E5ZmcV8LoO0F41JmQSKE/S3WIsPPzYGAJh48yLUtdVtBn39pPLaUiqvLXnVt3aDBKAGyiyueiUAACD3KVghEdiRvjsH8NKPTm39oLO5zVh6+u8OLUGdONLLJVUtp+e1fKNxAZrD5EwCEIQtizz2O6QBEDrjm1Z1FmGVVbVnWJbKr6upvGat/e1FFwkAJAB1kbqu52u/qn7kbMrL5toGuSuFeGfcs/aS1/Wp2q+KNiQAdZCc19aS85pnIiD3JGu/KIIoQ321X1Qnqby2Rmv/2pAA1AnNAvxF7vL2ftDTvz5YEwD2srR4wQAvGMkC1GQeCwJgVFqjzco9SYg8HK1F1ydgPf2dPhO3xEsC4iVhrWLtzxo6mnuLnsKaADBNakHzNJqsk2YBALx/+ivT6/T0rxMSABckC/pqooAFr9qTDpMvAPB27Q9gTZkqUcZfnZAAuCQ7gTkv25OPRHsWQE//YGEtEGgx6A440ZzJaGW1rBni1vdNHjwhSDw4bmspGGiBuACIy1LtF7lAVHX2/Eh2mPqIWZsBMCcATnKHhYNetnfjUrQD1QrveTqhwuJBvv7DB4ODmVkKawLA+r5tLJflD3vVmJqnpSoALE56d7x6oUtIFLoEKvpZJ6wJANMzgJle3tMCIavXb3jZXGiJ4CyAZgA7wJwACOYqnxMAbr5X6AYncDZrEHV+BWphvepku6ji9SwAMcQRY/KWMpUPzpoAXA26Azsx18t7VhcAAFavr3jZXOjxehYwMVh1jDsrTAfdgUpYE4DrQOBHN23LbK/Q41Vb6vwK1HkSACeezgLSwn6weQBI48UNfIA1AQAYrN1GT//WYM4CvIuOZXQWQDOAGswj0GWx7rDmnv7O7PXVggpt/gZE6BAZOKo2cAzeZvPv5bC+tr5p1dkBNbMFNnP/C2khCfZmAd6udZqERQF4M+gOVOL1079EW3+7Urw2j8ShNBKHvCnCNDEkslba/VLQHaiEBKAGXq7915dUrNPWX02K18zT2RKH0pCTKcQlCXGpsYjBQpeggK1ZgHeODg9gUQCY8QHkMqKnT/+V9wpeNte2zJy/aPtelDohSp2QkylIySREWYYgijv8djUMzQIWwZgAsJYLAABvw772b2lOt1CxrJzLoNd5/boi/60z/0r65v+rSyrUZRUik1vTDKGa2+TFqzkkDitwuoEEwBz8oggNgL5xTsC6uv2BIHFJMlZ60YVLi9cArKHc8hoBlW/gty2+dk1YnAEADERKzWVdrv3LGrBaAm6o5n9XS1tCAGB1ian4D+aZOVv7XEAB9tmBnEztODvI9UkszAJ+HXQHnLAqAKeD7sDsYWH3LaSyVj3odzntV13a8cgqYgeKV90nSgmiCFGWN5cKFhsCELQvgKkYAIAEYFu2ffprGlAq7fqU341UxPP+3ZI4rGwsARrHORNgYBZwJuDrV8GiD0AHMImgQuMFkZ89WDqEdd1cKxqwDXLNOna+Xsqm10DcJyPZCyxO2R2BYvBl4QLG8f7LZoWg+qsEVfsIbEjS5pr/+pCkKJfm8mht7Ukr2GMKwHILr1sXrM4AphCQH2BW0RKonCrW+YSvh3hCpplADdwNftdwubuSntZzcEHgy9rtYFUAgIBu2Jyie7bvvx3SfolEYAeUY74OfgDAyiGpC8H4Al4J4Jo1YVkAArlh3Tne91htEoFqlGN9UAb9HfwAIF9TW70EsGByBsCiD8DiNMzACc8O5qyHTK5U6FRxcSKLfgBArGrf2N0+csy+hLC+E1MSkkIKixNR8wlUvz9PB7/TCaBtOQl6zi5OJa6qnh7wUiensfV3w1QgCMszAAB4LYiLJoso9s3gbfj8pIgnaCbQqid/z9nFy4mralAFGJl8+gPsC8DfBnXhZBFrI+O4DJ9FIMrLgRYO/rcSV9Ug603+JMBr7wrrAvAagi0UujY0jt8mivA1gyeKItCKwR9fgXr8f829lbiqBlkqnNmnP8C+AADA/0EL6wNoELlKE8uidut74qX0dWFpVYQBzWHNXm/jNHsxISHZm4IOzmbhx5G/XwaUo31QBvpQVRCxkbvpKLigiTA0EYY8p6p9fz/3DoB1VNQI8OANueVvwXDZxzAIABPTp+wsf6VnVvDVgRTfL0E+uM/PSwSOz/v8AIDElFrsOb34jq8XqY85AK8G3YndCIMABBYU5CQ7y08rOfgqAnJXom1FIHE43arBf8XXi9TPi2CsCrCTMAgAwMgsAACUHKaVnL913dpRBBKH08jeM+jvNabV6wwNfsAUAKYJgwAYAH4MRs5TlzjROJIXcz15YVrgwAk6jEpz257A2U1bXYe2ug5prwQpIaG6qiDrVK/54wcSEPoPYW5xsXZFv1o4b1hMMBATjIMXb+Yyry1aOSRBrrmt6/4KwMUarw2cMAiABTOzAADozvG5TE7wdGmira7bvpcP7EM81enlJVpOXElAHt6Krs6teJ8Re/CdG/n020Wmqu0CeD7oDtRDmATgp0F3wEl3js/1TYqeTDmdg99CTEqhFYH4Adk2+C28FIGD79yYZnDwT4HR2H8nYRKAKTA2CwCA5JJQbFYEdhr8FmLS2yO0W4V8+87p916IgPJWYTr9djGI0N5ahOLpD4RLAABzFlBduL+FWPv2lgGakVzCUmZWuIwyUMsnIOh2w6oGQec2DTG7xcEjDh6pvjSEGMBBsFnQaLpmMwt5qAfo7DSLLFYYp2PT5ldytX0CgmA3nQd0HgfHV6ZSl9RrYGfNb9k1kAD4BrNTq+7rfDGTFy67+R1tdR3Q69ewRG9L86IaRh7qQbwrUfN1ul5qaCZw8MKNqfRvi0HF9dfiL4LugBvCJgAA8EzQHdiJ7ut83cuBWtP+ndjXy3bIcL2DvxI3IsD44J8HcCroTrghjAIwBYanWPX4BBod/BasioB8S8r14LeoRwQOXrgxw/DgB4A/DroDbgmjAACmADARF1C9hrX5BAxB1WyGVRWCrm+axsNmVTj2vYWYCCEmQkzJVUHuQQS6C7xpnYcS6OzLVK35nTjvVy2fgKZp0DQN8tRKLv1Okalz9TYobdgEgH8IuC+uCasATAP4etCd2I0Nn0D19pRHbks5KUNOybVf2ALiXQnT6dckul7C4kr1Az5xVc31nF1kIhx8F74RdAcaIawCAJg7Aqzt/9rovs7nu6/HfeujnGRDALwY/BZqacUmAiEZ/KfBeNrvToRZAABzFsBcimUlmXnRVxHY1xtgqfuY4Ongt6gQgYUQDH4gpE9/ABCODR0Lug/NMA3gAIBhBLcMtlGV4s5rkFWslA0ttiCVZB4CZ3A8LHPdY96wmSEI6DiwD+Ubq+B4HobuUg/jAnixMp6g1jNBg/Xu5MEM4t2yvU8u0Q0BOvhN4zpEAzERB64bxTt+tfxu6yM9auJ8k0+D8ZTf3Qj7DAAwtwWZf0pkC/GpngXRt6i1+P7WLgca2e6rFyWHteG34CqmIiBeAfA/gu5EM7SDAAAMxwZUki3Ep5RFvuhH22JSbpkIxLsSfg/+t31p3HueDroDzdIuAnAaDOYJbIeyJFwG4J8I7Iv70fQmXnn8t6OzhPWQPPkBc/AzP/OsRTsIQHnD/juAKwg4V6CKjdh1ywRDMO76nTQp6NqqoGt68/UEdJtJB9MQKr6ax74zL9+aBnhty5qE02FY1n8RF1HG2uYnWm66eS/YLtfgFTAcjOaGdhCASv5b0B2ok7XhSdm3yjVynz87A/JQDyD7M8MYHsdlJR/IiT1umUIbTP0t2k0AziEk/gCETAT8dPoNj2NKyfuzLPKBtpj6W7SbAADm1IzJjMFtKPblxHf9aDiekhH3KFLQV6dfHnkl72+hVQ/5FsLzt1UX7SgAAPBvYdZjW0Hw+eI2eI232b6bwmJ6iZ9eFTRuVdA4TQcqzS2CAOBAHOtcCeJtKcQzCbjLFnBE4+/ttDv9mk0+0ATDMmVOWBoeZ/5pat2MXwL4YcB98Zx2FQAA+HdBd6BesoV4rmdB9CXLTcw09+T2y5+g5FEcHgdLFXx3YwrAF4PuhB+0swDMAPha0J2ol41AIV+OQZPvzjb2e0OKZ8sIB2shG/xfCroTftHOAgAAZwD8YdCdqJdsIT4VL4m+eMLjGXfnDMS7ZMS7/AksCtHgX4I5+FlfpjRM2HMB6mEK5gd5H0wfAFuiZ3CVpu3RuKUb8lqXAAMCDBg8v/tKW4fNw7G+PwZD5GHwgMEDAhcDzwuIJfagXFyHoZZt19RjcaAjBgM8DPDgYwbAA4kP3AbwQlXugWs0wdjsjMFj+BLeVa5huZFb1SIq7+jvA5gMtjv+wtZg8I+fICTbg8kVca0vJzceDSfuHPwjD9W3nk896M8JPkoeeWUWi7407j1fAuPp5l4QFQEATBEIRbhwckUsJlfcJw5p8dofp3zX7v4A6Yg/hUc3nH5hmUp/CSHN73dLlAQAMGcBocje6svJU8kV0VVwjLbL07+SePf2/gBMOg0tAAAGuUlEQVRhbxydtxx0c8l6WRseD02M/9cRkcEPALGgOxAAfwSgG6ZPAGDswD0N6ub/9+SEd+dlfQhAx+YPBcfue+WyXASEkrNFezCBEOch9CahLayY33fyQNmM6U/d3Yemyyxq9tspAdpgeAb/0zDPoYwMUZsBWIRiiscD+vCEN0ePOXEuBbY7wssLBsfxbjocMf7Po00SfNwQVQEAQiICANaURb6mCGid7j/K+CEzSCiuJBBXvA/1VfLIpfO44XnD3vM82ijBxw1RFgDAFIF3gu7ETliTaaUgFJVF3vN4ebF7X9XpvV6h5BGGMF/AjO2P5OAHoikAznoB/xFmTXdGMtDFTdMgIs6LRpwXjZ4laUoui6uaxhuVtlWYPw6Bq8OdYY87gJxNo8bpfDXaE2wmAZoEaMPjmAQDuRfbUPlmfwXgKTCUK9JqoigATqxQT+afVoMz/vgDvGbQjPRjfd0/DeDLMA/1iCwkACZhifde71mMMy0C6TzyafZz+6cBfDroTrAACcAWUwA+CbDttMoWxGLPYtzmD9D2+1sHsF6SN1AcHGc+eo4GfwUkAHamAPwHgJ2qdIZutxJKhlLAVBwlNY6SAQHBHg6ow7Ds7tcxieCPK3RS+Vn+DsCT2DrPL9LTf4AEYDtOIwS538MT/pUTa4SNSD/W1/1fBMDiAaOBQQKwPWEQgTVlUWRiur1R1ov1df8nEYHkHreQAOzMaTB+9qBSiOdhpjoHyVoI9vsjkdnXCCQAu/MTAH+MpjbKvYV3fN1zQZjWdM2wzPcOVNT0gyYY95zHhO/XdIezBuRXYAb7RHKfvxYkALVhPY14bXAimAo7A5cxnVjCzSCuXSdfBPBy0J1gGRKA+ngGDItAuoBiutDa0trpBRTTC0yX845UWm+jkADUzzNg+A9qcALTaKEXfuAy02vqr4NhwWYJEgB3fAlm/DgzPgFdh2HZ8Yt4T4NmVFqz7fO8YDNIwPAFTHWqWO1UGTh7sXrN/30Afw1GPh/WIQFwhw4zeeTVoDuyHYkiltMFwddpuXINS8o1+HKGgQc8D+BPgu5EmCABaIynwOi20uCE6OdSoDR8ntktv1cQksKvLEEC0DiPgl0R8GVXYPAiZsBmtN8rMI+DI1xCAuCeytjyzwN4DwH6BAxetBmgGulCSc0UkO8EKssLmOYSvQRDL8E4eBVLmSnMI/hYf+ea/zegwd8wJADNkQOjUWZ9E5iCh09rRqP9pgD8q6A7EWZIAJpnGozWEuib8KYaL6OJPlb6NtEEJADeMA3gU0F3wkmygLWeGb6p2YmSR5HBRJ+wFHBhHhKA5rHW/u8B+AKq16gt7oxos/RcKZe4ri1pJc3QSnXEBWhCpa0NXA481t9Zw3EJwL+BmduvIeD7HXZIALzlNTDokOp7rzEfxfA4puIl5oJp/gXMo98JDyAB8J7TYE8E1tyKgJJHTskHnmrs5NOgwe8pJAD+cBqMBaWklpBPLdW9lmcxx//LYHC3JeyQAHiPtVb9MYA/R8BrVLEEw7K+97bJFTggGOC0TZMA/S5z8LOyzw+YM6pfAFgPoD9tDQmAv5wEQ+fNiSWU+t7bvXYAg2W9n4EZ6Uf4AAmA/zwDhkQgtYTiLkuB9cFxptbYT4Ohe9eOkAC0BqaeYhuzgKrAnpHz8aC3/CqJ5Gm9rYYEwH+stewfAvg1Wu0T4ESbSWUYUhnGRgERTrqpQbqpITuNfGoRKy3vX/X1yjDz+SN7YGcrIQFoLU8COBN0JwAgXcBSurCZ1782eCXOitffqsZMtAASgNbzVTCynTW4kTA0eCXuSc6AB7wKCvFtKSQAwfAYGBGB+1/rfDu9ILCQ6PMqzL1+ooWQALSemxv2JIA87LUEfA+7deYKqDdVvy9ZizUAVwD8AWifv+WQAATHVQD/MuhOMMA0zMM7iAAgAQiWq4h2TvsszMHPxHIoipAABA+zBUV8ZhbAvwYN/kAhAQgeHeZZA1+E+Xk0uw/v/P1a1mrUDfs8zMIeQfcn0pAAsMMrMIOFogBl9jFCLOgOEDZeAfAJx8/cfkYZl68XXL6+WSZAg58ZSADYwxmR57aYt9t4/lb/DZRbfD1iF0gA2Kfkc/s0ICMM+QAIIsKQABBEhCEBIIgIQwJAEBGGBIAgIgwJAEFEGBIAgogwJAAEEWFIAAgiwpAAEESEIQEgiAhDAkAQEYYEgCAiDAkAQUQYEgCCiDAkAAQRYUgACCLCkAAQRIQhASCICEMCQBARhgSAICIMCQBBRBgSAIKIMCQABBFhSAAIIsKQABBEhCEBIIgI8/8B+rYQRzCp06sAAAAASUVORK5CYII="],["Ascendant 2",be],["Ascendant 3",we],["Diamond 1",ge],["Diamond 2",ye],["Diamond 3",ke],["Immortal 1",xe],["Immortal 2",Ie],["Immortal 3",Se],["Radiant",_e]]);function WM(e){var n=v((0,t.useState)(!1),2),r=n[0],i=n[1];return(0,sL.jsx)(sL.Fragment,{children:r?(0,sL.jsx)(QM,{setMod:i}):(0,sL.jsx)(YM,{setMod:i,team:e.team,setTeam:e.setTeam,setHome:e.setHome})})}function QM(e){var n=v((0,t.useState)(""),2),r=n[0],i=n[1],a=v((0,t.useState)(""),2),o=a[0],s=a[1],u=v((0,t.useState)(""),2),c=u[0],l=u[1];return(0,sL.jsxs)(sL.Fragment,{children:[(0,sL.jsx)("header",{className:"App-header",children:(0,sL.jsx)(QL,{variant:"contained",onClick:function(){return e.setMod(!1)},children:" Back "})}),(0,sL.jsxs)("main",{className:"App-main",children:[(0,sL.jsxs)("div",{className:"form container",children:[(0,sL.jsxs)("select",{class:"form-select","aria-label":"Default select example",onChange:function(e){return i(e.target.value)},children:[(0,sL.jsx)("option",{selected:!0,children:"Green Team"}),(0,sL.jsx)("option",{value:"All Time Zones",children:"ATZ"}),(0,sL.jsx)("option",{value:"Fun Near Carrots",children:"FNC"}),(0,sL.jsx)("option",{value:"Good Question",children:"GQ"}),(0,sL.jsx)("option",{value:"Living Out Ur Dreams",children:"LOUD"}),(0,sL.jsx)("option",{value:"Odyssey",children:"ODY"}),(0,sL.jsx)("option",{value:"Shrouded Cyclone",children:"SCN"}),(0,sL.jsx)("option",{value:"Six Eyes",children:"SE"}),(0,sL.jsx)("option",{value:"Those Meddling Neanderthals There",children:"TMNT"}),(0,sL.jsx)("option",{value:"Team X",children:"TMX"})]}),(0,sL.jsxs)("select",{class:"form-select","aria-label":"Default select example",onChange:function(e){return s(e.target.value)},children:[(0,sL.jsx)("option",{selected:!0,children:"Red Team"}),(0,sL.jsx)("option",{value:"All Time Zones",children:"ATZ"}),(0,sL.jsx)("option",{value:"Fun Near Carrots",children:"FNC"}),(0,sL.jsx)("option",{value:"Good Question",children:"GQ"}),(0,sL.jsx)("option",{value:"Living Out Ur Dreams",children:"LOUD"}),(0,sL.jsx)("option",{value:"Odyssey",children:"ODY"}),(0,sL.jsx)("option",{value:"Shrouded Cyclone",children:"SCN"}),(0,sL.jsx)("option",{value:"Six Eyes",children:"SE"}),(0,sL.jsx)("option",{value:"Those Meddling Neanderthals There",children:"TMNT"}),(0,sL.jsx)("option",{value:"Team X",children:"TMX"})]}),(0,sL.jsx)("input",{class:"form-control",type:"text",placeholder:"Tracker Link","aria-label":"default input example",onChange:function(e){return l(e.target.value)}})]}),(0,sL.jsx)(QL,{variant:"contained",onClick:function(){return function(e,t,n){return BM.apply(this,arguments)}(c,r,o)},children:" Submit "})]})]})}function YM(e){var n=v((0,t.useState)(!0),2),r=n[0],i=n[1],a=v((0,t.useState)("Sweater"),2),o=a[0],s=a[1];return(0,sL.jsxs)(sL.Fragment,{children:[(0,sL.jsxs)("header",{className:"App-header",children:[(0,sL.jsx)(sF,{}),(0,sL.jsx)(QL,{variant:"contained",onClick:function(){return console.log("disabled")},children:" MODS "})]}),(0,sL.jsxs)("main",{className:"App-main",children:[(0,sL.jsx)(fM,{control:(0,sL.jsx)(TM,{defaultChecked:!0}),label:o,onChange:function(){return i(!r),s(r?"Viber":"Sweater"),console.log(o),void console.log(r)}}),r?(0,sL.jsx)(rF,{team:e.team,setTeam:e.setTeam,setHome:e.setHome}):(0,sL.jsx)(XM,{}),(0,sL.jsx)(tF,{})]})]})}function XM(){var e=zM.map((function(e){return(0,sL.jsxs)("tr",{className:"tab-row",children:[(0,sL.jsxs)("td",{className:"tab-logo",children:[(0,sL.jsx)("img",{className:"teamLogo",src:e.Logo,alt:UM.Team+"logo"})," ",e.Team]}),(0,sL.jsx)("td",{className:"tab-cell",children:e.W}),(0,sL.jsx)("td",{className:"tab-cell",children:e.L}),(0,sL.jsx)("td",{className:"tab-cell",style:{color:nF(e.RD)},children:e.RD})]},e.Team)}));return(0,sL.jsxs)("table",{className:"tab",children:[(0,sL.jsx)("thead",{children:(0,sL.jsxs)("tr",{className:"tab-row",children:[(0,sL.jsx)("th",{className:"tab-cell",children:"Team"}),(0,sL.jsx)("th",{className:"tab-cell",children:"W"}),(0,sL.jsx)("th",{className:"tab-cell",children:"L"}),(0,sL.jsx)("th",{className:"tab-cell",children:"RD"})]})}),(0,sL.jsx)("tbody",{className:"tab-body",children:e})]})}function JM(e){console.log(e.team);var t=qM.get(e.team);return(0,sL.jsxs)(sL.Fragment,{children:[(0,sL.jsxs)("header",{className:"Team-header",children:[(0,sL.jsx)(QL,{className:"home-button",variant:"contained",onClick:function(){e.setHome(!0)},children:"Home"}),(0,sL.jsx)("img",{className:"team-img",src:t,alt:"logo"})]}),(0,sL.jsxs)("main",{className:"Team-main",children:[(0,sL.jsxs)("div",{className:"stats-container",children:[(0,sL.jsx)("p",{children:" Team Stats"}),(0,sL.jsx)(eF,{team:e.team})]}),(0,sL.jsx)("div",{className:"matches-container",children:(0,sL.jsx)($M,{team:e.team})})]})]})}function $M(e){var n=e.team,r=v((0,t.useState)([]),2),i=r[0],a=r[1];return(0,t.useEffect)((function(){function e(){return e=l(u().mark((function e(){var t,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JE(Z_(NM,"matches"),tT(ZE("greenTeam","==",n),ZE("redTeam","==",n))),e.next=3,CT(t);case 3:r=e.sent,i=[],r.forEach((function(e){i.push(e.data())})),a(i);case 7:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),(0,sL.jsx)(sL.Fragment,{children:i.map((function(e){return(0,sL.jsx)(ZM,{team1:e.redTeam,team2:e.greenTeam,team1score:e.redScore,team2score:e.greenScore,map:e.map})}))})}function ZM(e){return(0,sL.jsxs)("div",{className:"match-box",children:[(0,sL.jsxs)("p",{children:[HM.get(e.team1)," ",e.team1score," - ",HM.get(e.team2)," ",e.team2score]}),(0,sL.jsxs)("p",{children:[" ",e.map," "]})]})}function eF(e){var n=e.team,r=v((0,t.useState)([]),2),i=r[0],a=r[1];console.log("Six Eyes"==n),(0,t.useEffect)((function(){function e(){return e=l(u().mark((function e(){var t,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JE(Z_(NM,"players"),ZE("team","==",n)),console.log("teamsfsd",n),e.next=4,CT(t);case 4:r=e.sent,i=[],r.forEach((function(e){i.push(e.data())})),a(i);case 8:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),console.log(i);var o=i.map((function(e){return(0,sL.jsxs)("tr",{className:"tab-row",children:[(0,sL.jsx)("td",{className:"tab-cell",children:e.name}),(0,sL.jsx)("td",{className:"tab-cell",children:e.mp}),(0,sL.jsx)("td",{className:"tab-cell",children:Math.round(e.acs/e.mp*100)/100}),(0,sL.jsx)("td",{className:"tab-cell",children:Math.round(e.kills/e.mp*100)/100}),(0,sL.jsx)("td",{className:"tab-cell",children:Math.round(e.deaths/e.mp*100)/100}),(0,sL.jsx)("td",{className:"tab-cell",children:Math.round(e.assists/e.mp*100)/100}),(0,sL.jsx)("td",{className:"tab-cell",children:Math.round(100*e.hs/e.mp*100)/100}),(0,sL.jsx)("td",{className:"tab-cell",children:Math.round(e.fk/e.mp*100)/100}),(0,sL.jsx)("td",{className:"tab-cell",children:Math.round(e.fk/e.mp*100)/100})]},e.name)}));return(0,sL.jsxs)("table",{className:"team-tab",children:[(0,sL.jsx)("thead",{children:(0,sL.jsxs)("tr",{className:"tab-row",children:[(0,sL.jsx)("th",{className:"tab-cell",children:"Name"}),(0,sL.jsx)("th",{className:"tab-cell",children:"MP"}),(0,sL.jsx)("th",{className:"tab-cell",children:"ACS"}),(0,sL.jsx)("th",{className:"tab-cell",children:"K"}),(0,sL.jsx)("th",{className:"tab-cell",children:"D"}),(0,sL.jsx)("th",{className:"tab-cell",children:"A"}),(0,sL.jsx)("th",{className:"tab-cell",children:"HS"}),(0,sL.jsx)("th",{className:"tab-cell",children:"FD"}),(0,sL.jsx)("th",{className:"tab-cell",children:"FK"})]})}),(0,sL.jsx)("tbody",{children:o})]})}function tF(){var e=v((0,t.useState)([]),2),n=e[0],r=e[1],i=v((0,t.useState)(""),2),a=i[0],o=i[1];function s(e,t){return e.acs/e.mp<t.acs/t.mp?1:-1}return(0,t.useEffect)((function(){function e(){return e=l(u().mark((function e(){var t,n,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return""==a?t=JE(Z_(NM,"players"),ZE("mp",">=",1),rT("mp","desc")):(t=JE(Z_(NM,"players"),ZE("team","==",a)),console.log(a,t)),e.next=3,CT(t);case 3:n=e.sent,i=[],n.forEach((function(e){i.push(e.data())})),i.sort(s),r(i);case 8:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]),console.log(n.length),(0,sL.jsxs)(sL.Fragment,{children:[(0,sL.jsxs)("select",{class:"form-select","aria-label":"Default select example",onChange:function(e){return o(e.target.value)},children:[(0,sL.jsx)("option",{selected:!0,value:"",children:"All teams"}),(0,sL.jsx)("option",{value:"All Time Zones",children:"ATZ"}),(0,sL.jsx)("option",{value:"Fun Near Carrots",children:"FNC"}),(0,sL.jsx)("option",{value:"Good Question",children:"GQ"}),(0,sL.jsx)("option",{value:"Living Out Ur Dreams",children:"LOUD"}),(0,sL.jsx)("option",{value:"Odyssey",children:"ODY"}),(0,sL.jsx)("option",{value:"Shrouded Cyclone",children:"SCN"}),(0,sL.jsx)("option",{value:"Six Eyes",children:"SE"}),(0,sL.jsx)("option",{value:"Those Meddling Neanderthals There",children:"TMNT"}),(0,sL.jsx)("option",{value:"Team X",children:"TMX"}),(0,sL.jsx)("option",{value:"SUB",children:"Subs"})]}),(0,sL.jsx)(aF,{}),(0,sL.jsx)("div",{className:"player-table-container",children:n.map((function(e){return(0,sL.jsx)(oF,{player:e})}))})]})}function nF(e){return e>0?"#00ff00":"#ff0000"}function rF(e){var t=UM.map((function(t){return(0,sL.jsxs)("tr",{className:"tab-row",children:[(0,sL.jsxs)("td",{className:"tab-logo",onClick:function(){return n=t.Team,e.setTeam(VM.get(n)),void e.setHome(!1);var n},children:[(0,sL.jsx)("img",{className:"teamLogo",src:t.Logo,alt:UM.Team+"logo"})," ",t.Team]}),(0,sL.jsx)("td",{className:"tab-cell",children:t.W}),(0,sL.jsx)("td",{className:"tab-cell",children:t.L}),(0,sL.jsx)("td",{className:"tab-cell",style:{color:nF(t.RD)},children:t.RD})]},t.Team)}));return(0,sL.jsxs)("table",{className:"tab",children:[(0,sL.jsx)("thead",{children:(0,sL.jsxs)("tr",{className:"tab-row",children:[(0,sL.jsx)("th",{className:"tab-cell",children:"Team"}),(0,sL.jsx)("th",{className:"tab-cell",children:"W"}),(0,sL.jsx)("th",{className:"tab-cell",children:"L"}),(0,sL.jsx)("th",{className:"tab-cell",children:"RD"})]})}),(0,sL.jsx)("tbody",{className:"tab-body",children:t})]})}function iF(e){return Math.round(100*e)/100}function aF(){return(0,sL.jsxs)("div",{className:"player-label",children:[(0,sL.jsx)("div",{className:"player-team-name",children:(0,sL.jsx)("p",{className:"plabel",children:"Player"})}),(0,sL.jsx)("div",{className:"rank-display",children:(0,sL.jsx)("p",{className:"plabel",children:"Rank"})}),(0,sL.jsx)("div",{className:"mp-display",children:(0,sL.jsx)("p",{className:"plabel",children:"MP"})}),(0,sL.jsx)("div",{className:"agent-display",children:(0,sL.jsx)("p",{className:"plabel",children:"Top 3 Agents"})}),(0,sL.jsx)("div",{className:"acs-display",children:(0,sL.jsx)("p",{className:"plabel",children:" ACS "})}),(0,sL.jsx)("div",{className:"kda-display",children:(0,sL.jsx)("p",{className:"plabel",children:"K / D / A"})}),(0,sL.jsx)("div",{className:"pm-display",children:(0,sL.jsx)("p",{className:"plabel",children:" +/- "})}),(0,sL.jsx)("div",{className:"hs-display",children:(0,sL.jsx)("p",{className:"plabel",children:"HS%"})}),(0,sL.jsx)("div",{className:"fkfd-display",children:(0,sL.jsx)("p",{className:"plabel",children:"FK"})}),(0,sL.jsx)("div",{className:"fkfd-display",children:(0,sL.jsx)("p",{className:"plabel",children:"FD"})})]})}function oF(e){var t=e.player;var n=function(e){var t=Object.entries(e).sort((function(e,t){return t[1]-e[1]}));return t.filter((function(e){return e[1]>0})).slice(0,3).map((function(e){return e[0]}))}(t.agents_played);return console.log(MM),(0,sL.jsxs)("div",{className:"player-display",children:[(0,sL.jsx)("div",{className:"player-team-name",children:(0,sL.jsxs)("p",{className:"ptext",children:[HM.get(t.team)," ",t.name]})}),(0,sL.jsx)("div",{className:"rank-display",children:(0,sL.jsx)("img",{className:"rank-icon",src:GM.get(t.rank),alt:t.rank})}),(0,sL.jsx)("div",{className:"mp-display",children:(0,sL.jsx)("p",{className:"ptext",children:t.mp})}),(0,sL.jsx)("div",{className:"agent-display",children:n.map((function(e){return(0,sL.jsx)("img",{className:"agent-icon",src:KM.get(e),alt:e})}))}),(0,sL.jsx)("div",{className:"acs-display",children:(0,sL.jsx)("p",{className:"ptext",children:iF(t.acs/t.mp)})}),(0,sL.jsx)("div",{className:"kda-display",children:(0,sL.jsxs)("p",{className:"ptext",children:[iF(t.kills/t.mp)," / ",iF(t.deaths/t.mp)," / ",iF(t.assists/t.mp)]})}),(0,sL.jsx)("div",{className:"pm-display",children:(0,sL.jsx)("p",{className:"ptext",style:{color:nF(iF((t.kills-t.deaths)/t.mp))},children:iF((t.kills-t.deaths)/t.mp)})}),(0,sL.jsx)("div",{className:"hs-display",children:(0,sL.jsxs)("p",{className:"ptext",children:[iF(t.hs/t.mp*100),"%"]})}),(0,sL.jsx)("div",{className:"fkfd-display",children:(0,sL.jsx)("p",{className:"ptext",children:iF(t.fk/t.mp)})}),(0,sL.jsx)("div",{className:"fkfd-display",children:(0,sL.jsx)("p",{className:"ptext",children:iF(t.fd/t.mp)})})]})}function sF(){var e=v((0,t.useState)([]),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){function e(){return(e=l(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CT(Z_(NM,"upcoming"));case 2:t=e.sent,console.log(t),n=[],t.forEach((function(e){var t=e.data();console.log(t),n.push(t)})),r(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log(n),(0,sL.jsx)(sL.Fragment,{children:n.map((function(e){return(0,sL.jsx)(uF,{team1:e.team1,team2:e.team2,time:e.time})}))})}function uF(e){return(0,sL.jsxs)("div",{className:"upcoming",children:[(0,sL.jsxs)("p",{children:[e.team1," vs ",e.team2]}),(0,sL.jsx)("p",{children:e.time})]})}var cF=function(){var e=v((0,t.useState)(!0),2),n=e[0],r=e[1],i=v((0,t.useState)("Six Eyes"),2),a=i[0],o=i[1];return console.log(a),(0,sL.jsx)("div",{className:"App",children:n?(0,sL.jsx)(WM,{setTeam:o,setHome:r,team:a}):(0,sL.jsx)(JM,{team:a,setHome:r,setTeam:o})})},lF=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,sL.jsx)(t.StrictMode,{children:(0,sL.jsx)(cF,{})})),lF()}()}();
//# sourceMappingURL=main.0f6ca206.js.map